"use strict";var r9=Object.defineProperty,o9=Object.defineProperties,s9=Object.getOwnPropertyDescriptors,O3=Object.getOwnPropertySymbols,a9=Object.prototype.hasOwnProperty,l9=Object.prototype.propertyIsEnumerable,I3=(rt,be,R)=>be in rt?r9(rt,be,{enumerable:!0,configurable:!0,writable:!0,value:R}):rt[be]=R,A3=(rt,be)=>{for(var R in be||(be={}))a9.call(be,R)&&I3(rt,R,be[R]);if(O3)for(var R of O3(be))l9.call(be,R)&&I3(rt,R,be[R]);return rt},P3=(rt,be)=>o9(rt,s9(be));(self.webpackChunkassessments=self.webpackChunkassessments||[]).push([[179],{2011:(rt,be,R)=>{R.d(be,{Dh:()=>ce,GT:()=>pe,cc:()=>xe,hO:()=>Ge,on:()=>q,pX:()=>le,xv:()=>fe});var o=R(5e3),Q=R(9260),F=R(2122);rt=R.hmd(rt);const oe=["ngOnDestroy"],le=(me,Ae,je,Be={})=>new Proxy(me,{get:(nt,Oe)=>je.runOutsideAngular(()=>{var ot;if(me[Oe])return(null===(ot=null==Be?void 0:Be.spy)||void 0===ot?void 0:ot.get)&&Be.spy.get(Oe,me[Oe]),me[Oe];if(oe.indexOf(Oe)>-1)return()=>{};const Xe=Ae.toPromise().then(_e=>{const $=_e&&_e[Oe];return"function"==typeof $?$.bind(_e):$&&$.then?$.then(te=>je.run(()=>te)):je.run(()=>$)});return new Proxy(()=>{},{get:(_e,$)=>Xe[$],apply:(_e,$,te)=>Xe.then(de=>{var ye;const ke=de&&de(...te);return(null===(ye=null==Be?void 0:Be.spy)||void 0===ye?void 0:ye.apply)&&Be.spy.apply(Oe,te,ke),ke})})})}),pe=(me,Ae)=>{Ae.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Be=>{Object.defineProperty(me.prototype,Be,Object.getOwnPropertyDescriptor(je.prototype||je,Be))})})};class X{constructor(Ae){return Ae}}const ce=new o.OlP("angularfire2.app.options"),fe=new o.OlP("angularfire2.app.name");function q(me,Ae,je){const nt="object"==typeof je&&je||{};nt.name=nt.name||"string"==typeof je&&je||"[DEFAULT]";const ot=Q.Z.apps.filter(Xe=>Xe&&Xe.name===nt.name)[0]||Ae.runOutsideAngular(()=>Q.Z.initializeApp(me,nt));try{JSON.stringify(me)!==JSON.stringify(ot.options)&&G("error",`${ot.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return new X(ot)}const G=(me,...Ae)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[me](...Ae)},ie={provide:X,useFactory:q,deps:[ce,o.R0b,[new o.FiY,fe]]};let Ge=(()=>{class me{constructor(je){Q.Z.registerVersion("angularfire",F.q4.full,"core"),Q.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Q.Z.registerVersion("angular",o.q4F.full,je.toString())}static initializeApp(je,Be){return{ngModule:me,providers:[{provide:ce,useValue:je},{provide:fe,useValue:Be}]}}}return me.\u0275fac=function(je){return new(je||me)(o.LFG(o.Lbi))},me.\u0275mod=o.oAB({type:me}),me.\u0275inj=o.cJS({providers:[ie]}),me})();function xe(me,Ae,je,Be,nt){const[,Oe,ot]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===me)||[];if(Oe)return function Fe(me,Ae){try{return me.toString()===Ae.toString()}catch(je){return me===Ae}}(nt,ot)||(he("error",`${Ae} was already initialized on the ${je} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:nt,was:ot})),Oe;{const Xe=Be();return globalThis.\u0275AngularfireInstanceCache.push([me,Xe,nt]),Xe}}const qe=!!rt.hot,he=(me,...Ae)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[me](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(rt,be,R)=>{R.d(be,{q4:()=>wu,iC:()=>Ua,fc:()=>Su,HU:()=>Ec,vb:()=>Oi,JM:()=>Du});var o=R(5e3),Q=R(259),F=R(5861),oe=R(9681),le=R(2090),pe=R(4859),X=R(1877),ce=R(8766);const fe="@firebase/installations",q="0.6.1",ie=`w:${q}`,Ge="FIS_v2",Ae=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(T){return T instanceof le.ZR&&T.code.includes("request-failed")}function Be({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function nt(T){return{token:T.token,requestStatus:2,expiresIn:de(T.expiresIn),creationTime:Date.now()}}function Oe(T,x){return ot.apply(this,arguments)}function ot(){return(ot=(0,F.Z)(function*(T,x){const B=(yield x.json()).error;return Ae.create("request-failed",{requestName:T,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Xe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function _e(T,{refreshToken:x}){const A=Xe(T);return A.append("Authorization",function ye(T){return`${Ge} ${T}`}(x)),A}function $(T){return te.apply(this,arguments)}function te(){return(te=(0,F.Z)(function*(T){const x=yield T();return x.status>=500&&x.status<600?T():x})).apply(this,arguments)}function de(T){return Number(T.replace("s","000"))}function ke(T,x){return ae.apply(this,arguments)}function ae(){return(ae=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:x},{fid:A}){const B=Be(T),Y=Xe(T),ne=x.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const We={method:"POST",headers:Y,body:JSON.stringify({fid:A,authVersion:Ge,appId:T.appId,sdkVersion:ie})},ct=yield $(()=>fetch(B,We));if(ct.ok){const dt=yield ct.json();return{fid:dt.fid||A,registrationStatus:2,refreshToken:dt.refreshToken,authToken:nt(dt.authToken)}}throw yield Oe("Create Installation",ct)})).apply(this,arguments)}function kt(T){return new Promise(x=>{setTimeout(x,T)})}const Ri=/^[cdef][\w-]{21}$/;function Rt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const A=function Ci(T){return function Kt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Ri.test(A)?A:""}catch(T){return""}}function Jt(T){return`${T.appName}!${T.appId}`}const Fi=new Map;function Sn(T,x){const A=Jt(T);ii(A,x),function Wr(T,x){const A=function vr(){return!Po&&"BroadcastChannel"in self&&(Po=new BroadcastChannel("[Firebase] FID Change"),Po.onmessage=T=>{ii(T.data.key,T.data.fid)}),Po}();A&&A.postMessage({key:T,fid:x}),function Yl(){0===Fi.size&&Po&&(Po.close(),Po=null)}()}(A,x)}function ii(T,x){const A=Fi.get(T);if(A)for(const B of A)B(x)}let Po=null;const mn="firebase-installations-store";let qn=null;function St(){return qn||(qn=(0,ce.X3)("firebase-installations-database",1,{upgrade:(T,x)=>{0===x&&T.createObjectStore(mn)}})),qn}function Mi(T,x){return Un.apply(this,arguments)}function Un(){return(Un=(0,F.Z)(function*(T,x){const A=Jt(T),Y=(yield St()).transaction(mn,"readwrite"),ne=Y.objectStore(mn),De=yield ne.get(A);return yield ne.put(x,A),yield Y.done,(!De||De.fid!==x.fid)&&Sn(T,x.fid),x})).apply(this,arguments)}function Se(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,F.Z)(function*(T){const x=Jt(T),B=(yield St()).transaction(mn,"readwrite");yield B.objectStore(mn).delete(x),yield B.done})).apply(this,arguments)}function mi(T,x){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(T,x){const A=Jt(T),Y=(yield St()).transaction(mn,"readwrite"),ne=Y.objectStore(mn),De=yield ne.get(A),We=x(De);return void 0===We?yield ne.delete(A):yield ne.put(We,A),yield Y.done,We&&(!De||De.fid!==We.fid)&&Sn(T,We.fid),We})).apply(this,arguments)}function ln(T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,F.Z)(function*(T){let x;const A=yield mi(T.appConfig,B=>{const Y=il(B),ne=on(T,Y);return x=ne.registrationPromise,ne.installationEntry});return""===A.fid?{installationEntry:yield x}:{installationEntry:A,registrationPromise:x}})).apply(this,arguments)}function il(T){return ko(T||{fid:Rt(),registrationStatus:0})}function on(T,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ae.create("app-offline"))};const A={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},B=function ft(T,x){return vt.apply(this,arguments)}(T,A);return{installationEntry:A,registrationPromise:B}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Da(T)}:{installationEntry:x}}function vt(){return(vt=(0,F.Z)(function*(T,x){try{const A=yield ke(T,x);return Mi(T.appConfig,A)}catch(A){throw je(A)&&409===A.customData.serverCode?yield Se(T.appConfig):yield Mi(T.appConfig,{fid:x.fid,registrationStatus:0}),A}})).apply(this,arguments)}function Da(T){return kr.apply(this,arguments)}function kr(){return(kr=(0,F.Z)(function*(T){let x=yield Wt(T.appConfig);for(;1===x.registrationStatus;)yield kt(100),x=yield Wt(T.appConfig);if(0===x.registrationStatus){const{installationEntry:A,registrationPromise:B}=yield ln(T);return B||A}return x})).apply(this,arguments)}function Wt(T){return mi(T,x=>{if(!x)throw Ae.create("installation-not-found");return ko(x)})}function ko(T){return function lr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function _o(T,x){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,F.Z)(function*({appConfig:T,heartbeatServiceProvider:x},A){const B=Rn(T,A),Y=_e(T,A),ne=x.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const We={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:ie,appId:T.appId}})},ct=yield $(()=>fetch(B,We));if(ct.ok)return nt(yield ct.json());throw yield Oe("Generate Auth Token",ct)})).apply(this,arguments)}function Rn(T,{fid:x}){return`${Be(T)}/${x}/authTokens:generate`}function bt(T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,F.Z)(function*(T,x=!1){let A;const B=yield mi(T.appConfig,ne=>{if(!un(ne))throw Ae.create("not-registered");const De=ne.authToken;if(!x&&H(De))return ne;if(1===De.requestStatus)return A=it(T,x),ne;{if(!navigator.onLine)throw Ae.create("app-offline");const We=Z(ne);return A=Vt(T,We),We}});return A?yield A:B.authToken})).apply(this,arguments)}function it(T,x){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,F.Z)(function*(T,x){let A=yield ze(T.appConfig);for(;1===A.authToken.requestStatus;)yield kt(100),A=yield ze(T.appConfig);const B=A.authToken;return 0===B.requestStatus?bt(T,x):B})).apply(this,arguments)}function ze(T){return mi(T,x=>{if(!un(x))throw Ae.create("not-registered");return function we(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Vt(T,x){return jt.apply(this,arguments)}function jt(){return(jt=(0,F.Z)(function*(T,x){try{const A=yield _o(T,x),B=Object.assign(Object.assign({},x),{authToken:A});return yield Mi(T.appConfig,B),A}catch(A){if(!je(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const B=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Mi(T.appConfig,B)}else yield Se(T.appConfig);throw A}})).apply(this,arguments)}function un(T){return void 0!==T&&2===T.registrationStatus}function H(T){return 2===T.requestStatus&&!function j(T){const x=Date.now();return x<T.creationTime||T.creationTime+T.expiresIn<x+36e5}(T)}function Z(T){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:x})}function lt(){return(lt=(0,F.Z)(function*(T){const x=T,{installationEntry:A,registrationPromise:B}=yield ln(x);return B?B.catch(console.error):bt(x).catch(console.error),A.fid})).apply(this,arguments)}function dn(){return(dn=(0,F.Z)(function*(T,x=!1){const A=T;return yield _n(A),(yield bt(A,x)).token})).apply(this,arguments)}function _n(T){return jn.apply(this,arguments)}function jn(){return(jn=(0,F.Z)(function*(T){const{registrationPromise:x}=yield ln(T);x&&(yield x)})).apply(this,arguments)}function xa(T){return Ae.create("missing-app-config-values",{valueName:T})}const Di="installations",Yt=T=>{const x=T.getProvider("app").getImmediate(),A=function Ni(T){if(!T||!T.options)throw xa("App Configuration");if(!T.name)throw xa("App Name");const x=["projectId","apiKey","appId"];for(const A of x)if(!T.options[A])throw xa(A);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(x);return{app:x,appConfig:A,heartbeatServiceProvider:(0,oe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},bn=T=>{const x=T.getProvider("app").getImmediate(),A=(0,oe._getProvider)(x,Di).getImmediate();return{getId:()=>function re(T){return lt.apply(this,arguments)}(A),getToken:Y=>function Bt(T){return dn.apply(this,arguments)}(A,Y)}};(function Cr(){(0,oe._registerComponent)(new pe.wA(Di,Yt,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("installations-internal",bn,"PRIVATE"))})(),(0,oe.registerVersion)(fe,q),(0,oe.registerVersion)(fe,q,"esm2017");const Ro="@firebase/remote-config",Fn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Um{constructor(x,A,B,Y){this.client=x,this.storage=A,this.storageCache=B,this.logger=Y}isCachedDataFresh(x,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-A,Y=B<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Y}.`),Y}fetch(x){var A=this;return(0,F.Z)(function*(){const[B,Y]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Y&&A.isCachedDataFresh(x.cacheMaxAgeMillis,B))return Y;x.eTag=Y&&Y.eTag;const ne=yield A.client.fetch(x),De=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&De.push(A.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(De),ne})()}}function jm(T=navigator){return T.languages&&T.languages[0]||T.language}class yn{constructor(x,A,B,Y,ne,De){this.firebaseInstallations=x,this.sdkVersion=A,this.namespace=B,this.projectId=Y,this.apiKey=ne,this.appId=De}fetch(x){var A=this;return(0,F.Z)(function*(){const[B,Y]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},ct={sdk_version:A.sdkVersion,app_instance_id:B,app_instance_id_token:Y,app_id:A.appId,language_code:jm()},dt={method:"POST",headers:We,body:JSON.stringify(ct)},qt=fetch(De,dt),It=new Promise((Ui,ji)=>{x.signal.addEventListener(()=>{const Tl=new Error("The operation was aborted.");Tl.name="AbortError",ji(Tl)})});let Vi;try{yield Promise.race([qt,It]),Vi=yield qt}catch(Ui){let ji="fetch-client-network";throw"AbortError"===(null==Ui?void 0:Ui.name)&&(ji="fetch-timeout"),Fn.create(ji,{originalErrorMessage:null==Ui?void 0:Ui.message})}let Ln=Vi.status;const ja=Vi.headers.get("ETag")||void 0;let Ha,sa;if(200===Vi.status){let Ui;try{Ui=yield Vi.json()}catch(ji){throw Fn.create("fetch-client-parse",{originalErrorMessage:null==ji?void 0:ji.message})}Ha=Ui.entries,sa=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?Ln=500:"NO_CHANGE"===sa?Ln=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(Ha={}),304!==Ln&&200!==Ln)throw Fn.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:ja,config:Ha}})()}}class Dh{constructor(x,A){this.client=x,this.storage=A}fetch(x){var A=this;return(0,F.Z)(function*(){const B=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(x,B)})()}attemptFetch(x,{throttleEndTimeMillis:A,backoffCount:B}){var Y=this;return(0,F.Z)(function*(){yield function Eh(T,x){return new Promise((A,B)=>{const Y=Math.max(x-Date.now(),0),ne=setTimeout(A,Y);T.addEventListener(()=>{clearTimeout(ne),B(Fn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,A);try{const ne=yield Y.client.fetch(x);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Th(T){if(!(T instanceof le.ZR&&T.customData))return!1;const x=Number(T.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ne))throw ne;const De={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield Y.storage.setThrottleMetadata(De),Y.attemptFetch(x,De)}})()}}class qm{constructor(x,A,B,Y,ne){this.app=x,this._client=A,this._storageCache=B,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gs(T,x){const A=T.target.error||void 0;return Fn.create(x,{originalErrorMessage:A&&(null==A?void 0:A.message)})}const Ks="app_namespace_store";class zm{constructor(x,A,B,Y=function Pd(){return new Promise((T,x)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=B=>{x(gs(B,"storage-open"))},A.onsuccess=B=>{T(B.target.result)},A.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(A){x(Fn.create("storage-open",{originalErrorMessage:null==A?void 0:A.message}))}})}()){this.appId=x,this.appName=A,this.namespace=B,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var A=this;return(0,F.Z)(function*(){const B=yield A.openDbPromise;return new Promise((Y,ne)=>{const We=B.transaction([Ks],"readonly").objectStore(Ks),ct=A.createCompositeKey(x);try{const dt=We.get(ct);dt.onerror=qt=>{ne(gs(qt,"storage-get"))},dt.onsuccess=qt=>{const It=qt.target.result;Y(It?It.value:void 0)}}catch(dt){ne(Fn.create("storage-get",{originalErrorMessage:null==dt?void 0:dt.message}))}})})()}set(x,A){var B=this;return(0,F.Z)(function*(){const Y=yield B.openDbPromise;return new Promise((ne,De)=>{const ct=Y.transaction([Ks],"readwrite").objectStore(Ks),dt=B.createCompositeKey(x);try{const qt=ct.put({compositeKey:dt,value:A});qt.onerror=It=>{De(gs(It,"storage-set"))},qt.onsuccess=()=>{ne()}}catch(qt){De(Fn.create("storage-set",{originalErrorMessage:null==qt?void 0:qt.message}))}})})()}delete(x){var A=this;return(0,F.Z)(function*(){const B=yield A.openDbPromise;return new Promise((Y,ne)=>{const We=B.transaction([Ks],"readwrite").objectStore(Ks),ct=A.createCompositeKey(x);try{const dt=We.delete(ct);dt.onerror=qt=>{ne(gs(qt,"storage-delete"))},dt.onsuccess=()=>{Y()}}catch(dt){ne(Fn.create("storage-delete",{originalErrorMessage:null==dt?void 0:dt.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class kd{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,F.Z)(function*(){const A=x.storage.getLastFetchStatus(),B=x.storage.getLastSuccessfulFetchTimestampMillis(),Y=x.storage.getActiveConfig(),ne=yield A;ne&&(x.lastFetchStatus=ne);const De=yield B;De&&(x.lastSuccessfulFetchTimestampMillis=De);const We=yield Y;We&&(x.activeConfig=We)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Rd(){return uu.apply(this,arguments)}function uu(){return(uu=(0,F.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(T){return!1}})).apply(this,arguments)}!function $m(){(0,oe._registerComponent)(new pe.wA("remote-config",function T(x,{instanceIdentifier:A}){const B=x.getProvider("app").getImmediate(),Y=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,le.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:ne,apiKey:De,appId:We}=B.options;if(!ne)throw Fn.create("registration-project-id");if(!De)throw Fn.create("registration-api-key");if(!We)throw Fn.create("registration-app-id");const ct=new zm(We,B.name,A=A||"firebase"),dt=new kd(ct),qt=new X.Yd(Ro);qt.logLevel=X.in.ERROR;const It=new yn(Y,oe.SDK_VERSION,A,ne,De,We),Vi=new Dh(It,ct),Ln=new Um(Vi,ct,dt,qt),ja=new qm(B,Ln,dt,ct,qt);return function fn(T){const x=(0,le.m9)(T);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ja),ja},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ro,"0.4.1"),(0,oe.registerVersion)(Ro,"0.4.1","esm2017")}();const Fd="/firebase-messaging-sw.js",bs="/firebase-cloud-messaging-push-scope",Kl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qs="google.c.a.c_id",Sh="google.c.a.c_l",Nd="google.c.a.ts",Qi="google.c.a.e";var Ia=(()=>{return(T=Ia||(Ia={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Ia;var T})();function Er(T){const x=new Uint8Array(T);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ol(T){const A=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(A),Y=new Uint8Array(B.length);for(let ne=0;ne<B.length;++ne)Y[ne]=B.charCodeAt(ne);return Y}const Zn="fcm_token_details_db",Ld="fcm_token_object_Store";function Jr(T){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,F.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Zn))return null;let x=null;return(yield(0,ce.X3)(Zn,5,{upgrade:(B=(0,F.Z)(function*(Y,ne,De,We){var ct;if(ne<2||!Y.objectStoreNames.contains(Ld))return;const dt=We.objectStore(Ld),qt=yield dt.index("fcmSenderId").get(T);if(yield dt.clear(),qt)if(2===ne){const It=qt;if(!It.auth||!It.p256dh||!It.endpoint)return;x={token:It.fcmToken,createTime:null!==(ct=It.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:Er(It.vapidKey)}}}else if(3===ne){const It=qt;x={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Er(It.auth),p256dh:Er(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Er(It.vapidKey)}}}else if(4===ne){const It=qt;x={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Er(It.auth),p256dh:Er(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Er(It.vapidKey)}}}}),function(ne,De,We,ct){return B.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Zn),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),al(x)?x:null;var B}),Bd.apply(this,arguments)}function al(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:x}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const ys="firebase-messaging-store";let Jl=null;function zn(){return Jl||(Jl=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(T,x)=>{0===x&&T.createObjectStore(ys)}})),Jl}function Vd(T){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,F.Z)(function*(T){const x=vs(T),B=yield(yield zn()).transaction(ys).objectStore(ys).get(x);if(B)return B;{const Y=yield Jr(T.appConfig.senderId);if(Y)return yield Li(T,Y),Y}})).apply(this,arguments)}function Li(T,x){return cr.apply(this,arguments)}function cr(){return(cr=(0,F.Z)(function*(T,x){const A=vs(T),Y=(yield zn()).transaction(ys,"readwrite");return yield Y.objectStore(ys).put(x,A),yield Y.done,x})).apply(this,arguments)}function Xl(T){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,F.Z)(function*(T){const x=vs(T),B=(yield zn()).transaction(ys,"readwrite");yield B.objectStore(ys).delete(x),yield B.done})).apply(this,arguments)}function vs({appConfig:T}){return T.appId}const In=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Co(T,x){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,F.Z)(function*(T,x){const A=yield ec(T),B=ll(x),Y={method:"POST",headers:A,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(Xr(T.appConfig),Y)).json()}catch(De){throw In.create("token-subscribe-failed",{errorInfo:null==De?void 0:De.toString()})}if(ne.error)throw In.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw In.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Rr(T,x){return ws.apply(this,arguments)}function ws(){return(ws=(0,F.Z)(function*(T,x){const A=yield ec(T),B=ll(x.subscriptionOptions),Y={method:"PATCH",headers:A,body:JSON.stringify(B)};let ne;try{ne=yield(yield fetch(`${Xr(T.appConfig)}/${x.token}`,Y)).json()}catch(De){throw In.create("token-update-failed",{errorInfo:null==De?void 0:De.toString()})}if(ne.error)throw In.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw In.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Pa(T,x){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,F.Z)(function*(T,x){const B={method:"DELETE",headers:yield ec(T)};try{const ne=yield(yield fetch(`${Xr(T.appConfig)}/${x}`,B)).json();if(ne.error)throw In.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw In.create("token-unsubscribe-failed",{errorInfo:null==Y?void 0:Y.toString()})}})).apply(this,arguments)}function Xr({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function ec(T){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*({appConfig:T,installations:x}){const A=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function ll({p256dh:T,auth:x,endpoint:A,vapidKey:B}){const Y={web:{endpoint:A,auth:x,p256dh:T}};return B!==Kl&&(Y.web.applicationPubKey=B),Y}const tc=6048e5;function nc(T){return ur.apply(this,arguments)}function ur(){return(ur=(0,F.Z)(function*(T){const x=yield Tr(T.swRegistration,T.vapidKey),A={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:x.endpoint,auth:Er(x.getKey("auth")),p256dh:Er(x.getKey("p256dh"))},B=yield Vd(T.firebaseDependencies);if(B){if(ul(B.subscriptionOptions,A))return Date.now()>=B.createTime+tc?ic(T,{token:B.token,createTime:Date.now(),subscriptionOptions:A}):B.token;try{yield Pa(T.firebaseDependencies,B.token)}catch(Y){console.warn(Y)}return cl(T.firebaseDependencies,A)}return cl(T.firebaseDependencies,A)})).apply(this,arguments)}function Te(T){return en.apply(this,arguments)}function en(){return(en=(0,F.Z)(function*(T){const x=yield Vd(T.firebaseDependencies);x&&(yield Pa(T.firebaseDependencies,x.token),yield Xl(T.firebaseDependencies));const A=yield T.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function ic(T,x){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,F.Z)(function*(T,x){try{const A=yield Rr(T.firebaseDependencies,x),B=Object.assign(Object.assign({},x),{token:A,createTime:Date.now()});return yield Li(T.firebaseDependencies,B),A}catch(A){throw yield Te(T),A}})).apply(this,arguments)}function cl(T,x){return Js.apply(this,arguments)}function Js(){return(Js=(0,F.Z)(function*(T,x){const B={token:yield Co(T,x),createTime:Date.now(),subscriptionOptions:x};return yield Li(T,B),B.token})).apply(this,arguments)}function Tr(T,x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(T,x){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ol(x)})})).apply(this,arguments)}function ul(T,x){return x.vapidKey===T.vapidKey&&x.endpoint===T.endpoint&&x.auth===T.auth&&x.p256dh===T.p256dh}function rc(T){const x={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function oc(T,x){if(!x.notification)return;T.notification={};const A=x.notification.title;A&&(T.notification.title=A);const B=x.notification.body;B&&(T.notification.body=B);const Y=x.notification.image;Y&&(T.notification.image=Y);const ne=x.notification.icon;ne&&(T.notification.icon=ne)}(x,T),function ka(T,x){!x.data||(T.data=x.data)}(x,T),function dl(T,x){var A,B,Y,ne,De;if(!x.fcmOptions&&!(null===(A=x.notification)||void 0===A?void 0:A.click_action))return;T.fcmOptions={};const We=null!==(Y=null===(B=x.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Y?Y:null===(ne=x.notification)||void 0===ne?void 0:ne.click_action;We&&(T.fcmOptions.link=We);const ct=null===(De=x.fcmOptions)||void 0===De?void 0:De.analytics_label;ct&&(T.fcmOptions.analyticsLabel=ct)}(x,T),x}function gi(T){return"object"==typeof T&&!!T&&Qs in T}function eo(T,x){const A=[];for(let B=0;B<T.length;B++)A.push(T.charAt(B)),B<x.length&&A.push(x.charAt(B));return A.join("")}function Fr(T){return In.create("missing-app-config-values",{valueName:T})}eo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class to{constructor(x,A,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function sc(T){if(!T||!T.options)throw Fr("App Configuration Object");if(!T.name)throw Fr("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:A}=T;for(const B of x)if(!A[B])throw Fr(B);return{appName:T.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Y,installations:A,analyticsProvider:B}}_delete(){return Promise.resolve()}}function du(T){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,F.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Fd,{scope:bs}),T.swRegistration.update().catch(()=>{})}catch(x){throw In.create("failed-service-worker-registration",{browserErrorMessage:null==x?void 0:x.message})}})).apply(this,arguments)}function Ud(T,x){return fl.apply(this,arguments)}function fl(){return(fl=(0,F.Z)(function*(T,x){if(!x&&!T.swRegistration&&(yield du(T)),x||!T.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");T.swRegistration=x}})).apply(this,arguments)}function fu(T,x){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,F.Z)(function*(T,x){x?T.vapidKey=x:T.vapidKey||(T.vapidKey=Kl)})).apply(this,arguments)}function ea(){return(ea=(0,F.Z)(function*(T,x){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield fu(T,null==x?void 0:x.vapidKey),yield Ud(T,null==x?void 0:x.serviceWorkerRegistration),nc(T)})).apply(this,arguments)}function hl(T,x,A){return pl.apply(this,arguments)}function pl(){return(pl=(0,F.Z)(function*(T,x,A){const B=ta(x);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:A[Qs],message_name:A[Sh],message_time:A[Nd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(T){switch(T){case Ia.NOTIFICATION_CLICKED:return"notification_open";case Ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ml(){return(ml=(0,F.Z)(function*(T,x){const A=x.data;if(!A.isFirebaseMessaging)return;T.onMessageHandler&&A.messageType===Ia.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(rc(A)):T.onMessageHandler.next(rc(A)));const B=A.data;gi(B)&&"1"===B[Qi]&&(yield hl(T,A.messageType,B))})).apply(this,arguments)}const pu="@firebase/messaging",ac=T=>{const x=new to(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Oh(T,x){return ml.apply(this,arguments)}(x,A)),x},jd=T=>{const x=T.getProvider("messaging").getImmediate();return{getToken:B=>function hu(T,x){return ea.apply(this,arguments)}(x,B)}};function li(){return xi.apply(this,arguments)}function xi(){return(xi=(0,F.Z)(function*(){try{yield(0,le.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ih(){(0,oe._registerComponent)(new pe.wA("messaging",ac,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("messaging-internal",jd,"PRIVATE")),(0,oe.registerVersion)(pu,"0.12.1"),(0,oe.registerVersion)(pu,"0.12.1","esm2017")}();const Es="analytics",uc="firebase_id",qd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vo="https://www.googletagmanager.com/gtag/js",Wn=new X.Yd("@firebase/analytics");function Ph(T){return Promise.all(T.map(x=>x.catch(A=>A)))}function zd(T,x){const A=document.createElement("script");A.src=`${Vo}?l=${T}&id=${x}`,A.async=!0,document.head.appendChild(A)}function hc(T,x,A,B,Y,ne){return $d.apply(this,arguments)}function $d(){return($d=(0,F.Z)(function*(T,x,A,B,Y,ne){const De=B[Y];try{if(De)yield x[De];else{const ct=(yield Ph(A)).find(dt=>dt.measurementId===Y);ct&&(yield x[ct.appId])}}catch(We){Wn.error(We)}T("config",Y,ne)})).apply(this,arguments)}function bl(T,x,A,B,Y){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,F.Z)(function*(T,x,A,B,Y){try{let ne=[];if(Y&&Y.send_to){let De=Y.send_to;Array.isArray(De)||(De=[De]);const We=yield Ph(A);for(const ct of De){const dt=We.find(It=>It.measurementId===ct),qt=dt&&x[dt.appId];if(!qt){ne=[];break}ne.push(qt)}}0===ne.length&&(ne=Object.values(x)),yield Promise.all(ne),T("event",B,Y||{})}catch(ne){Wn.error(ne)}})).apply(this,arguments)}function Ft(T){const x=window.document.getElementsByTagName("script");for(const A of Object.values(x))if(A.src&&A.src.includes(Vo)&&A.src.includes(T))return A;return null}const He=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zd=new class vn{constructor(x={},A=1e3){this.throttleMetadata=x,this.intervalMillis=A}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,A){this.throttleMetadata[x]=A}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Fa(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function gu(T){return yl.apply(this,arguments)}function yl(){return(yl=(0,F.Z)(function*(T){var x;const{appId:A,apiKey:B}=T,Y={method:"GET",headers:Fa(B)},ne=qd.replace("{app-id}",A),De=yield fetch(ne,Y);if(200!==De.status&&304!==De.status){let We="";try{const ct=yield De.json();(null===(x=ct.error)||void 0===x?void 0:x.message)&&(We=ct.error.message)}catch(ct){}throw He.create("config-fetch-failed",{httpStatus:De.status,responseMessage:We})}return De.json()})).apply(this,arguments)}function Rh(T){return mc.apply(this,arguments)}function mc(){return(mc=(0,F.Z)(function*(T,x=Zd,A){const{appId:B,apiKey:Y,measurementId:ne}=T.options;if(!B)throw He.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:B};throw He.create("no-api-key")}const De=x.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new _c;return setTimeout((0,F.Z)(function*(){We.abort()}),void 0!==A?A:6e4),Na({appId:B,apiKey:Y,measurementId:ne},De,We,x)})).apply(this,arguments)}function Na(T,x,A){return et.apply(this,arguments)}function et(){return(et=(0,F.Z)(function*(T,{throttleEndTimeMillis:x,backoffCount:A},B,Y=Zd){var ne;const{appId:De,measurementId:We}=T;try{yield Zm(B,x)}catch(ct){if(We)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${null==ct?void 0:ct.message}]`),{appId:De,measurementId:We};throw ct}try{const ct=yield gu(T);return Y.deleteThrottleMetadata(De),ct}catch(ct){const dt=ct;if(!gc(dt)){if(Y.deleteThrottleMetadata(De),We)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${null==dt?void 0:dt.message}]`),{appId:De,measurementId:We};throw ct}const qt=503===Number(null===(ne=null==dt?void 0:dt.customData)||void 0===ne?void 0:ne.httpStatus)?(0,le.$s)(A,Y.intervalMillis,30):(0,le.$s)(A,Y.intervalMillis),It={throttleEndTimeMillis:Date.now()+qt,backoffCount:A+1};return Y.setThrottleMetadata(De,It),Wn.debug(`Calling attemptFetch again in ${qt} millis`),Na(T,It,B,Y)}})).apply(this,arguments)}function Zm(T,x){return new Promise((A,B)=>{const Y=Math.max(x-Date.now(),0),ne=setTimeout(A,Y);T.addEventListener(()=>{clearTimeout(ne),B(He.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function gc(T){if(!(T instanceof le.ZR&&T.customData))return!1;const x=Number(T.customData.httpStatus);return 429===x||500===x||503===x||504===x}class _c{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ds,dr;function xs(){return(xs=(0,F.Z)(function*(T,x,A,B,Y){if(Y&&Y.global)T("event",A,B);else{const ne=yield x;T("event",A,Object.assign(Object.assign({},B),{send_to:ne}))}})).apply(this,arguments)}function Cl(T){dr=T}function Uo(T){Ds=T}function Bi(){return $n.apply(this,arguments)}function $n(){return($n=(0,F.Z)(function*(){if(!(0,le.hl)())return Wn.warn(He.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(T){return Wn.warn(He.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function vc(){return(vc=(0,F.Z)(function*(T,x,A,B,Y,ne,De){var We;const ct=Rh(T);ct.then(Ln=>{A[Ln.measurementId]=Ln.appId,T.options.measurementId&&Ln.measurementId!==T.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>Wn.error(Ln)),x.push(ct);const dt=Bi().then(Ln=>{if(Ln)return B.getId()}),[qt,It]=yield Promise.all([ct,dt]);Ft(ne)||zd(ne,qt.measurementId),dr&&(Y("consent","default",dr),Cl(void 0)),Y("js",new Date);const Vi=null!==(We=null==De?void 0:De.config)&&void 0!==We?We:{};return Vi.origin="firebase",Vi.update=!0,null!=It&&(Vi[uc]=It),Y("config",qt.measurementId,Vi),Ds&&(Y("set",Ds),Uo(void 0)),qt.measurementId})).apply(this,arguments)}class wn{constructor(x){this.app=x}_delete(){return delete cn[this.app.options.appId],Promise.resolve()}}let cn={},Jn=[];const no={};let Xi,An,jo="dataLayer",fr=!1;function Nh(T,x,A){!function bu(){const T=[];if((0,le.ru)()&&T.push("This is a browser extension environment."),(0,le.zI)()||T.push("Cookies are not available."),T.length>0){const x=T.map((B,Y)=>`(${Y+1}) ${B}`).join(" "),A=He.create("invalid-analytics-context",{errorInfo:x});Wn.warn(A.message)}}();const B=T.options.appId;if(!B)throw He.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw He.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cn[B])throw He.create("already-exists",{id:B});if(!fr){!function fc(T){let x=[];Array.isArray(window[T])?x=window[T]:window[T]=x}(jo);const{wrappedGtag:ne,gtagCore:De}=function pc(T,x,A,B,Y){let ne=function(...De){window[B].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function kh(T,x,A,B){function ne(){return(ne=(0,F.Z)(function*(De,We,ct){try{"event"===De?yield bl(T,x,A,We,ct):"config"===De?yield hc(T,x,A,B,We,ct):"consent"===De?T("consent","update",ct):T("set",We)}catch(dt){Wn.error(dt)}})).apply(this,arguments)}return function Y(De,We,ct){return ne.apply(this,arguments)}}(ne,T,x,A),{gtagCore:ne,wrappedGtag:window[Y]}}(cn,Jn,no,jo,"gtag");An=ne,Xi=De,fr=!0}return cn[B]=function La(T,x,A,B,Y,ne,De){return vc.apply(this,arguments)}(T,Jn,no,x,Xi,jo,A),new wn(T)}function yu(){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(T){return!1}})).apply(this,arguments)}const Cc="@firebase/analytics";!function wo(){(0,oe._registerComponent)(new pe.wA(Es,(x,{options:A})=>Nh(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,oe._registerComponent)(new pe.wA("analytics-internal",function T(x){try{const A=x.getProvider(Es).getImmediate();return{logEvent:(B,Y,ne)=>function Os(T,x,A,B){T=(0,le.m9)(T),function Cn(T,x,A,B,Y){return xs.apply(this,arguments)}(An,cn[T.app.options.appId],x,A,B).catch(Y=>Wn.error(Y))}(A,B,Y,ne)}}catch(A){throw He.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,oe.registerVersion)(Cc,"0.9.1"),(0,oe.registerVersion)(Cc,"0.9.1","esm2017")}();var Wd=R(4408),io=R(7565);const Bh=new class Cu extends io.v{}(class vu extends Wd.o{constructor(x,A){super(x,A),this.scheduler=x,this.work=A}schedule(x,A=0){return A>0?super.schedule(x,A):(this.delay=A,this.state=x,this.scheduler.flush(this),this)}execute(x,A){return A>0||this.closed?super.execute(x,A):this._execute(x,A)}requestAsyncId(x,A,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(x,A,B):x.flush(this)}});var Yd=R(4986),Km=R(8505),wl=R(5363),wt=R(9468);const wu=new o.GfV("7.2.1"),Dr="__angularfire_symbol__analyticsIsSupportedValue",Ba="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",Mu="__angularfire_symbol__remoteConfigIsSupported",Eu="__angularfire_symbol__messagingIsSupportedValue",Ml="__angularfire_symbol__messagingIsSupported";function Du(T,x,A){if(x){if(1===x.length)return x[0];const ne=x.filter(De=>De.app===A);if(1===ne.length)return ne[0]}return A.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=yu().then(T=>globalThis[Dr]=T).catch(()=>globalThis[Dr]=!1)),globalThis[Ml]||(globalThis[Ml]=li().then(T=>globalThis[Eu]=T).catch(()=>globalThis[Eu]=!1)),globalThis[Mu]||(globalThis[Mu]=Rd().then(T=>globalThis[Va]=T).catch(()=>globalThis[Va]=!1));const Oi=(T,x)=>{const A=x?[x]:(0,Q.C6)(),B=[];return A.forEach(Y=>{Y.container.getProvider(T).instances.forEach(De=>{B.includes(De)||B.push(De)})}),B};function ui(){}class wc{constructor(x,A=Bh){this.zone=x,this.delegate=A}now(){return this.delegate.now()}schedule(x,A,B){const Y=this.zone;return this.delegate.schedule(function(De){Y.runGuarded(()=>{x.apply(this,[De])})},A,B)}}class Mc{constructor(x){this.zone=x,this.task=null}call(x,A){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ui,{},ui,ui)),A.pipe((0,Km.b)({next:B,complete:B,error:B})).subscribe(x).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ec=(()=>{class T{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new wc(Zone.current)),this.insideAngular=A.run(()=>new wc(Zone.current,Yd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(A){return new(A||T)(o.LFG(o.R0b))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Is(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Su(T){return T.pipe((0,wl.Q)(Is().outsideAngular))}function Ua(T){return Is(),function oa(T){return function(A){return(A=A.lift(new Mc(T.ngZone))).pipe((0,wt.R)(T.outsideAngular),(0,wl.Q)(T.insideAngular))}}(Is())(T)}},2090:(rt,be,R)=>{R.d(be,{$s:()=>ze,BH:()=>nt,G6:()=>Kt,L:()=>ce,LL:()=>Fi,Pz:()=>Be,Sg:()=>Oe,UG:()=>_e,US:()=>pe,ZB:()=>G,ZR:()=>Jt,aH:()=>je,b$:()=>de,eu:()=>at,hl:()=>Ri,jU:()=>$,m9:()=>un,ne:()=>Pr,pd:()=>Ki,r3:()=>Yr,ru:()=>te,tV:()=>fe,uI:()=>Xe,vZ:()=>Mi,w1:()=>ke,xO:()=>Ei,xb:()=>qn,z$:()=>ot,zI:()=>Rt,zd:()=>mi});const oe=function(H){const j=[];let Z=0;for(let we=0;we<H.length;we++){let re=H.charCodeAt(we);re<128?j[Z++]=re:re<2048?(j[Z++]=re>>6|192,j[Z++]=63&re|128):55296==(64512&re)&&we+1<H.length&&56320==(64512&H.charCodeAt(we+1))?(re=65536+((1023&re)<<10)+(1023&H.charCodeAt(++we)),j[Z++]=re>>18|240,j[Z++]=re>>12&63|128,j[Z++]=re>>6&63|128,j[Z++]=63&re|128):(j[Z++]=re>>12|224,j[Z++]=re>>6&63|128,j[Z++]=63&re|128)}return j},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,j){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let re=0;re<H.length;re+=3){const lt=H[re],Bt=re+1<H.length,dn=Bt?H[re+1]:0,_n=re+2<H.length,jn=_n?H[re+2]:0;let Qn=(15&dn)<<2|jn>>6,$s=63&jn;_n||($s=64,Bt||(Qn=64)),we.push(Z[lt>>2],Z[(3&lt)<<4|dn>>4],Z[Qn],Z[$s])}return we.join("")},encodeString(H,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(H):this.encodeByteArray(oe(H),j)},decodeString(H,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(H):function(H){const j=[];let Z=0,we=0;for(;Z<H.length;){const re=H[Z++];if(re<128)j[we++]=String.fromCharCode(re);else if(re>191&&re<224){const lt=H[Z++];j[we++]=String.fromCharCode((31&re)<<6|63&lt)}else if(re>239&&re<365){const _n=((7&re)<<18|(63&H[Z++])<<12|(63&H[Z++])<<6|63&H[Z++])-65536;j[we++]=String.fromCharCode(55296+(_n>>10)),j[we++]=String.fromCharCode(56320+(1023&_n))}else{const lt=H[Z++],Bt=H[Z++];j[we++]=String.fromCharCode((15&re)<<12|(63&lt)<<6|63&Bt)}}return j.join("")}(this.decodeStringToByteArray(H,j))},decodeStringToByteArray(H,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let re=0;re<H.length;){const lt=Z[H.charAt(re++)],dn=re<H.length?Z[H.charAt(re)]:0;++re;const jn=re<H.length?Z[H.charAt(re)]:64;++re;const Ot=re<H.length?Z[H.charAt(re)]:64;if(++re,null==lt||null==dn||null==jn||null==Ot)throw Error();we.push(lt<<2|dn>>4),64!==jn&&(we.push(dn<<4&240|jn>>2),64!==Ot&&we.push(jn<<6&192|Ot))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){const j=oe(H);return pe.encodeByteArray(j,!0)}(H).replace(/\./g,"")},fe=function(H){try{return pe.decodeString(H,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G(H,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!ie(Z)||(H[Z]=G(H[Z],j[Z]));return H}function ie(H){return"__proto__"!==H}const he=()=>{try{return function Ge(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if("undefined"==typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Z){return}const j=H&&fe(H[1]);return j&&JSON.parse(j)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},je=()=>{var H;return null===(H=he())||void 0===H?void 0:H.config},Be=H=>{var j;return null===(j=he())||void 0===j?void 0:j[`_${H}`]};class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,we))}}}function Oe(H,j){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=j||"demo-project",re=H.iat||0,lt=H.sub||H.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:re,exp:re+3600,auth_time:re,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Bt)),""].join(".")}function ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function _e(){var H;const j=null===(H=he())||void 0===H?void 0:H.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function $(){return"object"==typeof self&&self.self===self}function te(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const H=ot();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Kt(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ri(){try{return"object"==typeof indexedDB}catch(H){return!1}}function at(){return new Promise((H,j)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(we);re.onsuccess=()=>{re.result.close(),Z||self.indexedDB.deleteDatabase(we),H(!0)},re.onupgradeneeded=()=>{Z=!1},re.onerror=()=>{var lt;j((null===(lt=re.error)||void 0===lt?void 0:lt.message)||"")}}catch(Z){j(Z)}})}function Rt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Jt extends Error{constructor(j,Z,we){super(Z),this.code=j,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}}class Fi{constructor(j,Z,we){this.service=j,this.serviceName=Z,this.errors=we}create(j,...Z){const we=Z[0]||{},re=`${this.service}/${j}`,lt=this.errors[j],Bt=lt?function Sn(H,j){return H.replace(wi,(Z,we)=>{const re=j[we];return null!=re?String(re):`<${we}?>`})}(lt,we):"Error";return new Jt(re,`${this.serviceName}: ${Bt} (${re}).`,we)}}const wi=/\{\$([^}]+)}/g;function Yr(H,j){return Object.prototype.hasOwnProperty.call(H,j)}function qn(H){for(const j in H)if(Object.prototype.hasOwnProperty.call(H,j))return!1;return!0}function Mi(H,j){if(H===j)return!0;const Z=Object.keys(H),we=Object.keys(j);for(const re of Z){if(!we.includes(re))return!1;const lt=H[re],Bt=j[re];if(Un(lt)&&Un(Bt)){if(!Mi(lt,Bt))return!1}else if(lt!==Bt)return!1}for(const re of we)if(!Z.includes(re))return!1;return!0}function Un(H){return null!==H&&"object"==typeof H}function Ei(H){const j=[];for(const[Z,we]of Object.entries(H))Array.isArray(we)?we.forEach(re=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(re))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return j.length?"&"+j.join("&"):""}function mi(H){const j={};return H.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[re,lt]=we.split("=");j[decodeURIComponent(re)]=decodeURIComponent(lt)}}),j}function Ki(H){const j=H.indexOf("?");if(!j)return"";const Z=H.indexOf("#",j);return H.substring(j,Z>0?Z:void 0)}function Pr(H,j){const Z=new il(H,j);return Z.subscribe.bind(Z)}class il{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(we=>{this.error(we)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,we){let re;if(void 0===j&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");re=function ft(H,j){if("object"!=typeof H||null===H)return!1;for(const Z of j)if(Z in H&&"function"==typeof H[Z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Z,complete:we},void 0===re.next&&(re.next=vt),void 0===re.error&&(re.error=vt),void 0===re.complete&&(re.complete=vt);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(Bt){}}),this.observers.push(re),lt}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}function ze(H,j=1e3,Z=2){const we=j*Math.pow(Z,H),re=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+re)}function un(H){return H&&H._delegate?H._delegate:H}},7458:(rt,be,R)=>{var o=R(5e3);let Q=null;function F(){return Q}const X=new o.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function fe(){return(0,o.LFG)(G)}()},providedIn:"platform"}),n})();const q=new o.OlP("Location Initialized");let G=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ie()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ie()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ge(){return new G((0,o.LFG)(X))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Fe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function me(n){const t=(0,o.LFG)(X).location;return new je((0,o.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ae=new o.OlP("appBaseHref");let je=(()=>{class n extends he{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+qe(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+qe(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(Ae,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends he{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+qe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+qe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ce),o.LFG(Ae,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),nt=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Fe(Xe(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qe(i))}normalize(e){return n.stripTrailingSlash(function ot(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qe(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=qe,n.joinWithSlash=xe,n.stripTrailingSlash=Fe,n.\u0275fac=function(e){return new(e||n)(o.LFG(he),o.LFG(ce))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Oe(){return new nt((0,o.LFG)(he),(0,o.LFG)(ce))}()},providedIn:"root"}),n})();function Xe(n){return n.replace(/\/index.html$/,"")}var $=(()=>(($=$||{})[$.Decimal=0]="Decimal",$[$.Percent=1]="Percent",$[$.Currency=2]="Currency",$[$.Scientific=3]="Scientific",$))(),te=(()=>((te=te||{})[te.Zero=0]="Zero",te[te.One=1]="One",te[te.Two=2]="Two",te[te.Few=3]="Few",te[te.Many=4]="Many",te[te.Other=5]="Other",te))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function ii(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===ae.CurrencyDecimal)return e[o.wAp.NumberSymbols][ae.Decimal];if(t===ae.CurrencyGroup)return e[o.wAp.NumberSymbols][ae.Group]}return i}const Yr=o.kL8,jn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Qr(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class gn{}let Fn=(()=>{class n extends gn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Yr(i||this.locale)(e)){case te.Zero:return"zero";case te.One:return"one";case te.Two:return"two";case te.Few:return"few";case te.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function bo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let si=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ws{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ws(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,u),Ys(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ys(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ys(n,t){n.context.$implicit=t.item}let Xt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){su("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){su("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function su(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Oa{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ai=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Mr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Oa(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ai,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),au=(()=>{class n{constructor(e,i,r){r._addDefault(new Oa(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ai,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),lu=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function yn(n,t){return new o.vHH(2100,"")}class Eh{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Th{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Dh=new Th,Hm=new Eh;let vo=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Dh;if((0,o.F4k)(e))return Hm;throw yn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})(),bs=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function rl(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Ze(n,t,e){return function xa(n,t,e,i,r,s,u=!1){let f="",g=!1;if(isFinite(n)){let C=function Ro(n){let i,r,s,u,f,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(f=t.length))i=[0],r=1;else{for(f--;"0"===t.charAt(f);)f--;for(r-=s,i=[],u=0;s<=f;s++,u++)i[u]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);u&&(C=function Cr(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(C));let M=t.minInt,S=t.minFrac,k=t.maxFrac;if(s){const Ke=s.match(jn);if(null===Ke)throw new Error(`${s} is not a valid digit info`);const Le=Ke[1],Ve=Ke[3],mt=Ke[5];null!=Le&&(M=Qr(Le)),null!=Ve&&(S=Qr(Ve)),null!=mt?k=Qr(mt):null!=Ve&&S>k&&(k=S)}!function oi(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let u=s+n.integerLen,f=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let S=u;S<i.length;S++)i[S]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=s+1),i[0]=0;for(let S=1;S<u;S++)i[S]=0}if(f>=5)if(u-1<0){for(let S=0;S>u;S--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,s);r++)i.push(0);let g=0!==s;const C=t+n.integerLen,M=i.reduceRight(function(S,k,N,V){return V[N]=(k+=S)<10?k:k-10,g&&(0===V[N]&&N>=C?V.pop():g=!1),k>=10?1:0},0);M&&(i.unshift(M),n.integerLen++)}(C,S,k);let N=C.digits,V=C.integerLen;const W=C.exponent;let ee=[];for(g=N.every(Ke=>!Ke);V<M;V++)N.unshift(0);for(;V<0;V++)N.unshift(0);V>0?ee=N.splice(V,N.length):(ee=N,N=[0]);const Re=[];for(N.length>=t.lgSize&&Re.unshift(N.splice(-t.lgSize,N.length).join(""));N.length>t.gSize;)Re.unshift(N.splice(-t.gSize,N.length).join(""));N.length&&Re.unshift(N.join("")),f=Re.join(ii(e,i)),ee.length&&(f+=ii(e,r)+ee.join("")),W&&(f+=ii(e,ae.Exponential)+"+"+W)}else f=ii(e,ae.Infinity);return f=n<0&&!g?t.negPre+f+t.negSuf:t.posPre+f+t.posSuf,f}(n,function bn(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],f=u[0],g=u[1]||"";e.posPre=f.substr(0,f.indexOf("#"));for(let M=0;M<g.length;M++){const S=g.charAt(M);"0"===S?e.minFrac=e.maxFrac=M+1:"#"===S?e.maxFrac=M+1:e.posSuf+=S}const C=f.split(",");if(e.gSize=C[1]?C[1].length:0,e.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,s){const M=r.length-e.posPre.length-e.posSuf.length,S=s.indexOf("#");e.negPre=s.substr(0,S).replace(/'/g,""),e.negSuf=s.substr(S+M).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Wr(n,t){return(0,o.cg1)(n)[o.wAp.NumberFormats][t]}(t,$.Percent),ii(t,ae.MinusSign)),t,ae.Group,ae.Decimal,e,!0).replace(new RegExp("%","g"),ii(t,ae.PercentSign))}(function Qs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw yn()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"percent",type:n,pure:!0}),n})();let Qi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:gn,useClass:Fn}]}),n})();const Ql="browser";function sl(n){return"server"===n}let al=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Gm((0,o.LFG)(X),window)}),n})();class Gm{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ys(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Nn(this.window.history)||Nn(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Nn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zn{}class Aa extends class Vd extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){Q||(Q=n)}(new Aa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function cr(){return Li=Li||document.querySelector("base"),Li?Li.getAttribute("href"):null}();return null==e?null:function Lo(n){Xl=Xl||document.createElement("a"),Xl.setAttribute("href",n);const t=Xl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Li=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return bo(document.cookie,t)}}let Xl,Li=null;const vs=new o.OlP("TRANSITION_ID"),In=[{provide:o.ip1,useFactory:function Ji(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[vs,X,o.zs3],multi:!0}];class Co{static init(){(0,o.VLi)(new Co)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const f=function(g){u=u||g,s--,0==s&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Cs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Rr=new o.OlP("EventManagerPlugins");let ws=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Rr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Pa{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Dt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Xr=(()=>{class n extends Dt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ec),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ec))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function ec(n){F().remove(n)}const Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ll=/%COMP%/g;function Dn(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Dn(n,r,e):(r=r.replace(ll,n),e.push(r))}return e}function cl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Tr=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Bo(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new oc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new ka(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ws),o.LFG(Xr),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Bo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ms[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ms[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ms[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cl(i)):this.eventManager.addEventListener(t,e,cl(i))}}class oc extends Bo{constructor(t,e,i,r){super(t),this.component=i;const s=Dn(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function en(n){return"_ngcontent-%COMP%".replace(ll,n)}(r+"-"+i.id),this.hostAttr=function ic(n){return"_nghost-%COMP%".replace(ll,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ka extends Bo{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Dn(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const f=document.createElement("style");f.textContent=s[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dl=(()=>{class n extends Pa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const gi=["alt","control","meta","shift"],sc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},to={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let du=(()=>{class n extends Pa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(gi.forEach(g=>{const C=i.indexOf(g);C>-1&&(i.splice(C,1),u+=g+".")}),u+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function Ra(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Fr.hasOwnProperty(t)&&(t=Fr[t]))}return sc[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gi.forEach(s=>{s!=r&&to[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Ql},{provide:o.g9A,useValue:function Ud(){Aa.makeCurrent(),Co.init()},multi:!0},{provide:X,useFactory:function fu(){return(0,o.RDi)(document),document},deps:[]}]),ea=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function fl(){return new o.qLn},deps:[]},{provide:Rr,useClass:dl,multi:!0,deps:[X,o.R0b,o.Lbi]},{provide:Rr,useClass:du,multi:!0,deps:[X]},{provide:Tr,useClass:Tr,deps:[ws,Xr,o.AFp]},{provide:o.FYo,useExisting:Tr},{provide:Dt,useExisting:Xr},{provide:Xr,useClass:Xr,deps:[X]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:ws,useClass:ws,deps:[Rr,o.R0b]},{provide:zn,useClass:Cs,deps:[]}];let hl=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:vs,useExisting:o.AFp},In]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:ea,imports:[Qi,o.hGG]}),n})();"undefined"!=typeof window&&window;let bl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(kh),i},providedIn:"root"}),n})(),kh=(()=>{class n extends bl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Gd(n){return new kh(n.get(X))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var Ft=R(8996),Ts=R(3269);function He(...n){const t=(0,Ts.yG)(n);return(0,Ft.D)(n,t)}var ht=R(7579);class Si extends ht.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var vn=R(8306);const{isArray:Zd}=Array,{getPrototypeOf:Fa,prototype:gu,keys:yl}=Object;function Rh(n){if(1===n.length){const t=n[0];if(Zd(t))return{args:t,keys:null};if(function mc(n){return n&&"object"==typeof n&&Fa(n)===gu}(t)){const e=yl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Na=R(4671),et=R(4004);const{isArray:Zm}=Array;function _c(n){return(0,et.U)(t=>function gc(n,t){return Zm(t)?n(...t):n(t)}(n,t))}function Ds(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Cn=R(5403),xs=R(9672);function vl(...n){const t=(0,Ts.yG)(n),e=(0,Ts.jO)(n),{args:i,keys:r}=Rh(n);if(0===i.length)return(0,Ft.D)([],t);const s=new vn.y(function bc(n,t,e=Na.y){return i=>{_u(t,()=>{const{length:r}=n,s=new Array(r);let u=r,f=r;for(let g=0;g<r;g++)_u(t,()=>{const C=(0,Ft.D)(n[g],t);let M=!1;C.subscribe(new Cn.Q(i,S=>{s[g]=S,M||(M=!0,f--),f||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Ds(r,u):Na.y));return e?s.pipe(_c(e)):s}function _u(n,t,e){n?(0,xs.f)(e,n,t):t()}const na=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ss=R(8189);function Nr(...n){return function Fh(){return(0,Ss.J)(1)}()((0,Ft.D)(n,(0,Ts.yG)(n)))}var dr=R(8421);function Cl(n){return new vn.y(t=>{(0,dr.Xf)(n()).subscribe(t)})}var Uo=R(515),Bi=R(727),$n=R(4482);function La(){return(0,$n.e)((n,t)=>{let e=null;n._refCount++;const i=new Cn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vc extends vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Bi.w0;const e=this.getSubject();t.add(this.source.subscribe(new Cn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Bi.w0.EMPTY)}return t}refCount(){return La()(this)}}function wn(n,t){return(0,$n.e)((e,i)=>{let r=null,s=0,u=!1;const f=()=>u&&!r&&i.complete();e.subscribe(new Cn.Q(i,g=>{null==r||r.unsubscribe();let C=0;const M=s++;(0,dr.Xf)(n(g,M)).subscribe(r=new Cn.Q(i,S=>i.next(t?t(g,S,M,C++):S),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var cn=R(5698);function Jn(...n){const t=(0,Ts.yG)(n);return(0,$n.e)((e,i)=>{(t?Nr(n,e,t):Nr(n,e)).subscribe(i)})}function no(n,t,e,i,r){return(s,u)=>{let f=e,g=t,C=0;s.subscribe(new Cn.Q(u,M=>{const S=C++;g=f?n(g,M,S):(f=!0,M),i&&u.next(g)},r&&(()=>{f&&u.next(g),u.complete()})))}}function jo(n,t){return(0,$n.e)(no(n,t,arguments.length>=2,!0))}function At(n,t){return(0,$n.e)((e,i)=>{let r=0;e.subscribe(new Cn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Xi(n){return(0,$n.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new Cn.Q(e,void 0,void 0,u=>{s=(0,dr.Xf)(n(u,Xi(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var An=R(5577),fr=R(576);function Mn(n,t){return(0,fr.m)(t)?(0,An.z)(n,t,1):(0,An.z)(n,1)}function bu(n){return n<=0?()=>Uo.E:(0,$n.e)((t,e)=>{let i=[];t.subscribe(new Cn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Nh(n=Wm){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe(new Cn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Wm(){return new na}function Lh(n){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe(new Cn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ho(n,t){const e=arguments.length>=2;return i=>i.pipe(n?At((r,s)=>n(r,s,i)):Na.y,(0,cn.q)(1),e?Lh(t):Nh(()=>new na))}var ci=R(8505);function ni(n){return(0,$n.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ia{constructor(t,e){this.id=t,this.url=e}}class Yn extends ia{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ra extends ia{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Os extends ia{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sb extends ia{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cc extends ia{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr extends ia{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends ia{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wd extends ia{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vu extends ia{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ym{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Km{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const wt="primary";class wu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Dr(n){return new wu(n)}const Ba="ngNavigationCancelingError";function Va(n){const t=Error("NavigationCancelingError: "+n);return t[Ba]=!0,t}function Eu(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],f=n[s];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Lr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Vh(n[r],t[r]))return!1;return!0}function Vh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Kd(n){return Array.prototype.concat.apply([],n)}function Tu(n){return n.length>0?n[n.length-1]:null}function Oi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ui(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,Ft.D)(Promise.resolve(n)):He(n)}const Mc={exact:function qo(n,t,e){if(!A(n.segments,t.segments)||!oa(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qo(n.children[i],t.children[i],e))return!1;return!0},subset:El},Ec={exact:function xu(n,t){return Lr(n,t)},subset:function Su(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Vh(n[e],t[e]))},ignored:()=>!0};function Is(n,t,e){return Mc[e.paths](n.root,t.root,e.matrixParams)&&Ec[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function El(n,t,e){return Ua(n,t,t.segments,e)}function Ua(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!A(r,e)||t.hasChildren()||!oa(r,e,i))}if(n.segments.length===e.length){if(!A(n.segments,e)||!oa(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!El(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(A(n.segments,r)&&oa(n.segments,r,i)&&n.children[wt])&&Ua(n.children[wt],t,s,i)}}function oa(n,t,e){return t.every((i,r)=>Ec[e](n[r].parameters,i.parameters))}class Pn{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return De.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class T{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return Ha(this)}}function A(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Y{}class ne{parse(t){const e=new Ob(t);return new Pn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ct(t.root,!0)}`,i=function Ui(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${qt(e)}=${qt(r)}`).join("&"):`${qt(e)}=${qt(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function It(n){return encodeURI(n)}(t.fragment)}`:""}`}}const De=new ne;function We(n){return n.segments.map(t=>Ha(t)).join("/")}function ct(n,t){if(!n.hasChildren())return We(n);if(t){const e=n.children[wt]?ct(n.children[wt],!1):"",i=[];return Oi(n.children,(r,s)=>{s!==wt&&i.push(`${s}:${ct(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function B(n,t){let e=[];return Oi(n.children,(i,r)=>{r===wt&&(e=e.concat(t(i,r)))}),Oi(n.children,(i,r)=>{r!==wt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===wt?[ct(n.children[wt],!1)]:[`${r}:${ct(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${We(n)}/${e[0]}`:`${We(n)}/(${e.join("//")})`}}function dt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qt(n){return dt(n).replace(/%3B/gi,";")}function Vi(n){return dt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ln(n){return decodeURIComponent(n)}function ja(n){return Ln(n.replace(/\+/g,"%20"))}function Ha(n){return`${Vi(n.path)}${function sa(n){return Object.keys(n).map(t=>`;${Vi(t)}=${Vi(n[t])}`).join("")}(n.parameters)}`}const ji=/^[^\/()?;=#]+/;function Tl(n){const t=n.match(ji);return t?t[0]:""}const TC=/^[^=?&#]+/,Uh=/^[^&#]+/;class Ob{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[wt]=new tn(t,e)),i}parseSegment(){const t=Tl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new T(Ln(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Tl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Tl(this.remaining);r&&(i=r,this.capture(i))}t[Ln(e)]=Ln(i)}parseQueryParam(t){const e=function Qd(n){const t=n.match(TC);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Qm(n){const t=n.match(Uh);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=ja(e),s=ja(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Tl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=wt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[wt]:new tn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xd(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Dl(t,this._root).map(e=>e.value)}}function Xd(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xd(n,e);if(i)return i}return null}function Dl(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Dl(n,e);if(i.length)return i.unshift(t),i}return[]}class zo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $o(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ef extends Jd{constructor(t,e){super(t),this.snapshot=e,Zo(this,t)}toString(){return this.snapshot.toString()}}function Jm(n,t){const e=function DC(n,t){const u=new xl([],{},{},"",{},wt,t,null,n.root,-1,{});return new jh("",new zo(u,[]))}(n,t),i=new Si([new T("",{})]),r=new Si({}),s=new Si({}),u=new Si({}),f=new Si(""),g=new Go(i,r,u,f,s,wt,t,e.root);return g.snapshot=e.root,new ef(new zo(g,[]),e)}class Go{constructor(t,e,i,r,s,u,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(t=>Dr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(t=>Dr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tf(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Xm(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xl{constructor(t,e,i,r,s,u,f,g,C,M,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=C,this._lastPathIndex=M,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jh extends Jd{constructor(t,e){super(e),this.url=t,Zo(this,e)}toString(){return Ou(this._root)}}function Zo(n,t){t.value._routerState=n,t.children.forEach(e=>Zo(n,e))}function Ou(n){const t=n.children.length>0?` { ${n.children.map(Ou).join(", ")} } `:"";return`${n.value}${t}`}function Iu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Lr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Lr(t.params,e.params)||n.params.next(e.params),function Ml(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Lr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Lr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nf(n,t){const e=Lr(n.params,t.params)&&function x(n,t){return A(n,t)&&n.every((e,i)=>Lr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||nf(n.parent,t.parent))}function Au(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function As(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Au(n,i,r);return Au(n,i)})}(n,t,e);return new zo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>Au(n,f)),u}}const i=function Sl(n){return new Go(new Si(n.url),new Si(n.params),new Si(n.queryParams),new Si(n.fragment),new Si(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Au(n,s));return new zo(i,r)}}function rf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tc(n){return"object"==typeof n&&null!=n&&n.outlets}function Pu(n,t,e,i,r){let s={};return i&&Oi(i,(u,f)=>{s[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),new Pn(e.root===n?t:eg(e.root,n,t),s,r)}function eg(n,t,e){const i={};return Oi(n.children,(r,s)=>{i[s]=r===t?e:eg(r,t,e)}),new tn(n.segments,i)}class tg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&rf(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Tc);if(r&&r!==Tu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ku{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Pb(n,t,e){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return Ol(n,t,e);const i=function Ru(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],f=e[i];if(Tc(f))break;const g=`${f}`,C=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&C&&"object"==typeof C&&void 0===C.outlets){if(!zh(g,C,u))return s;i+=2}else{if(!zh(g,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new tn(n.segments.slice(0,i.pathIndex),{});return s.children[wt]=new tn(n.segments.slice(i.pathIndex),n.children),Ol(s,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?sf(n,t,e):i.match?Ol(n,0,r):sf(n,t,e)}function Ol(n,t,e){if(0===e.length)return new tn(n.segments,{});{const i=function ig(n){return Tc(n[0])?n[0].outlets:{[wt]:n}}(e),r={};return Oi(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Pb(n.children[u],t,s))}),Oi(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new tn(n.segments,r)}}function sf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Tc(s)){const g=Ps(s.outlets);return new tn(i,g)}if(0===r&&rf(e[0])){i.push(new T(n.segments[t].path,Dc(e[0]))),r++;continue}const u=Tc(s)?s.outlets[wt]:`${s}`,f=r<e.length-1?e[r+1]:null;u&&f&&rf(f)?(i.push(new T(u,Dc(f))),r+=2):(i.push(new T(u,{})),r++)}return new tn(i,{})}function Ps(n){const t={};return Oi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=sf(new tn([],{}),0,e))}),t}function Dc(n){const t={};return Oi(n,(e,i)=>t[i]=`${e}`),t}function zh(n,t,e){return n==e.path&&Lr(t,e.parameters)}class og{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Iu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=$o(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Oi(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=$o(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=$o(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=$o(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Km(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ym(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Iu(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Iu(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function xC(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=g,u.outlet&&u.outlet.activateWith(r,g),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class af{constructor(t,e){this.routes=t,this.module=e}}function Il(n){return"function"==typeof n}function aa(n){return n instanceof Pn}const Fu=Symbol("INITIAL_VALUE");function Nu(){return wn(n=>vl(n.map(t=>t.pipe((0,cn.q)(1),Jn(Fu)))).pipe(jo((t,e)=>{let i=!1;return e.reduce((r,s,u)=>r!==Fu?r:(s===Fu&&(i=!0),i||!1!==s&&u!==e.length-1&&!aa(s)?r:s),t)},Fu),At(t=>t!==Fu),(0,et.U)(t=>aa(t)?t:!0===t),(0,cn.q)(1)))}class Rb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Al,this.attachRef=null}}class Al{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Rb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let lf=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new xc(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Al),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xc{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Go?this.route:t===Al?this.childContexts:this.parent.get(t,e)}}let Zh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[lf],encapsulation:2}),n})();function Lu(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Fb(i,Xn(t,i))}}function Fb(n,t){n.children&&Lu(n.children,t)}function Xn(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Wh(n){const t=n.children&&n.children.map(Wh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==wt&&(e.component=Zh),e}function ro(n){return n.outlet||wt}function Bu(n,t){const e=n.filter(i=>ro(i)===t);return e.push(...n.filter(i=>ro(i)!==t)),e}const Yh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cf(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Yh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Eu)(e,n,t);if(!s)return Object.assign({},Yh);const u={};Oi(s.posParams,(g,C)=>{u[C]=g.path});const f=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:f,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function uf(n,t,e,i,r="corrected"){if(e.length>0&&function ag(n,t,e){return e.some(i=>lg(n,t,i)&&ro(i)!==wt)}(n,e,i)){const u=new tn(t,function Lb(n,t,e,i){const r={};r[wt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ro(s)!==wt){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[ro(s)]=u}return r}(n,t,i,new tn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function OC(n,t,e){return e.some(i=>lg(n,t,i))}(n,e,i)){const u=new tn(n.segments,function Nb(n,t,e,i,r,s){const u={};for(const f of i)if(lg(n,e,f)&&!r[ro(f)]){const g=new tn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[ro(f)]=g}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new tn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function lg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Mo(n,t,e,i){return!!(ro(n)===i||i!==wt&&lg(t,e,n))&&("**"===n.path||cf(t,n,e).matched)}function pr(n,t,e){return 0===t.length&&!n.children[e]}class Pl{constructor(t){this.segmentGroup=t||null}}class Vu{constructor(t){this.urlTree=t}}function Uu(n){return new vn.y(t=>t.error(new Pl(n)))}function Ii(n){return new vn.y(t=>t.error(new Vu(n)))}function ju(n){return new vn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Bb{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=uf(this.urlTree.root,[],[],this.config).segmentGroup,e=new tn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,wt).pipe((0,et.U)(s=>this.createUrlTree(Hu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xi(s=>{if(s instanceof Vu)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Pl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,wt).pipe((0,et.U)(r=>this.createUrlTree(Hu(r),t.queryParams,t.fragment))).pipe(Xi(r=>{throw r instanceof Pl?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new tn([],{[wt]:t}):t;return new Pn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,et.U)(s=>new tn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Ft.D)(r).pipe(Mn(s=>{const u=i.children[s],f=Bu(e,s);return this.expandSegmentGroup(t,f,u,s).pipe((0,et.U)(g=>({segment:g,outlet:s})))}),jo((s,u)=>(s[u.outlet]=u.segment,s),{}),function yu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?At((r,s)=>n(r,s,i)):Na.y,bu(1),e?Lh(t):Nh(()=>new na))}())}expandSegment(t,e,i,r,s,u){return(0,Ft.D)(i).pipe(Mn(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,s,u).pipe(Xi(C=>{if(C instanceof Pl)return He(null);throw C}))),Ho(f=>!!f),Xi((f,g)=>{if(f instanceof na||"EmptyError"===f.name){if(pr(e,r,s))return He(new tn([],{}));throw new Pl(e)}throw f}))}expandSegmentAgainstRoute(t,e,i,r,s,u,f){return Mo(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):Uu(e):Uu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ii(s):this.lineralizeSegments(i,s).pipe((0,An.z)(u=>{const f=new tn(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:f,consumedSegments:g,lastChild:C,positionalParamSegments:M}=cf(e,r,s);if(!f)return Uu(e);const S=this.applyRedirectCommands(g,r.redirectTo,M);return r.redirectTo.startsWith("/")?Ii(S):this.lineralizeSegments(r,S).pipe((0,An.z)(k=>this.expandSegment(t,e,i,k.concat(s.slice(C)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?He(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,et.U)(k=>(i._loadedConfig=k,new tn(r,{})))):He(new tn(r,{}));const{matched:u,consumedSegments:f,lastChild:g}=cf(e,i,r);if(!u)return Uu(e);const C=r.slice(g);return this.getChildConfig(t,i,r).pipe((0,An.z)(S=>{const k=S.module,N=S.routes,{segmentGroup:V,slicedSegments:W}=uf(e,f,C,N),ee=new tn(V.segments,V.children);if(0===W.length&&ee.hasChildren())return this.expandChildren(k,N,ee).pipe((0,et.U)(Ve=>new tn(f,Ve)));if(0===N.length&&0===W.length)return He(new tn(f,{}));const Re=ro(i)===s;return this.expandSegment(k,ee,N,W,Re?wt:s,!0).pipe((0,et.U)(Le=>new tn(f.concat(Le.segments),Le.children)))}))}getChildConfig(t,e,i){return e.children?He(new af(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?He(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,An.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,et.U)(s=>(e._loadedConfig=s,s))):function Kh(n){return new vn.y(t=>t.error(Va(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):He(new af([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?He(r.map(u=>{const f=t.get(u);let g;if(function Gh(n){return n&&Il(n.canLoad)}(f))g=f.canLoad(e,i);else{if(!Il(f))throw new Error("Invalid CanLoad guard");g=f(e,i)}return ui(g)})).pipe(Nu(),(0,ci.b)(u=>{if(!aa(u))return;const f=Va(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,et.U)(u=>!0===u)):He(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return He(i);if(r.numberOfChildren>1||!r.children[wt])return ju(t.redirectTo);r=r.children[wt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Pn(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Oi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[s]=e[f]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Oi(e.children,(f,g)=>{u[g]=this.createSegmentGroup(t,f,i,r)}),new tn(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Hu(n){const t={};for(const i of Object.keys(n.children)){const s=Hu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function cg(n){if(1===n.numberOfChildren&&n.children[wt]){const t=n.children[wt];return new tn(n.segments.concat(t.segments),t.children)}return n}(new tn(n.segments,t))}class dg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class qu{constructor(t,e){this.component=t,this.route=e}}function Vb(n,t,e){const i=n._root;return zu(i,t?t._root:null,e,[i.value])}function kl(n,t,e){const i=function Jh(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function zu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=$o(t);return n.children.forEach(u=>{(function Xh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function ep(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!A(n.url,t.url);case"pathParamsOrQueryParamsChange":return!A(n.url,t.url)||!Lr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(n,t)||!Lr(n.queryParams,t.queryParams);default:return!nf(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new dg(i)):(s.data=u.data,s._resolvedData=u._resolvedData),zu(n,t,s.component?f?f.children:null:e,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new qu(f.outlet.component,u))}else u&&Rl(t,f,r),r.canActivateChecks.push(new dg(i)),zu(n,null,s.component?f?f.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Oi(s,(u,f)=>Rl(u,e.getContext(f),r)),r}function Rl(n,t,e){const i=$o(n),r=n.value;Oi(i,(s,u)=>{Rl(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new qu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Gb{}function fg(n){return new vn.y(t=>t.error(n))}class Sc{constructor(t,e,i,r,s,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const t=uf(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,wt);if(null===e)return null;const i=new xl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zo(i,e),s=new jh(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=tf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const u=e.children[s],f=Bu(t,s),g=this.processSegmentGroup(f,u,s);if(null===g)return null;i.push(...g)}const r=Fl(i);return function Wb(n){n.sort((t,e)=>t.value.outlet===wt?-1:e.value.outlet===wt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const u=this.processSegmentAgainstRoute(s,e,i,r);if(null!==u)return u}return pr(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Mo(t,e,i,r))return null;let s,u=[],f=[];if("**"===t.path){const N=i.length>0?Tu(i).parameters:{};s=new xl(i,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gu(t),ro(t),t.component,t,Kb(e),pg(e)+i.length,np(t))}else{const N=cf(e,t,i);if(!N.matched)return null;u=N.consumedSegments,f=i.slice(N.lastChild),s=new xl(u,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gu(t),ro(t),t.component,t,Kb(e),pg(e)+u.length,np(t))}const g=function hg(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:C,slicedSegments:M}=uf(e,u,f,g.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);if(0===M.length&&C.hasChildren()){const N=this.processChildren(g,C);return null===N?null:[new zo(s,N)]}if(0===g.length&&0===M.length)return[new zo(s,[])];const S=ro(t)===r,k=this.processSegment(g,C,M,S?wt:r);return null===k?null:[new zo(s,k)]}}function Yb(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fl(n){const t=[],e=new Set;for(const i of n){if(!Yb(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Fl(i.children);t.push(new zo(i.value,r))}return t.filter(i=>!e.has(i))}function Kb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pg(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Gu(n){return n.data||{}}function np(n){return n.resolve||{}}function Yo(n){return wn(t=>{const e=n(t);return e?(0,Ft.D)(e).pipe((0,et.U)(()=>t)):He(t)})}class Wu extends class mg{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Nl=new o.OlP("ROUTES");class op{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,et.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=s.create(t);return new af(Kd(u.injector.get(Nl,void 0,o.XFs.Self|o.XFs.Optional)).map(Wh),u)}),Xi(s=>{throw e._loader$=void 0,s}));return e._loader$=new vc(r,()=>new ht.x).pipe(La()),e._loader$}loadModuleFactory(t){return ui(t()).pipe((0,An.z)(e=>e instanceof o.YKP?He(e):(0,Ft.D)(this.compiler.compileModuleAsync(e))))}}class Oc{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ks(n){throw n}function sp(n,t,e){return t.parse("/")}function gg(n,t){return He(null)}const ap={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class n{constructor(e,i,r,s,u,f,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht.x,this.errorHandler=ks,this.malformedUriErrorHandler=sp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gg,afterPreactivation:gg},this.urlHandlingStrategy=new Oc,this.routeReuseStrategy=new Wu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(o.h0i),this.console=u.get(o.c2e);const S=u.get(o.R0b);this.isNgZoneEnabled=S instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function wc(){return new Pn(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new op(u,f,k=>this.triggerEvent(new io(k)),k=>this.triggerEvent(new Cu(k))),this.routerState=Jm(this.currentUrlTree,this.rootComponentType),this.transitions=new Si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(At(r=>0!==r.id),(0,et.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),wn(r=>{let s=!1,u=!1;return He(r).pipe((0,ci.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wn(f=>{const g=this.browserUrlTree.toString(),C=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Ic(f.source)&&(this.browserUrlTree=f.extractedUrl),He(f).pipe(wn(S=>{const k=this.transitions.getValue();return i.next(new Yn(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),k!==this.transitions.getValue()?Uo.E:Promise.resolve(S)}),function ug(n,t,e,i){return wn(r=>function Qh(n,t,e,i,r){return new Bb(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,et.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ci.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function Wo(n,t,e,i,r){return(0,An.z)(s=>function Zb(n,t,e,i,r="emptyOnly",s="legacy"){try{const u=new Sc(n,t,e,i,r,s).recognize();return null===u?fg(new Gb):He(u)}catch(u){return fg(u)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,et.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ci.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(N,S)}this.browserUrlTree=S.urlAfterRedirects}const k=new Cc(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(k)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:N,source:V,restoredState:W,extras:ee}=f,Re=new Yn(k,this.serializeUrl(N),V,W);i.next(Re);const Ke=Jm(N,this.rootComponentType).snapshot;return He(Object.assign(Object.assign({},f),{targetSnapshot:Ke,urlAfterRedirects:N,extras:Object.assign(Object.assign({},ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Uo.E}),Yo(f=>{const{targetSnapshot:g,id:C,extractedUrl:M,rawUrl:S,extras:{skipLocationChange:k,replaceUrl:N}}=f;return this.hooks.beforePreactivation(g,{navigationId:C,appliedUrlTree:M,rawUrlTree:S,skipLocationChange:!!k,replaceUrl:!!N})}),(0,ci.b)(f=>{const g=new hr(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,et.U)(f=>Object.assign(Object.assign({},f),{guards:Vb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function $u(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?He(Object.assign(Object.assign({},e),{guardsResult:!0})):function jb(n,t,e,i){return(0,Ft.D)(n).pipe((0,An.z)(r=>function $b(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(f=>{const g=kl(f,t,r);let C;if(function sg(n){return n&&Il(n.canDeactivate)}(g))C=ui(g.canDeactivate(n,t,e,i));else{if(!Il(g))throw new Error("Invalid CanDeactivate guard");C=ui(g(n,t,e,i))}return C.pipe(Ho())})).pipe(Nu()):He(!0)}(r.component,r.route,e,t,i)),Ho(r=>!0!==r,!0))}(u,i,r,n).pipe((0,An.z)(f=>f&&function $h(n){return"boolean"==typeof n}(f)?function df(n,t,e,i){return(0,Ft.D)(t).pipe(Mn(r=>Nr(function qb(n,t){return null!==n&&t&&t(new Bh(n)),He(!0)}(r.route.parent,i),function Hb(n,t){return null!==n&&t&&t(new Yd(n)),He(!0)}(r.route,i),function tp(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function Ub(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Cl(()=>He(u.guards.map(g=>{const C=kl(g,u.node,e);let M;if(function kb(n){return n&&Il(n.canActivateChild)}(C))M=ui(C.canActivateChild(i,n));else{if(!Il(C))throw new Error("Invalid CanActivateChild guard");M=ui(C(i,n))}return M.pipe(Ho())})).pipe(Nu())));return He(s).pipe(Nu())}(n,r.path,e),function zb(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return He(!0);const r=i.map(s=>Cl(()=>{const u=kl(s,t,e);let f;if(function SC(n){return n&&Il(n.canActivate)}(u))f=ui(u.canActivate(t,n));else{if(!Il(u))throw new Error("Invalid CanActivate guard");f=ui(u(t,n))}return f.pipe(Ho())}));return He(r).pipe(Nu())}(n,r.route,e))),Ho(r=>!0!==r,!0))}(i,s,n,t):He(f)),(0,et.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ci.b)(f=>{if(aa(f.guardsResult)){const C=Va(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw C.url=f.guardsResult,C}const g=new wo(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),At(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Yo(f=>{if(f.guards.canActivateChecks.length)return He(f).pipe((0,ci.b)(g=>{const C=new Wd(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}),wn(g=>{let C=!1;return He(g).pipe(function ip(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return He(e);let s=0;return(0,Ft.D)(r).pipe(Mn(u=>function Zu(n,t,e,i){return function Qb(n,t,e,i){const r=Object.keys(n);if(0===r.length)return He({});const s={};return(0,Ft.D)(r).pipe((0,An.z)(u=>function Br(n,t,e,i){const r=kl(n,t,i);return ui(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,ci.b)(f=>{s[u]=f}))),bu(1),(0,An.z)(()=>Object.keys(s).length===r.length?He(s):Uo.E))}(n._resolve,n,t,i).pipe((0,et.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),tf(n,e).resolve),null)))}(u.route,i,n,t)),(0,ci.b)(()=>s++),bu(1),(0,An.z)(u=>s===r.length?He(e):Uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ci.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,ci.b)(g=>{const C=new vu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(C)}))}),Yo(f=>{const{targetSnapshot:g,id:C,extractedUrl:M,rawUrl:S,extras:{skipLocationChange:k,replaceUrl:N}}=f;return this.hooks.afterPreactivation(g,{navigationId:C,appliedUrlTree:M,rawUrlTree:S,skipLocationChange:!!k,replaceUrl:!!N})}),(0,et.U)(f=>{const g=function Hh(n,t,e){const i=Au(n,t._root,e?e._root:void 0);return new ef(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,ci.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,et.U)(i=>(new og(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ci.b)({next(){s=!0},complete(){s=!0}}),ni(()=>{var f;s||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Xi(f=>{if(u=!0,function Mu(n){return n&&n[Ba]}(f)){const g=aa(f.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const C=new Os(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(C),g?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ic(r.source)};this.scheduleNavigation(M,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new Sb(r.id,this.serializeUrl(r.extractedUrl),f);i.next(g);try{r.resolve(this.errorHandler(f))}catch(C){r.reject(C)}}return Uo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Lu(e),this.config=e.map(Wh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,C=r||this.routerState.root,M=g?this.currentUrlTree.fragment:u;let S=null;switch(f){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function qh(n,t,e,i,r){if(0===e.length)return Pu(t.root,t.root,t,i,r);const s=function ng(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tg(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Oi(s.outlets,(g,C)=>{f[C]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new tg(e,t,i)}(e);if(s.toRoot())return Pu(t.root,new tn([],{}),t,i,r);const u=function Ib(n,t,e){if(n.isAbsolute)return new ku(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new ku(s,s===t.root,0)}const i=rf(n.commands[0])?0:1;return function Ab(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ku(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),f=u.processChildren?Ol(u.segmentGroup,u.index,s.commands):Pb(u.segmentGroup,u.index,s.commands);return Pu(u.segmentGroup,f,t,i,r)}(C,this.currentUrlTree,e,S,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=aa(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Ur(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},ap):!1===i?Object.assign({},Xb):i,aa(e))return Is(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Is(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ra(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){var f,g,C;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,S=Ic(i)&&M&&!Ic(M.source),k=M.rawUrl.toString()===e.toString(),N=M.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(S&&k&&N)return Promise.resolve(!0);let W,ee,Re;u?(W=u.resolve,ee=u.reject,Re=u.promise):Re=new Promise((Ve,mt)=>{W=Ve,ee=mt});const Ke=++this.navigationId;let Le;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Le=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Le=0,this.setTransition({id:Ke,targetPageId:Le,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:W,reject:ee,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(Ve=>Promise.reject(Ve))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Os(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ic(n){return"imperative"!==n}let Yu=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.commands=null,this.onChanges=new ht.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:xr(this.skipLocationChange),replaceUrl:xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xr(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vr),o.Y36(Go),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),ff=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ht.x,this.subscription=e.events.subscribe(s=>{s instanceof ra&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,u){if(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:xr(this.skipLocationChange),replaceUrl:xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xr(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vr),o.Y36(Go),o.Y36(he))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function xr(n){return""===n||!!n}let qa=(()=>{class n{constructor(e,i,r,s,u,f){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(g=>{g instanceof ra&&this.update()})}ngAfterContentInit(){He(this.links.changes,this.linksWithHrefs.changes,He(null)).pipe((0,Ss.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Ft.D)(i).pipe((0,Ss.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function lp(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vr),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Yu,8),o.Y36(ff,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Yu,5),o.Suo(r,ff,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class Ku{}class hf{preload(t,e){return He(null)}}let cp=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new op(r,i,g=>e.triggerEvent(new io(g)),g=>e.triggerEvent(new Cu(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(At(e=>e instanceof ra),Mn(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Ft.D)(r).pipe((0,Ss.J)(),(0,et.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?He(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,An.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Vr),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Ku))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),pf=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ra&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new wl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const za=new o.OlP("ROUTER_CONFIGURATION"),b=new o.OlP("ROUTER_FORROOT_GUARD"),p=[nt,{provide:Y,useClass:ne},{provide:Vr,useFactory:function Pe(n,t,e,i,r,s,u={},f,g){const C=new Vr(null,n,t,e,i,r,Kd(s));return f&&(C.urlHandlingStrategy=f),g&&(C.routeReuseStrategy=g),function Me(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,C),u.enableTracing&&C.events.subscribe(M=>{var S,k;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(k=console.groupEnd)||void 0===k||k.call(console)}),C},deps:[Y,Al,nt,o.zs3,o.Sil,Nl,za,[class Jb{},new o.FiY],[class rp{},new o.FiY]]},Al,{provide:Go,useFactory:function Ye(n){return n.routerState.root},deps:[Vr]},cp,hf,class ey{preload(t,e){return e().pipe(Xi(()=>He(null)))}},{provide:za,useValue:{enableTracing:!1}}];function m(){return new o.PXZ("Router",Vr)}let y=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[p,J(e),{provide:b,useFactory:U,deps:[[Vr,new o.FiY,new o.tp0]]},{provide:za,useValue:i||{}},{provide:he,useFactory:I,deps:[ce,[new o.tBr(Ae),new o.FiY],za]},{provide:pf,useFactory:D,deps:[Vr,al,za]},{provide:Ku,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:hf},{provide:o.PXZ,multi:!0,useFactory:m},[Qe,{provide:o.ip1,multi:!0,useFactory:zt,deps:[Qe]},{provide:mr,useFactory:ei,deps:[Qe]},{provide:o.tb,multi:!0,useExisting:mr}]]}}static forChild(e){return{ngModule:n,providers:[J(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(b,8),o.LFG(Vr,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function D(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new pf(n,t,e)}function I(n,t,e={}){return e.useHash?new Be(n,t):new je(n,t)}function U(n){return"guarded"}function J(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Nl,multi:!0,useValue:n}]}let Qe=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ht.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),s=this.injector.get(Vr),u=this.injector.get(za);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?He(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(za),r=this.injector.get(cp),s=this.injector.get(pf),u=this.injector.get(Vr),f=this.injector.get(o.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),s.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function zt(n){return n.appInitializer.bind(n)}function ei(n){return n.bootstrapListener.bind(n)}const mr=new o.OlP("Router Initializer");function Nt(n){return null!=n&&"false"!=`${n}`}function gr(n,t=0){return mf(n)?Number(n):t}function mf(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Pc(n){return Array.isArray(n)?n:[n]}function ti(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Eo(n){return n instanceof o.SBq?n.nativeElement:n}function er(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const cy=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function lx(){return(0,o.f3M)(X)}}),cx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let bp,ua=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function xk(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?cx.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(cy,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{bp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){bp=!1}let Ll,Hi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Zn(n){return n===Ql}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ZC(){if(Ll)return Ll;if("object"!=typeof document||!document)return Ll=new Set(Mg),Ll;let n=document.createElement("input");return Ll=new Set(Mg.filter(t=>(n.setAttribute("type",t),n.type===t))),Ll}let Xu,Eg,td,dy;function ed(n){return function uy(){if(null==Xu&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xu=!0}))}finally{Xu=Xu||!1}return Xu}()?n:!!n.capture}function Tg(){if(null==td){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return td=!1,td;if("scrollBehavior"in document.documentElement.style)td=!0;else{const n=Element.prototype.scrollTo;td=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return td}function Dg(){if("object"!=typeof document||!document)return 0;if(null==Eg){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Eg=0,0===n.scrollLeft&&(n.scrollLeft=1,Eg=0===n.scrollLeft?1:2),n.remove()}return Eg}function fy(n){if(function WC(){if(null==dy){const n="undefined"!=typeof document?document.head:null;dy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dy}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function xg(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Rc(n){return n.composedPath?n.composedPath()[0]:n.target}function Sg(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Ns=R(4986);function Fc(n,t=Ns.z){return(0,$n.e)((e,i)=>{let r=null,s=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,i.next(C)}};function g(){const C=u+n,M=t.now();if(M<C)return r=this.schedule(void 0,C-M),void i.add(r);f()}e.subscribe(new Cn.Q(i,C=>{s=C,u=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{s=r=null}))})}function YC(n){return At((t,e)=>n<=e)}function Og(n,t=Na.y){return n=null!=n?n:Ik,(0,$n.e)((e,i)=>{let r,s=!0;e.subscribe(new Cn.Q(i,u=>{const f=t(u);(s||!n(r,f))&&(s=!1,r=f,i.next(u))}))})}function Ik(n,t){return n===t}var hy=R(5032);function $t(n){return(0,$n.e)((t,e)=>{(0,dr.Xf)(n).subscribe(new Cn.Q(e,()=>e.complete(),hy.Z)),!e.closed&&t.subscribe(e)})}let Ig=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yp=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Eo(e);return new vn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ht.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ig))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ux=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=gr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Fc(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yp),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ig]}),n})();function Ag(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const XC="cdk-describedby-message",Pg="cdk-describedby-host";let my=0,nd=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+my++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=kg(i,r);"string"!=typeof i?(ew(i),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){var s;if(!i||!this._isElementNode(e))return;const u=kg(i,r);if(this._isElementDescribedByMessage(e,u)&&this._removeMessageReference(e,u),"string"==typeof i){const f=this._messageRegistry.get(u);f&&0===f.referenceCount&&this._deleteMessageElement(u)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${Pg}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(Pg);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");ew(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(kg(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i,r;null===(r=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Ag(e,"aria-describedby").filter(r=>0!=r.indexOf(XC));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function KC(n,t,e){const i=Ag(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Pg,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function QC(n,t,e){const r=Ag(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Pg)}_isElementDescribedByMessage(e,i){const r=Ag(e,"aria-describedby"),s=this._messageRegistry.get(i),u=s&&s.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(Hi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kg(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function ew(n){n.id||(n.id=`${XC}-${my++}`)}class gf extends class tw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ht.x,this._typeaheadSubscription=Bi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ht.x,this.change=new ht.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ci.b)(e=>this._pressedLetters.push(e)),Fc(t),At(()=>this._pressedLetters.length>0),(0,et.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||er(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let gy=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ls(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function fx(n){try{return n.frameElement}catch(t){return null}}(function lw(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===aw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=aw(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function hx(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function px(n){return!function nw(n){return function rw(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function _y(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function iw(n){return function ow(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sw(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function aw(n){if(!sw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Pk{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,cn.q)(1)).subscribe(t)}}let by=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Pk(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gy),o.LFG(o.R0b),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function vy(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Nk=new o.OlP("cdk-input-modality-detector-options"),da={ignoreKeys:[18,17,224,91,16]},Cp=ed({passive:!0,capture:!0});let uw=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Si(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(C=>C===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Rc(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yy(u)?"keyboard":"mouse"),this._mostRecentTarget=Rc(u))},this._onTouchstart=u=>{vy(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rc(u))},this._options=Object.assign(Object.assign({},da),s),this.modalityDetected=this._modality.pipe(YC(1)),this.modalityChanged=this.modalityDetected.pipe(Og()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Cp),r.addEventListener("mousedown",this._onMousedown,Cp),r.addEventListener("touchstart",this._onTouchstart,Cp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Cp),document.removeEventListener("mousedown",this._onMousedown,Cp),document.removeEventListener("touchstart",this._onTouchstart,Cp))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi),o.LFG(o.R0b),o.LFG(X),o.LFG(Nk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dw=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function fw(){return null}}),gx=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Lk=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dw,8),o.LFG(o.R0b),o.LFG(X),o.LFG(gx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cy=new o.OlP("cdk-focus-monitor-default-options"),Rg=ed({passive:!0,capture:!0});let Nc=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht.x,this._rootNodeFocusAndBlurListener=f=>{const g=Rc(f),C="focus"===f.type?this._onFocus:this._onBlur;for(let M=g;M;M=M.parentElement)C.call(this,f,M)},this._document=s,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Eo(e);if(!this._platform.isBrowser||1!==r.nodeType)return He(null);const s=fy(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new ht.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Eo(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Eo(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Rc(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Hi),o.LFG(uw),o.LFG(X,8),o.LFG(Cy,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hw="cdk-high-contrast-black-on-white",pw="cdk-high-contrast-white-on-black",wy="cdk-high-contrast-active";let mw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(wy),e.remove(hw),e.remove(pw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(wy),e.add(hw)):2===i&&(e.add(wy),e.add(pw))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gw=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mw))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vp]]}),n})();class wp{}const Bl="*";function Or(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ai(n,t=null){return{type:4,styles:t,timings:n}}function _w(n,t=null){return{type:3,steps:n,options:t}}function Fg(n,t=null){return{type:2,steps:n,options:t}}function Tt(n){return{type:6,styles:n,offset:null}}function Bn(n,t,e){return{type:0,name:n,styles:t,options:e}}function qi(n){return{type:5,steps:n}}function Vn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function oo(n=null){return{type:9,options:n}}function Vl(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function id(n){Promise.resolve(null).then(n)}class fa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){id(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?id(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function od(){return"undefined"!=typeof window&&void 0!==window.document}function Bc(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ko(n){switch(n.length){case 0:return new fa;case 1:return n[0];default:return new rd(n)}}function Ey(n,t,e,i,r={},s={}){const u=[],f=[];let g=-1,C=null;if(i.forEach(M=>{const S=M.offset,k=S==g,N=k&&C||{};Object.keys(M).forEach(V=>{let W=V,ee=M[V];if("offset"!==V)switch(W=t.normalizePropertyName(W,u),ee){case"!":ee=r[V];break;case Bl:ee=s[V];break;default:ee=t.normalizeStyleValue(V,W,ee,u)}N[W]=ee}),k||f.push(N),C=N,g=S}),u.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${u.join(M)}`)}return f}function Ng(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Lg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Lg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Lg(e,"destroy",n)))}}function Lg(n,t,e){const i=e.totalTime,s=Bg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function Bg(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function To(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Ty(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Vg=(n,t)=>!1,Dy=(n,t,e)=>[];(Bc()||"undefined"!=typeof Element)&&(Vg=od()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Dy=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Vc=null,yw=!1;function Ug(n){Vc||(Vc=function vw(){return"undefined"!=typeof document?document.body:null}()||{},yw=!!Vc.style&&"WebkitAppearance"in Vc.style);let t=!0;return Vc.style&&!function yx(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Vc.style,!t&&yw&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vc.style)),t}const xy=Vg,Sy=Dy;function Oy(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Cw=(()=>{class n{validateStyleProperty(e){return Ug(e)}matchesElement(e,i){return!1}containsElement(e,i){return xy(e,i)}query(e,i,r){return Sy(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,f=[],g){return new fa(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),jg=(()=>{class n{}return n.NOOP=new Cw,n})();const Iy="ng-enter",bf="ng-leave",yf="ng-trigger",Hg=".ng-trigger",Cx="ng-animating",Mw=".ng-animating";function vf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ay(parseFloat(t[1]),t[2])}function Ay(n,t){return"s"===t?1e3*n:n}function Ep(n,t,e){return n.hasOwnProperty("duration")?n:function Uk(n,t,e){let r,s=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Ay(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(s=Ay(parseFloat(g),f[4]));const C=f[5];C&&(u=C)}else r=n;if(!e){let f=!1,g=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),f=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&t.splice(g,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:u}}(n,t,e)}function Cf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Uc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Cf(n,e);return e}function Py(n,t,e){return e?t+":"+e+";":""}function Ew(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Py(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Py(0,Mx(e),n.style[e]));n.setAttribute("style",t)}function ha(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=$g(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Bc()&&Ew(n))}function Ga(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=$g(e);n.style[i]=""}),Bc()&&Ew(n))}function Tp(n){return Array.isArray(n)?1==n.length?n[0]:Fg(n):n}const ky=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dw(n){let t=[];if("string"==typeof n){let e;for(;e=ky.exec(n);)t.push(e[1]);ky.lastIndex=0}return t}function qg(n,t,e){const i=n.toString(),r=i.replace(ky,(s,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return r==i?n:r}function zg(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wx=/-+([a-z0-9])/g;function $g(n){return n.replace(wx,(...t)=>t[1].toUpperCase())}function Mx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ry(n,t){return 0===n||0===t}function Fy(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],u=[];if(i.forEach(f=>{s.hasOwnProperty(f)||u.push(f),s[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(g){f[g]=xw(n,g)})}}return t}function so(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function xw(n,t){return window.getComputedStyle(n)[t]}function Ex(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function jk(n,t,e){if(":"==n[0]){const g=function Dp(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],u=i[3];t.push(Gg(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(Gg(u,r))}(i,e,t)):e.push(n),e}const xp=new Set(["true","1"]),Mf=new Set(["false","0"]);function Gg(n,t){const e=xp.has(n)||Mf.has(n),i=xp.has(t)||Mf.has(t);return(r,s)=>{let u="*"==n||n==r,f="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?xp.has(n):Mf.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?xp.has(t):Mf.has(t)),u&&f}}const Ny=new RegExp("s*:selfs*,?","g");function Sp(n,t,e){return new Hk(n).build(t,e)}class Hk{constructor(t){this._driver=t}build(t,e){const i=new Vy(e);return this._resetContextStyleTimingState(i),so(this,Tp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const g=f,C=g.name;C.toString().split(/\s*,\s*/).forEach(M=>{g.name=M,s.push(this.visitState(g,e))}),g.name=C}else if(1==f.type){const g=this.visitTransition(f,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};if(i.styles.forEach(f=>{if(Op(f)){const g=f;Object.keys(g).forEach(C=>{Dw(g[C]).forEach(M=>{u.hasOwnProperty(M)||s.add(M)})})}}),s.size){const f=zg(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=so(this,Tp(t.animation),e);return{type:1,matchers:Ex(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:jc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>so(this,i,e)),options:jc(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const f=so(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:s,options:jc(t.options)}}visitAnimate(t,e){const i=function Uy(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Zg(Ep(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Zg(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Ep(i,t),Zg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Tt({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,f=!1;if(!u){f=!0;const C={};i.easing&&(C.easing=i.easing),u=Tt(C)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=f,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Bl?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,s=null;return i.forEach(u=>{if(Op(u)){const f=u,g=f.easing;if(g&&(s=g,delete f.easing),!r)for(let C in f)if(f[C].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void e.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const g=e.collectedStyles[e.currentQuerySelector],C=g[f];let M=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(e.errors.push(`The CSS property "${f}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),M=!1),s=C.startTime),M&&(g[f]={startTime:s,endTime:r}),e.options&&function Tw(n,t,e){const i=t.params||{},r=Dw(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const u=[];let f=!1,g=!1,C=0;const M=t.steps.map(Re=>{const Ke=this._makeStyleAst(Re,e);let Le=null!=Ke.offset?Ke.offset:function Ow(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Op(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Op(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ke.styles),Ve=0;return null!=Le&&(s++,Ve=Ke.offset=Le),g=g||Ve<0||Ve>1,f=f||Ve<C,C=Ve,u.push(Ve),Ke});g&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");const S=t.steps.length;let k=0;s>0&&s<S?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(k=1/(S-1));const N=S-1,V=e.currentTime,W=e.currentAnimateTimings,ee=W.duration;return M.forEach((Re,Ke)=>{const Le=k>0?Ke==N?1:k*Ke:u[Ke],Ve=Le*ee;e.currentTime=V+W.delay+Ve,W.duration=Ve,this._validateStyleAst(Re,e),Re.offset=Le,i.styles.push(Re)}),i}visitReference(t,e){return{type:8,animation:so(this,Tp(t.animation),e),options:jc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function Tx(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ny,"")),n=n.replace(/@\*/g,Hg).replace(/@\w+/g,e=>Hg+"-"+e.substr(1)).replace(/:animating/g,Mw),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,To(e.collectedStyles,e.currentQuerySelector,{});const f=so(this,Tp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:jc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ep(t.timings,e.errors,!0);return{type:12,animation:so(this,Tp(t.animation),e),timings:i,options:null}}}class Vy{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Op(n){return!Array.isArray(n)&&"object"==typeof n}function jc(n){return n?(n=Cf(n)).params&&(n.params=function By(n){return n?Cf(n):null}(n.params)):n={},n}function Zg(n,t,e){return{duration:n,delay:t,easing:e}}function Ip(n,t,e,i,r,s,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:f}}class Ef{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Aw=new RegExp(":enter","g"),Pw=new RegExp(":leave","g");function Hy(n,t,e,i,r,s={},u={},f,g,C=[]){return(new kw).buildKeyframes(n,t,e,i,r,s,u,f,g,C)}class kw{buildKeyframes(t,e,i,r,s,u,f,g,C,M=[]){C=C||new Ef;const S=new Wg(t,e,C,r,s,M,[]);S.options=g,S.currentTimeline.setStyles([u],null,S.errors,g),so(this,i,S);const k=S.timelines.filter(N=>N.containsAnimation());if(Object.keys(f).length){let N;for(let V=k.length-1;V>=0;V--){const W=k[V];if(W.element===e){N=W;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([f],null,S.errors,g)}return k.length?k.map(N=>N.buildKeyframes()):[Ip(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?vf(i.duration):null,f=null!=i.delay?vf(i.delay):null;return 0!==u&&t.forEach(g=>{const C=e.appendInstructionToTimeline(g,u,f);s=Math.max(s,C.duration+C.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),so(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ap);const u=vf(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>so(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?vf(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);s&&f.delayNextStep(s),so(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ep(e.params?qg(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(g=>{f.forwardTime((g.offset||0)*s),f.setStyles(g.styles,g.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?vf(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ap);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let g=null;f.forEach((C,M)=>{e.currentQueryIndex=M;const S=e.createSubContext(t.options,C);s&&S.delayNextStep(s),C===e.element&&(g=S.currentTimeline),so(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),f=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const M=e.currentTimeline;g&&M.delayNextStep(g);const S=M.currentTime;so(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const Ap={};class Wg{constructor(t,e,i,r,s,u,f,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ap,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Tf(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=vf(i.duration)),null!=i.delay&&(r.delay=vf(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=qg(s[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Wg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ap,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new Rw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(Aw,"."+this._enterClassName)).replace(Pw,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),f.push(...C)}return!s&&0==f.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),f}}class Tf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Tf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Bl,this._currentKeyframe[e]=Bl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},u=function Fw(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Bl})):Uc(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=qg(u[f],s,i);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Bl),this._updateStyle(f,g)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const C=Uc(f,!0);Object.keys(C).forEach(M=>{const S=C[M];"!"==S?t.add(M):S==Bl&&e.add(M)}),i||(C.offset=g/this.duration),r.push(C)});const s=t.size?zg(t.values()):[],u=e.size?zg(e.values()):[];if(i){const f=r[0],g=Cf(f);f.offset=0,g.offset=1,r=[f,g]}return Ip(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class Rw extends Tf{constructor(t,e,i,r,s,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,f=e/u,g=Uc(t[0],!1);g.offset=0,s.push(g);const C=Uc(t[0],!1);C.offset=qy(f),s.push(C);const M=t.length-1;for(let S=1;S<=M;S++){let k=Uc(t[S],!1);k.offset=qy((e+k.offset*i)/u),s.push(k)}i=u,e=0,r="",t=s}return Ip(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function qy(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Yg{}class Nw extends Yg{normalizePropertyName(t,e){return $g(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(Lw[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+s}}const Lw=(()=>function qk(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bw(n,t,e,i,r,s,u,f,g,C,M,S,k){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:C,postStyleProps:M,totalTime:S,errors:k}}const zy={};class $y{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Ox(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):u}build(t,e,i,r,s,u,f,g,C,M){const S=[],k=this.ast.options&&this.ast.options.params||zy,V=this.buildStyles(i,f&&f.params||zy,S),W=g&&g.params||zy,ee=this.buildStyles(r,W,S),Re=new Set,Ke=new Map,Le=new Map,Ve="void"===r,mt={params:Object.assign(Object.assign({},k),W)},yt=M?[]:Hy(t,e,this.ast.animation,s,u,V,ee,mt,C,S);let an=0;if(yt.forEach(Ea=>{an=Math.max(Ea.duration+Ea.delay,an)}),S.length)return Bw(e,this._triggerName,i,r,Ve,V,ee,[],[],Ke,Le,an,S);yt.forEach(Ea=>{const Od=Ea.element,T3=To(Ke,Od,{});Ea.preStyleProps.forEach(Lm=>T3[Lm]=!0);const EC=To(Le,Od,{});Ea.postStyleProps.forEach(Lm=>EC[Lm]=!0),Od!==e&&Re.add(Od)});const ar=zg(Re.values());return Bw(e,this._triggerName,i,r,Ve,V,ee,yt,ar,Ke,Le,an)}}class tr{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Cf(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!=u&&(r[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=qg(g,r,e));const C=this.normalizer.normalizePropertyName(f,e);g=this.normalizer.normalizeStyleValue(f,C,g,e),i[C]=g})}}),i}}class Ix{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new tr(r.style,r.options&&r.options.params||{},i)}),Gy(this.states,"true","1"),Gy(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $y(t,r,this.states))}),this.fallbackTransition=function Ax(n,t,e){return new $y(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Gy(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Px=new Ef;class Uw{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Sp(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=Ey(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let u;const f=new Map;if(s?(u=Hy(this._driver,e,s,Iy,bf,{},{},i,Px,r),u.forEach(M=>{const S=To(f,M.element,{});M.postStyleProps.forEach(k=>S[k]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);f.forEach((M,S)=>{Object.keys(M).forEach(k=>{M[k]=this._driver.computeStyle(S,k,Bl)})});const C=Ko(u.map(M=>{const S=f.get(M.element);return this._buildPlayer(M,{},S)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=Bg(e,"","","");return Ng(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Zy="ng-animate-queued",Wy="ng-animate-disabled",Hw=[],Fx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed";class Bs{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function zw(n){return null!=n?n:null}(i?t.value:t),i){const s=Cf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Pp="void",Ky=new Bs(Pp);class Za{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,jr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function Nx(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=To(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const f=To(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(jr(t,yf),jr(t,yf+"-"+e),f[e]=Ky),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(u);g>=0&&s.splice(g,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new Qo(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(jr(t,yf),jr(t,yf+"-"+e),this._engine.statesByElement.set(t,f={}));let g=f[e];const C=new Bs(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&C.absorbOptions(g.options),f[e]=C,g||(g=Ky),C.value!==Pp&&g.value===C.value){if(!function Ww(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(g.params,C.params)){const W=[],ee=s.matchStyles(g.value,g.params,W),Re=s.matchStyles(C.value,C.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{Ga(t,ee),ha(t,Re)})}return}const k=To(this._engine.playersByElement,t,[]);k.forEach(W=>{W.namespaceId==this.id&&W.triggerName==e&&W.queued&&W.destroy()});let N=s.matchTransition(g.value,C.value,t,C.params),V=!1;if(!N){if(!r)return;N=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:g,toState:C,player:u,isFallbackTransition:V}),V||(jr(t,Zy),u.onStart(()=>{xf(t,Zy)})),u.onDone(()=>{let W=this.players.indexOf(u);W>=0&&this.players.splice(W,1);const ee=this._engine.playersByElement.get(t);if(ee){let Re=ee.indexOf(u);Re>=0&&ee.splice(Re,1)}}),this.players.push(u),k.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Hg,!0);i.forEach(r=>{if(r[Do])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const f=[];if(Object.keys(s).forEach(g=>{if(u.set(g,s[g].value),this._triggers[g]){const C=this.trigger(t,g,Pp,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Ko(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const g=this._triggers[u].fallbackTransition,C=i[u]||Ky,M=new Bs(Pp),S=new Qo(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:C,toState:M,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Do];(!s||s===Fx)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){jr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=Bg(s,i.triggerName,i.fromState.value,i.toState.value);g._data=t,Ng(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class pa{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Za(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const u=i[r[s]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(Kg(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Kg(e))return;const s=e[Do];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jr(t,Wy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xf(t,Wy))}removeNode(t,e,i,r){if(Kg(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Do]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Kg(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Hg,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mw,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ko(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Do];if(i&&i.setForRemoval){if(t[Do]=Fx,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Wy))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ko(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Ef,r=[],s=new Map,u=[],f=new Map,g=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(pt=>{M.add(pt);const Pt=this.driver.query(pt,".ng-animate-queued",!0);for(let Lt=0;Lt<Pt.length;Lt++)M.add(Pt[Lt])});const S=this.bodyNode,k=Array.from(this.statesByElement.keys()),N=Qg(k,this.collectedEnterElements),V=new Map;let W=0;N.forEach((pt,Pt)=>{const Lt=Iy+W++;V.set(Pt,Lt),pt.forEach(xn=>jr(xn,Lt))});const ee=[],Re=new Set,Ke=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Pt=this.collectedLeaveElements[pt],Lt=Pt[Do];Lt&&Lt.setForRemoval&&(ee.push(Pt),Re.add(Pt),Lt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(xn=>Re.add(xn)):Ke.add(Pt))}const Le=new Map,Ve=Qg(k,Array.from(Re));Ve.forEach((pt,Pt)=>{const Lt=bf+W++;Le.set(Pt,Lt),pt.forEach(xn=>jr(xn,Lt))}),t.push(()=>{N.forEach((pt,Pt)=>{const Lt=V.get(Pt);pt.forEach(xn=>xf(xn,Lt))}),Ve.forEach((pt,Pt)=>{const Lt=Le.get(Pt);pt.forEach(xn=>xf(xn,Lt))}),ee.forEach(pt=>{this.processLeaveNode(pt)})});const mt=[],yt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(Lt=>{const xn=Lt.player,Zr=Lt.element;if(mt.push(xn),this.collectedEnterElements.length){const ps=Zr[Do];if(ps&&ps.setForMove){if(ps.previousTriggersValues&&ps.previousTriggersValues.has(Lt.triggerName)){const Bm=ps.previousTriggersValues.get(Lt.triggerName),Mh=this.statesByElement.get(Lt.element);Mh&&Mh[Lt.triggerName]&&(Mh[Lt.triggerName].value=Bm)}return void xn.destroy()}}const ou=!S||!this.driver.containsElement(S,Zr),Ta=Le.get(Zr),wh=V.get(Zr),ki=this._buildInstruction(Lt,i,wh,Ta,ou);if(ki.errors&&ki.errors.length)return void yt.push(ki);if(ou)return xn.onStart(()=>Ga(Zr,ki.fromStyles)),xn.onDestroy(()=>ha(Zr,ki.toStyles)),void r.push(xn);if(Lt.isFallbackTransition)return xn.onStart(()=>Ga(Zr,ki.fromStyles)),xn.onDestroy(()=>ha(Zr,ki.toStyles)),void r.push(xn);const S3=[];ki.timelines.forEach(ps=>{ps.stretchStartingKeyframe=!0,this.disabledNodes.has(ps.element)||S3.push(ps)}),ki.timelines=S3,i.append(Zr,ki.timelines),u.push({instruction:ki,player:xn,element:Zr}),ki.queriedElements.forEach(ps=>To(f,ps,[]).push(xn)),ki.preStyleProps.forEach((ps,Bm)=>{const Mh=Object.keys(ps);if(Mh.length){let Vm=g.get(Bm);Vm||g.set(Bm,Vm=new Set),Mh.forEach(KP=>Vm.add(KP))}}),ki.postStyleProps.forEach((ps,Bm)=>{const Mh=Object.keys(ps);let Vm=C.get(Bm);Vm||C.set(Bm,Vm=new Set),Mh.forEach(KP=>Vm.add(KP))})});if(yt.length){const pt=[];yt.forEach(Pt=>{pt.push(`@${Pt.triggerName} has failed due to:\n`),Pt.errors.forEach(Lt=>pt.push(`- ${Lt}\n`))}),mt.forEach(Pt=>Pt.destroy()),this.reportError(pt)}const an=new Map,ar=new Map;u.forEach(pt=>{const Pt=pt.element;i.has(Pt)&&(ar.set(Pt,Pt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,an))}),r.forEach(pt=>{const Pt=pt.element;this._getPreviousPlayers(Pt,!1,pt.namespaceId,pt.triggerName,null).forEach(xn=>{To(an,Pt,[]).push(xn),xn.destroy()})});const Ea=ee.filter(pt=>kp(pt,g,C)),Od=new Map;Gw(Od,this.driver,Ke,C,Bl).forEach(pt=>{kp(pt,g,C)&&Ea.push(pt)});const EC=new Map;N.forEach((pt,Pt)=>{Gw(EC,this.driver,new Set(pt),g,"!")}),Ea.forEach(pt=>{const Pt=Od.get(pt),Lt=EC.get(pt);Od.set(pt,Object.assign(Object.assign({},Pt),Lt))});const Lm=[],D3=[],x3={};u.forEach(pt=>{const{element:Pt,player:Lt,instruction:xn}=pt;if(i.has(Pt)){if(M.has(Pt))return Lt.onDestroy(()=>ha(Pt,xn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(xn.totalTime),void r.push(Lt);let Zr=x3;if(ar.size>1){let Ta=Pt;const wh=[];for(;Ta=Ta.parentNode;){const ki=ar.get(Ta);if(ki){Zr=ki;break}wh.push(Ta)}wh.forEach(ki=>ar.set(ki,Zr))}const ou=this._buildAnimation(Lt.namespaceId,xn,an,s,EC,Od);if(Lt.setRealPlayer(ou),Zr===x3)Lm.push(Lt);else{const Ta=this.playersByElement.get(Zr);Ta&&Ta.length&&(Lt.parentPlayer=Ko(Ta)),r.push(Lt)}}else Ga(Pt,xn.fromStyles),Lt.onDestroy(()=>ha(Pt,xn.toStyles)),D3.push(Lt),M.has(Pt)&&r.push(Lt)}),D3.forEach(pt=>{const Pt=s.get(pt.element);if(Pt&&Pt.length){const Lt=Ko(Pt);pt.setRealPlayer(Lt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<ee.length;pt++){const Pt=ee[pt],Lt=Pt[Do];if(xf(Pt,bf),Lt&&Lt.hasAnimation)continue;let xn=[];if(f.size){let ou=f.get(Pt);ou&&ou.length&&xn.push(...ou);let Ta=this.driver.query(Pt,Mw,!0);for(let wh=0;wh<Ta.length;wh++){let ki=f.get(Ta[wh]);ki&&ki.length&&xn.push(...ki)}}const Zr=xn.filter(ou=>!ou.destroyed);Zr.length?Zw(this,Pt,Zr):this.processLeaveNode(Pt)}return ee.length=0,Lm.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Pt=this.players.indexOf(pt);this.players.splice(Pt,1)}),pt.play()}),Lm}elementContainsData(t,e){let i=!1;const r=e[Do];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const g=!s||s==Pp;f.forEach(C=>{C.queued||!g&&C.triggerName!=r||u.push(C)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const C=g.element,M=C!==s,S=To(i,C,[]);this._getPreviousPlayers(C,M,u,f,e.toState).forEach(N=>{const V=N.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),N.destroy(),S.push(N)})}Ga(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const f=e.triggerName,g=e.element,C=[],M=new Set,S=new Set,k=e.timelines.map(V=>{const W=V.element;M.add(W);const ee=W[Do];if(ee&&ee.removedBeforeQueried)return new fa(V.duration,V.delay);const Re=W!==g,Ke=function Lx(n){const t=[];return Qy(n,t),t}((i.get(W)||Hw).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===W),Le=s.get(W),Ve=u.get(W),mt=Ey(0,this._normalizer,0,V.keyframes,Le,Ve),yt=this._buildPlayer(V,mt,Ke);if(V.subTimeline&&r&&S.add(W),Re){const an=new Qo(t,f,W);an.setRealPlayer(yt),C.push(an)}return yt});C.forEach(V=>{To(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function qw(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),M.forEach(V=>jr(V,Cx));const N=Ko(k);return N.onDestroy(()=>{M.forEach(V=>xf(V,Cx)),ha(g,e.toStyles)}),S.forEach(V=>{To(r,V,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new fa(t.duration,t.delay)}}class Qo{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new fa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Ng(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){To(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Kg(n){return n&&1===n.nodeType}function $w(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Gw(n,t,e,i,r){const s=[];e.forEach(g=>s.push($w(g)));const u=[];i.forEach((g,C)=>{const M={};g.forEach(S=>{const k=M[S]=t.computeStyle(C,S,r);(!k||0==k.length)&&(C[Do]=Yy,u.push(C))}),n.set(C,M)});let f=0;return e.forEach(g=>$w(g,s[f++])),u}function Qg(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(f){if(!f)return 1;let g=s.get(f);if(g)return g;const C=f.parentNode;return g=e.has(C)?C:r.has(C)?1:u(C),s.set(f,g),g}return t.forEach(f=>{const g=u(f);1!==g&&e.get(g).push(f)}),e}function jr(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function xf(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Zw(n,t,e){Ko(e).onDone(()=>n.processLeaveNode(t))}function Qy(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof rd?Qy(i.players,t):t.push(i)}}function kp(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Jg{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new pa(t,e,i),this._timelineEngine=new Uw(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],C=Sp(this._driver,s,g);if(g.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${g.join("\n - ")}`);f=function Vw(n,t,e){return new Ix(n,t,e)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=Ty(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,f]=Ty(i);return this._timelineEngine.listen(u,e,f,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Jy(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Rp(t[0]),t.length>1&&(i=Rp(t[t.length-1]))):t&&(e=Rp(t)),e||i?new Yw(n,e,i):null}let Yw=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ha(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ha(this._element,this._initialStyles),this._endStyles&&(ha(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ga(this._element,this._endStyles),this._endStyles=null),ha(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Rp(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Xg(r)&&(t=t||{},t[r]=n[r])}return t}function Xg(n){return"display"===n||"position"===n}const Xy="animation",ev="animationend";class Jw{constructor(t,e,i,r,s,u,f){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=g=>this._handleCallback(g)}apply(){(function Xw(n,t){const e=rv(n,"").trim();let i=0;e.length&&(i=function Bx(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),e_(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){tv(this._element,this._name,"paused")}resume(){tv(this._element,this._name,"running")}setPosition(t){const e=nv(this._element,this._name);this._position=t*this._duration,e_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function eM(n,t){const i=rv(n,"").split(","),r=iv(i,t);r>=0&&(i.splice(r,1),e_(n,"",i.join(",")))}(this._element,this._name))}}function tv(n,t,e){e_(n,"PlayState",e,nv(n,t))}function nv(n,t){const e=rv(n,"");return e.indexOf(",")>0?iv(e.split(","),t):iv([e],t)}function iv(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function tM(n,t,e){e?n.removeEventListener(ev,t):n.addEventListener(ev,t)}function e_(n,t,e,i){const r=Xy+t;if(null!=i){const s=n.style[r];if(s.length){const u=s.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function rv(n,t){return n.style[Xy+t]||""}class nM{constructor(t,e,i,r,s,u,f,g){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=f,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Jw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:xw(this.element,i))})}this.currentSnapshot=t}}class jx extends fa{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Oy(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class rM{constructor(){this._count=0}validateStyleProperty(t){return Ug(t)}matchesElement(t,e){return!1}containsElement(t,e){return xy(t,e)}query(t,e,i){return Sy(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(f=>Oy(f));let r=`@keyframes ${e} {\n`,s="";i.forEach(f=>{s=" ";const g=parseFloat(f.offset);r+=`${s}${100*g}% {\n`,s+=" ",Object.keys(f).forEach(C=>{const M=f[C];switch(C){case"offset":return;case"easing":return void(M&&(r+=`${s}animation-timing-function: ${M};\n`));default:return void(r+=`${s}${C}: ${M};\n`)}}),r+=`${s}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,s,u=[],f){const g=u.filter(ee=>ee instanceof nM),C={};Ry(i,r)&&g.forEach(ee=>{let Re=ee.currentSnapshot;Object.keys(Re).forEach(Ke=>C[Ke]=Re[Ke])});const M=function zx(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=Fy(t,e,C));if(0==i)return new jx(t,M);const S="gen_css_kf_"+this._count++,k=this.buildKeyframeElement(t,S,e);(function qx(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(k);const V=Jy(t,e),W=new nM(t,e,S,i,r,s,M,V);return W.onDestroy(()=>function $x(n){n.parentNode.removeChild(n)}(k)),W}}class ov{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:xw(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sM{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sv().toString()),this._cssKeyframesDriver=new rM}validateStyleProperty(t){return Ug(t)}matchesElement(t,e){return!1}containsElement(t,e){return xy(t,e)}query(t,e,i){return Sy(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,u);const M={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(M.easing=s);const S={},k=u.filter(V=>V instanceof ov);Ry(i,r)&&k.forEach(V=>{let W=V.currentSnapshot;Object.keys(W).forEach(ee=>S[ee]=W[ee])});const N=Jy(t,e=Fy(t,e=e.map(V=>Uc(V,!1)),S));return new ov(t,e,M,N)}}function sv(){return od()&&Element.prototype.animate||{}}let lM=(()=>{class n extends wp{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Fg(e):e;return av(this._renderer,null,i,"register",[r]),new cM(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class cM extends class _f{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new uM(this._id,t,e||{},this._renderer)}}class uM{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return av(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function av(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const t_="@.disabled";let lv=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const f=null==u?void 0:u.parentNode(s);f&&u.removeChild(f,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new Hc("",s,this.engine),this._rendererCache.set(s,M)),M}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const g=M=>{Array.isArray(M)?M.forEach(g):this.engine.registerTrigger(u,f,e,M.name,M)};return i.data.animation.forEach(g),new Gx(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,f]=s;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Jg),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Hc{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==t_?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gx extends Hc{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==t_?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Zx(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function Sf(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let $k=(()=>{class n extends Jg{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(jg),o.LFG(Yg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Jo=new o.OlP("AnimationModuleType"),Wx=[{provide:wp,useClass:lM},{provide:Yg,useFactory:function Gk(){return new Nw}},{provide:Jg,useClass:$k},{provide:o.FYo,useFactory:function dM(n,t,e){return new lv(n,t,e)},deps:[Tr,Jg,o.R0b]}],xt=[{provide:jg,useFactory:function cv(){return function aM(){return"function"==typeof sv()}()?new sM:new rM}},{provide:Jo,useValue:"BrowserAnimations"},...Wx],Yx=[{provide:jg,useClass:Cw},{provide:Jo,useValue:"NoopAnimations"},...Wx];let Kx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Yx:xt}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:xt,imports:[hl]}),n})();function n_(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function i_(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const _i=["*"];let fM=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Jx=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const hM=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xx(){return!0}});let nn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Sg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mw),o.LFG(hM,8),o.LFG(X))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[_p],_p]}),n})();function Of(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Nt(t)}}}function If(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Wa(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Nt(t)}}}function nS(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?gr(e):this.defaultTabIndex}}}function pM(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new ht.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function mM(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new vn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let s_=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Af(n,t,e){n.nativeElement.classList.toggle(t,e)}let bM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})();class sS{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aS={enterDuration:225,exitDuration:150},yM=ed({passive:!0}),lS=["mousedown","touchstart"],hv=["mouseup","mouseleave","touchend","touchcancel"];class a_{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Eo(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},aS),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function uS(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,g=e-r.top,C=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=f-u+"px",M.style.top=g-u+"px",M.style.height=2*u+"px",M.style.width=2*u+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M),function cS(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const S=new sS(this,M,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const k=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!k||!this._isPointerDown)&&S.fadeOut()},C),S}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},aS),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Eo(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(lS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=yy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!vy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,yM)})})}_removeTriggerEvents(){this._triggerElement&&(lS.forEach(t=>{this._triggerElement.removeEventListener(t,this,yM)}),this._pointerUpEventsRegistered&&hv.forEach(t=>{this._triggerElement.removeEventListener(t,this,yM)}))}}const vM=new o.OlP("mat-ripple-global-options");let Ul=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new a_(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Hi),o.Y36(vM,8),o.Y36(Jo,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),l_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})(),CM=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Jo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn]]}),n})();const wM=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),MM=new o.OlP("MatOptgroup");let fS=0;class EM{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let hS=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+fS++,this.onSelectionChange=new o.vpe,this._stateChanges=new ht.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Nt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!er(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new EM(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),ma=(()=>{class n extends hS{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(wM,8),o.Y36(MM,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:_i,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,n_,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,i_,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[CM,Xt,Ul],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function TM(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}let xM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[l_,Qi,nn,pv]]}),n})();var Vs=R(6451);const pS=["mat-sort-header",""];function SM(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const OM=["*"],qc=Jx.ENTERING+" "+fM.STANDARD_CURVE,Pf={indicator:Or("indicator",[Bn("active-asc, asc",Tt({transform:"translateY(0px)"})),Bn("active-desc, desc",Tt({transform:"translateY(10px)"})),Vn("active-asc <=> active-desc",Ai(qc))]),leftPointer:Or("leftPointer",[Bn("active-asc, asc",Tt({transform:"rotate(-45deg)"})),Bn("active-desc, desc",Tt({transform:"rotate(45deg)"})),Vn("active-asc <=> active-desc",Ai(qc))]),rightPointer:Or("rightPointer",[Bn("active-asc, asc",Tt({transform:"rotate(45deg)"})),Bn("active-desc, desc",Tt({transform:"rotate(-45deg)"})),Vn("active-asc <=> active-desc",Ai(qc))]),arrowOpacity:Or("arrowOpacity",[Bn("desc-to-active, asc-to-active, active",Tt({opacity:1})),Bn("desc-to-hint, asc-to-hint, hint",Tt({opacity:.54})),Bn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Tt({opacity:0})),Vn("* => asc, * => desc, * => active, * => hint, * => void",Ai("0ms")),Vn("* <=> *",Ai(qc))]),arrowPosition:Or("arrowPosition",[Vn("* => desc-to-hint, * => desc-to-active",Ai(qc,qi([Tt({transform:"translateY(-25%)"}),Tt({transform:"translateY(0)"})]))),Vn("* => hint-to-desc, * => active-to-desc",Ai(qc,qi([Tt({transform:"translateY(0)"}),Tt({transform:"translateY(25%)"})]))),Vn("* => asc-to-hint, * => asc-to-active",Ai(qc,qi([Tt({transform:"translateY(25%)"}),Tt({transform:"translateY(0)"})]))),Vn("* => hint-to-asc, * => active-to-asc",Ai(qc,qi([Tt({transform:"translateY(0)"}),Tt({transform:"translateY(-25%)"})]))),Bn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Tt({transform:"translateY(0)"})),Bn("hint-to-desc, active-to-desc, desc",Tt({transform:"translateY(-25%)"})),Bn("hint-to-asc, active-to-asc, asc",Tt({transform:"translateY(25%)"}))]),allowChildren:Or("allowChildren",[Vn("* <=> *",[Vl("@*",oo(),{optional:!0})])])};let c_=(()=>{class n{constructor(){this.changes=new ht.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _S={provide:c_,deps:[[new o.FiY,new o.tp0,c_]],useFactory:function gS(n){return n||new c_}},bS=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),yS=mM(Of(class{}));let ga=(()=>{class n extends yS{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new ht.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Nt(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var i,r,s;if(!e)return"";const u=null!==(r=null!==(i=null==e?void 0:e.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(s=this._defaultOptions)||void 0===s?void 0:s.disableClear);let f=function vS(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,u),g=f.indexOf(this.direction)+1;return g>=f.length&&(g=0),f[g]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(bS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();const CS=Of(class{});let kf=(()=>{class n extends CS{constructor(e,i,r,s,u,f,g){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=u,this._elementRef=f,this._ariaDescriber=g,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Nt(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&(null===(i=this._ariaDescriber)||void 0===i||i.removeDescription(this._sortButton,this._sortActionDescription),null===(r=this._ariaDescriber)||void 0===r||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,Vs.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(c_),o.Y36(o.sBO),o.Y36(ga,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(Nc),o.Y36(o.SBq),o.Y36(nd,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",i._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:pS,ngContentSelectors:OM,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,SM,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"==i.arrowPosition),o.uIk("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),o.xp6(3),o.Q6J("ngIf",i._renderArrow()))},directives:[Xt],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[Pf.indicator,Pf.leftPointer,Pf.rightPointer,Pf.arrowOpacity,Pf.arrowPosition,Pf.allowChildren]},changeDetection:0}),n})(),mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_S],imports:[[Qi,nn]]}),n})();function gv(n){return n&&"function"==typeof n.connect}class AM{applyChanges(t,e,i,r,s){t.forEachOperation((u,f,g)=>{let C,M;if(null==u.previousIndex){const S=i(u,f,g);C=e.createEmbeddedView(S.templateRef,S.context,S.index),M=1}else null==g?(e.remove(f),M=3):(C=e.get(f),e.move(C,g),M=2);s&&s({context:null==C?void 0:C.context,operation:M,record:u})})}detach(){}}class _v{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ht.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Rf=new o.OlP("_ViewRepeater");var ES=R(1144);const TS=["addListener","removeListener"],yv=["addEventListener","removeEventListener"],DS=["on","off"];function zc(n,t,e,i){if((0,fr.m)(e)&&(i=e,e=void 0),i)return zc(n,t,e).pipe(_c(i));const[r,s]=function LM(n){return(0,fr.m)(n.addEventListener)&&(0,fr.m)(n.removeEventListener)}(n)?yv.map(u=>f=>n[u](t,f,e)):function NM(n){return(0,fr.m)(n.addListener)&&(0,fr.m)(n.removeListener)}(n)?TS.map(FM(n,t)):function xS(n){return(0,fr.m)(n.on)&&(0,fr.m)(n.off)}(n)?DS.map(FM(n,t)):[];if(!r&&(0,ES.z)(n))return(0,An.z)(u=>zc(u,t,e))((0,dr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new vn.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return r(f),()=>s(f)})}function FM(n,t){return e=>i=>n[e](t,i)}var SS=R(4408);const Lp={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Lp;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Bi.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Lp;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Lp;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var BM=R(7565);new class Ff extends BM.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class Bp extends SS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Lp.cancelAnimationFrame(e),t._scheduled=void 0)}});let u_,sR=1;const d_={};function VM(n){return n in d_&&(delete d_[n],!0)}const OS={setImmediate(n){const t=sR++;return d_[t]=!0,u_||(u_=Promise.resolve()),u_.then(()=>VM(t)&&n()),t},clearImmediate(n){VM(n)}},{setImmediate:UM,clearImmediate:jM}=OS,Nf={setImmediate(...n){const{delegate:t}=Nf;return((null==t?void 0:t.setImmediate)||UM)(...n)},clearImmediate(n){const{delegate:t}=Nf;return((null==t?void 0:t.clearImmediate)||jM)(n)},delegate:void 0};new class Up extends BM.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class f_ extends SS.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Nf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Nf.clearImmediate(e),t._scheduled=void 0)}});var PS=R(3532);function h_(n,t=Ns.P){return function HM(n){return(0,$n.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const f=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const C=r;r=null,e.next(C)}u&&e.complete()},g=()=>{s=null,u&&e.complete()};t.subscribe(new Cn.Q(e,C=>{i=!0,r=C,s||(0,dr.Xf)(n(C)).subscribe(s=new Cn.Q(e,f,g))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function RS(n=0,t,e=Ns.P){let i=-1;return null!=t&&((0,PS.K)(t)?e=t:i=t),new vn.y(r=>{let s=function kS(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let p_=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ht.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(h_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):He()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(At(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Eo(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Hi),o.LFG(X,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bf=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ht.x,this._elementScrolled=new vn.y(u=>this.ngZone.runOutsideAngular(()=>zc(this.elementRef.nativeElement,"scroll").pipe($t(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Dg()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Dg()?e.left=e.right:1==Dg()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Tg()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==Dg()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==Dg()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(p_),o.Y36(o.R0b),o.Y36(ua,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Hp=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ht.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(h_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi),o.LFG(o.R0b),o.LFG(X,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ad=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),vv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[_p,ad],_p,ad]}),n})();const US=[[["caption"]],[["colgroup"],["col"]]],jS=["caption","colgroup, col"];function Cv(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Nt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Vf=new o.OlP("CDK_TABLE");let Ya=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),ld=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),qp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class zM{}const $M=Cv(zM);let Ka=(()=>{class n extends $M{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Nt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Ya,5),o.Suo(r,ld,5),o.Suo(r,qp,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class m_{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let wv=(()=>{class n extends m_{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ka),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),Ev=(()=>{class n extends m_{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ka),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class GM{constructor(){this.tasks=[],this.endTasks=[]}}const Tv=new o.OlP("_COALESCED_STYLE_SCHEDULER");let ZM=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ht.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new GM,this._getScheduleObservable().pipe($t(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new GM;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ft.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,cn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Dv=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof zp?e.headerCell.template:this instanceof Gp?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class xv extends Dv{}const Qa=Cv(xv);let zp=(()=>{class n extends Qa{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class __ extends Dv{}const $p=Cv(__);let Gp=(()=>{class n extends $p{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),b_=(()=>{class n extends Dv{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Vf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),jl=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[jl],encapsulation:2}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[jl],encapsulation:2}),n})(),y_=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Ov=["top","bottom","left","right"];class WM{constructor(t,e,i,r,s=!0,u=!0,f){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,f=this._getCellWidths(s,r),g=this._getStickyStartColumnPositions(f,e),C=this._getStickyEndColumnPositions(f,i),M=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,N=k?"right":"left",V=k?"left":"right";for(const W of t)for(let ee=0;ee<u;ee++){const Re=W.children[ee];e[ee]&&this._addStickyStyle(Re,N,g[ee],ee===M),i[ee]&&this._addStickyStyle(Re,V,C[ee],ee===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:f.slice(0,M+1).map((W,ee)=>e[ee]?W:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:f.slice(S).map((W,ee)=>i[ee+S]?W:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],f=[],g=[];for(let M=0,S=0;M<r.length;M++){if(!s[M])continue;u[M]=S;const k=r[M];g[M]=this._isNativeHtmlTable?Array.from(k.children):[k];const N=k.getBoundingClientRect().height;S+=N,f[M]=N}const C=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var M,S;for(let k=0;k<r.length;k++){if(!s[k])continue;const N=u[k],V=k===C;for(const W of g[k])this._addStickyStyle(W,i,N,V)}"top"===i?null===(M=this._positionListener)||void 0===M||M.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:g}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:g})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);Ov.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Ov)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const Zp=new o.OlP("CDK_SPL");let v_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),C_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),w_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),M_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Wp=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S,k,N){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=g,this._viewRepeater=C,this._coalescedStyleScheduler=M,this._viewportRuler=S,this._stickyPositioningListener=k,this._ngZone=N,this._onDestroy=new ht.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Si({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Nt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Nt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe($t(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),gv(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,cn.q)(1),$t(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===s&&u.push(i[f]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let f=0;f<u.length;f++){let g=u[f];const C=this._cachedRenderRowsMap.get(g.data);C.has(g.rowDef)?C.get(g.rowDef).push(g):C.set(g.rowDef,[g]),e.push(g)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const g=f.shift();return g.dataIndex=i,g}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Yp(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Yp(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Yp(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Yp(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],gv(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;gv(this.dataSource)?e=this.dataSource.connect(this):function bv(n){return!!n&&(n instanceof vn.y||(0,fr.m)(n.lift)&&(0,fr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=He(this.dataSource)),this._renderChangeSubscription=e.pipe($t(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),s=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))jl.mostRecentCellOutlet&&jl.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new WM(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:He()).pipe($t(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(ua,8),o.Y36(X),o.Y36(Hi),o.Y36(Rf),o.Y36(Tv),o.Y36(Hp),o.Y36(Zp,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,y_,5),o.Suo(r,Ka,5),o.Suo(r,b_,5),o.Suo(r,zp,5),o.Suo(r,Gp,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(v_,7),o.Gf(C_,7),o.Gf(w_,7),o.Gf(M_,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Vf,useExisting:n},{provide:Rf,useClass:AM},{provide:Tv,useClass:ZM},{provide:Zp,useValue:null}])],ngContentSelectors:jS,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(US),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[C_,v_,M_,w_],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Yp(n,t){return n.concat(Array.from(t))}let YS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[vv]]}),n})();const XM=[[["caption"]],[["colgroup"],["col"]]],eE=["caption","colgroup, col"];let zi=(()=>{class n extends Wp{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Rf,useClass:AM},{provide:Wp,useExisting:n},{provide:Vf,useExisting:n},{provide:Tv,useClass:ZM},{provide:Zp,useValue:null}]),o.qOj],ngContentSelectors:eE,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(XM),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[C_,v_,M_,w_],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),Us=(()=>{class n extends Ya{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Ya,useExisting:n}]),o.qOj]}),n})(),cd=(()=>{class n extends ld{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:ld,useExisting:n}]),o.qOj]}),n})(),Hf=(()=>{class n extends Ka{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Ka,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),_a=(()=>{class n extends wv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),Hl=(()=>{class n extends Ev{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),qf=(()=>{class n extends zp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:zp,useExisting:n}]),o.qOj]}),n})(),zf=(()=>{class n extends b_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:b_,useExisting:n}]),o.qOj]}),n})(),$f=(()=>{class n extends Uf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:Uf,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[jl],encapsulation:2}),n})(),ud=(()=>{class n extends Sv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:Sv,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[jl],encapsulation:2}),n})(),eO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[YS,nn],nn]}),n})();class Gf extends class tO extends class wS{}{constructor(t=[]){super(),this._renderData=new Si([]),this._filter=new Si(""),this._internalPageChanges=new ht.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(mf(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((u,f)=>{let g=this.sortingDataAccessor(u,r),C=this.sortingDataAccessor(f,r);const M=typeof g,S=typeof C;M!==S&&("number"===M&&(g+=""),"number"===S&&(C+=""));let k=0;return null!=g&&null!=C?g>C?k=1:g<C&&(k=-1):null!=g?k=1:null!=C&&(k=-1),k*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,f)=>u+e[f]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Si(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Vs.T)(this._sort.sortChange,this._sort.initialized):He(null),i=this._paginator?(0,Vs.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):He(null),s=vl([this._data,this._filter]).pipe((0,et.U)(([g])=>this._filterData(g))),u=vl([s,e]).pipe((0,et.U)(([g])=>this._orderData(g))),f=vl([u,i]).pipe((0,et.U)(([g])=>this._pageData(g)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=f.subscribe(g=>this._renderData.next(g))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}const T_=["mat-button",""],sE=["*"],Rv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],pR=If(Of(Wa(class{constructor(n){this._elementRef=n}})));let nr=(()=>{class n extends pR{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Rv)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nc),o.Y36(Jo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(Ul,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:T_,ngContentSelectors:sE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ul],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),D_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[l_,nn],nn]}),n})();class x_{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class S_ extends x_{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class O_ extends x_{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class aE extends x_{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class I_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof S_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof O_?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof aE?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sO extends I_{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let lO=(()=>{class n extends I_{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const u=s.element,f=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(X))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),lE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const cO=Tg();class CR{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ti(-this._previousScrollPosition.left),t.style.top=ti(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),cO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cO&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class A_{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uO{enable(){}disable(){}attach(){}}function Kp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function dd(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class cE{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Kp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dO=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new uO,this.close=u=>new A_(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new CR(this._viewportRuler,this._document),this.reposition=u=>new cE(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(p_),o.LFG(Hp),o.LFG(o.R0b),o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fv{constructor(t){if(this.scrollStrategy=new uO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class dE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class fE{constructor(t,e,i,r,s,u,f,g,C){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new ht.x,this._attachments=new ht.x,this._detachments=new ht.x,this._locationChanges=Bi.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new ht.x,this._outsidePointerEvents=new ht.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,cn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ti(this._config.width),t.height=ti(this._config.height),t.minWidth=ti(this._config.minWidth),t.minHeight=ti(this._config.minHeight),t.maxWidth=ti(this._config.maxWidth),t.maxHeight=ti(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Pc(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($t((0,Vs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Zf=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Sg()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Sg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(Hi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nv="cdk-overlay-connected-position-bounding-box",wR=/([A-Za-z%]+)$/;class MR{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht.x,this._resizeSubscription=Bi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Nv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(t,r,f),C=this._getOverlayPoint(g,e,f),M=this._getOverlayFit(C,e,i,f);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(M,C,i)?s.push({position:f,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<M.visibleArea)&&(u={overlayFit:M,overlayPoint:C,originPoint:g,position:f,overlayRect:e})}if(s.length){let f=null,g=-1;for(const C of s){const M=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);M>g&&(g=M,f=C)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Nv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?u:f}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=P_(e);let{x:u,y:f}=t,g=this._getOffset(r,"x"),C=this._getOffset(r,"y");g&&(u+=g),C&&(f+=C);let k=0-f,N=f+s.height-i.height,V=this._subtractOverflows(s.width,0-u,u+s.width-i.width),W=this._subtractOverflows(s.height,k,N),ee=V*W;return{visibleArea:ee,isCompletelyWithinViewport:s.width*s.height===ee,fitsInViewportVertically:W===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=hE(this._overlayRef.getConfig().minHeight),f=hE(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=f&&f<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&C}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=P_(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),f=Math.max(t.y+r.height-s.height,0),g=Math.max(s.top-i.top-t.y,0),C=Math.max(s.left-i.left-t.x,0);let M=0,S=0;return M=r.width<=s.width?C||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,S=r.height<=s.height?g||-f:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:M,y:S},{x:t.x+M,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new dE(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,f,M,S,k;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,s=i.height-f+this._viewportMargin;else{const N=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;s=2*N,u=t.y-N,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-V/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)k=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,M=i.right-t.x;else{const N=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;M=2*N,S=t.x-N,M>V&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-V/2)}return{top:u,left:S,bottom:f,right:k,width:M,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ti(i.height),r.top=ti(i.top),r.bottom=ti(i.bottom),r.width=ti(i.width),r.left=ti(i.left),r.right=ti(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ti(s)),u&&(r.maxWidth=ti(u))}this._lastBoundingBoxSize=i,Wf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();Wf(i,this._getExactOverlayY(e,t,M)),Wf(i,this._getExactOverlayX(e,t,M))}else i.position="static";let f="",g=this._getOffset(e,"x"),C=this._getOffset(e,"y");g&&(f+=`translateX(${g}px) `),C&&(f+=`translateY(${C}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ti(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ti(u.maxWidth):s&&(i.maxWidth="")),Wf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ti(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ti(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dd(t,i),isOriginOutsideView:Kp(t,i),isOverlayClipped:dd(e,i),isOverlayOutsideView:Kp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Pc(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Wf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function hE(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(wR);return e&&"px"!==e?null:parseFloat(t)}return n||null}function P_(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pE="cdk-global-overlay-wrapper";class ER{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),C=!("100%"!==s&&"100vh"!==s||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=g?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,g?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(pE),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let pO=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new ER}flexibleConnectedTo(e){return new MR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hp),o.LFG(X),o.LFG(Hi),o.LFG(Zf))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k_=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mO=(()=>{class n extends k_{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const f=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xo=(()=>{class n extends k_{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Rc(s)},this._clickListener=s=>{const u=Rc(s),f="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let C=g.length-1;C>-1;C--){const M=g[C];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(u)||M.overlayElement.contains(f))break;const S=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(Hi),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gO=0,Ja=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S,k){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=C,this._directionality=M,this._location=S,this._outsideClickDispatcher=k}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new Fv(e);return u.direction=u.direction||this._directionality.value,new fE(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+gO++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new sO(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dO),o.LFG(Zf),o.LFG(o._Vd),o.LFG(pO),o.LFG(mO),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(X),o.LFG(ua),o.LFG(nt),o.LFG(Xo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _O=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],mE=new o.OlP("cdk-connected-overlay-scroll-strategy");let R_=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Lv=(()=>{class n{constructor(e,i,r,s,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Bi.w0.EMPTY,this._attachSubscription=Bi.w0.EMPTY,this._detachSubscription=Bi.w0.EMPTY,this._positionSubscription=Bi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new O_(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Nt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Nt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Nt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Nt(e)}get push(){return this._push}set push(e){this._push=Nt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=_O);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!er(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Fv({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof R_?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function vR(n,t=!1){return(0,$n.e)((e,i)=>{let r=0;e.subscribe(new Cn.Q(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ja),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(mE),o.Y36(ua,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const bO={provide:mE,deps:[Ja],useFactory:function gE(n){return()=>n.scrollStrategies.reposition()}};let F_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ja,bO],imports:[[_p,lE,vv],vv]}),n})();const vO=["connectionContainer"],CO=["inputContainer"],Bv=["label"];function ba(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function wO(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function TR(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function MO(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function _E(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function EO(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,TR,4,1,"ng-container",12),o.YNc(3,MO,1,0,"ng-content",12),o.YNc(4,_E,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function TO(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function bE(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function DO(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function DR(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function yE(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,DR,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const vE=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xO=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let SO=0;const Vv=new o.OlP("MatError");let xo=(()=>{class n{constructor(e,i){this.id="mat-error-"+SO++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:Vv,useExisting:n}])]}),n})();const Uv={transitionMessages:Or("transitionMessages",[Bn("enter",Tt({opacity:1,transform:"translateY(0%)"})),Vn("void => enter",[Tt({opacity:0,transform:"translateY(-5px)"}),Ai("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Qp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const AO=new o.OlP("MatHint");let PO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),CE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const kO=new o.OlP("MatPrefix"),wE=new o.OlP("MatSuffix");let N_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:wE,useExisting:n}])]}),n})(),RO=0;const AR=If(class{constructor(n){this._elementRef=n}},"primary"),NO=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Yf=new o.OlP("MatFormField");let Hr=(()=>{class n extends AR{constructor(e,i,r,s,u,f,g){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ht.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+RO++,this._labelId="mat-form-field-label-"+RO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Nt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Jn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($t(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Vs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Jn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Jn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe($t(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zc(this._label.nativeElement,"transitionend").pipe((0,cn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<M.length;S++)M[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const g=i.querySelectorAll(r),C=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const M=i.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(M),k=e.children,N=this._getStartEnd(k[0].getBoundingClientRect());let V=0;for(let W=0;W<k.length;W++)V+=k[W].offsetWidth;u=Math.abs(N-S)-5,f=V>0?.75*V+10:0}for(let M=0;M<g.length;M++)g[M].style.width=`${u}px`;for(let M=0;M<C.length;M++)C[M].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ua,8),o.Y36(NO,8),o.Y36(Hi),o.Y36(o.R0b),o.Y36(Jo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Qp,5),o.Suo(r,Qp,7),o.Suo(r,PO,5),o.Suo(r,PO,7),o.Suo(r,CE,5),o.Suo(r,Vv,5),o.Suo(r,AO,5),o.Suo(r,kO,5),o.Suo(r,wE,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(vO,7),o.Gf(CO,5),o.Gf(Bv,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Yf,useExisting:n}]),o.qOj],ngContentSelectors:xO,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(vE),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,ba,9,0,"ng-container",3),o.YNc(4,wO,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,EO,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,TO,2,0,"div",9),o.qZA(),o.YNc(11,bE,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,DO,2,1,"div",12),o.YNc(14,yE,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Xt,ux,ai,Mr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Uv.transitionMessages]},changeDetection:0}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,nn,vp],nn]}),n})();function Hv(...n){const t=(0,Ts.jO)(n),{args:e,keys:i}=Rh(n),r=new vn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const f=new Array(u);let g=u,C=u;for(let M=0;M<u;M++){let S=!1;(0,dr.Xf)(e[M]).subscribe(new Cn.Q(s,k=>{S||(S=!0,C--),f[M]=k},()=>g--,void 0,()=>{(!g||!S)&&(C||s.next(i?Ds(i,f):f),s.complete())}))}});return t?r.pipe(_c(t)):r}let $c=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Gc=(()=>{class n extends $c{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const es=new o.OlP("NgValueAccessor"),zv={provide:es,useExisting:(0,o.Gpc)(()=>ir),multi:!0},EE=new o.OlP("CompositionEventMode");let ir=(()=>{class n extends $c{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $v(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(EE,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([zv]),o.qOj]}),n})();function fd(n){return null==n||0===n.length}function LO(n){return null!=n&&"number"==typeof n.length}const ao=new o.OlP("NgValidators"),hd=new o.OlP("NgAsyncValidators"),PR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class di{static min(t){return function BO(n){return t=>{if(fd(t.value)||fd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Gv(n){return t=>{if(fd(t.value)||fd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function TE(n){return fd(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function DE(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function xE(n){return fd(n.value)||PR.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function SE(n){return t=>fd(t.value)||!LO(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Zv(n){return t=>LO(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Wv(n){if(!n)return Kf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(fd(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Xp(t)}static composeAsync(t){return AE(t)}}function Kf(n){return null}function OE(n){return null!=n}function IE(n){const t=(0,o.QGY)(n)?(0,Ft.D)(n):n;return(0,o.CqO)(t),t}function Yv(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Jp(n,t){return t.map(e=>e(n))}function Kv(n){return n.map(t=>function kR(n){return!n.validate}(t)?t:e=>t.validate(e))}function Xp(n){if(!n)return null;const t=n.filter(OE);return 0==t.length?null:function(e){return Yv(Jp(e,t))}}function Qv(n){return null!=n?Xp(Kv(n)):null}function AE(n){if(!n)return null;const t=n.filter(OE);return 0==t.length?null:function(e){return Hv(Jp(e,t).map(IE)).pipe((0,et.U)(Yv))}}function Jv(n){return null!=n?AE(Kv(n)):null}function PE(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VO(n){return n._rawValidators}function kE(n){return n._rawAsyncValidators}function Xv(n){return n?Array.isArray(n)?n:[n]:[]}function L_(n,t){return Array.isArray(n)?n.includes(t):n===t}function RE(n,t){const e=Xv(t);return Xv(n).forEach(r=>{L_(e,r)||e.push(r)}),e}function FE(n,t){return Xv(t).filter(e=>!L_(n,e))}class NE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Xa extends NE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lo extends NE{get formDirective(){return null}get path(){return null}}class UO{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let co=(()=>{class n extends UO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xa,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),el=(()=>{class n extends UO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function L(n,t){return[...t.path,n]}function z(n,t){$e(n,t),t.valueAccessor.writeValue(n.value),function Ee(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sn(n,t)})}(n,t),function kn(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Mt(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sn(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ue(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function K(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),st(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ge(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function $e(n,t){const e=VO(n);null!==t.validator?n.setValidators(PE(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=kE(n);null!==t.asyncValidator?n.setAsyncValidators(PE(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ge(t._rawValidators,r),ge(t._rawAsyncValidators,r)}function st(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=VO(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=kE(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return ge(t._rawValidators,i),ge(t._rawAsyncValidators,i),e}function sn(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function So(n,t){$e(n,t)}function em(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function B_(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tm(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ir?e=s:function r0(n){return Object.getPrototypeOf(n.constructor)===Gc}(s)?i=s:r=s}),r||i||e||null}function Qf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const o0="VALID",UE="INVALID",V_="PENDING",s0="DISABLED";function jO(n){return(qO(n)?n.validators:n)||null}function NR(n){return Array.isArray(n)?Qv(n):n||null}function HO(n,t){return(qO(t)?t.asyncValidators:n)||null}function LR(n){return Array.isArray(n)?Jv(n):n||null}function qO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const zO=n=>n instanceof GO,jE=n=>n instanceof HE,BR=n=>n instanceof HR;function VR(n){return zO(n)?n.value:n.getRawValue()}function UR(n,t){const e=jE(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function jR(n,t){jE(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class $O{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=NR(this._rawValidators),this._composedAsyncValidatorFn=LR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===o0}get invalid(){return this.status===UE}get pending(){return this.status==V_}get disabled(){return this.status===s0}get enabled(){return this.status!==s0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=NR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=LR(t)}addValidators(t){this.setValidators(RE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FE(t,this._rawAsyncValidators))}hasValidator(t){return L_(this._rawValidators,t)}hasAsyncValidator(t){return L_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=V_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=s0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=o0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===o0||this.status===V_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?s0:o0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=V_,this._hasOwnPendingAsyncValidator=!0;const e=IE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function d6(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=jE(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:BR(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?s0:this.errors?UE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(V_)?V_:this._anyControlsHaveStatus(UE)?UE:o0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class GO extends $O{constructor(t=null,e,i){super(jO(e),HO(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class HE extends $O{constructor(t,e,i){super(jO(e),HO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){jR(this,t),Object.keys(t).forEach(i=>{UR(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=VR(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class HR extends $O{constructor(t,e,i){super(jO(e),HO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){jR(this,t),t.forEach((i,r)=>{UR(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>VR(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const f6={provide:lo,useExisting:(0,o.Gpc)(()=>l0)},a0=(()=>Promise.resolve(null))();let l0=(()=>{class n extends lo{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new HE({},Qv(e),Jv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){a0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),z(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){a0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Qf(this._directives,e)})}addFormGroup(e){a0.then(()=>{const i=this._findContainer(e.path),r=new HE({});So(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){a0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){a0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,B_(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ao,10),o.Y36(hd,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([f6]),o.qOj]}),n})();const p6={provide:Xa,useExisting:(0,o.Gpc)(()=>im)},$R=(()=>Promise.resolve(null))();let im=(()=>{class n extends Xa{constructor(e,i,r,s){super(),this.control=new GO,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tm(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),em(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?L(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){z(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$R.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;$R.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lo,9),o.Y36(ao,10),o.Y36(hd,10),o.Y36(es,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([p6]),o.qOj,o.TTD]}),n})(),ZR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ZO=new o.OlP("NgModelWithFormControlWarning"),C6={provide:lo,useExisting:(0,o.Gpc)(()=>ts)};let ts=(()=>{class n extends lo{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(st(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return z(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){K(e.control||null,e,!1),Qf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,B_(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(K(i||null,e),zO(r)&&(z(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);So(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function pd(n,t){return st(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$e(this.form,this),this._oldForm&&st(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ao,10),o.Y36(hd,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([C6]),o.qOj,o.TTD]}),n})();const E6={provide:Xa,useExisting:(0,o.Gpc)(()=>tl)};let tl=(()=>{class n extends Xa{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tm(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),em(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return L(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(lo,13),o.Y36(ao,10),o.Y36(hd,10),o.Y36(es,10),o.Y36(ZO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([E6]),o.qOj,o.TTD]}),n})(),cF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ZR]]}),n})(),uF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[cF]}),n})(),XO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ZO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[cF]}),n})(),Zc=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let f,s=null,u=null;return null!=i&&(function V6(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new HE(r,{asyncValidators:u,updateOn:f,validators:s})}control(e,i,r){return new GO(e,i,r)}array(e,i,r){const s=e.map(u=>this._createControl(u));return new HR(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return zO(e)||jE(e)||BR(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:XO}),n})();const U6=["trigger"],j6=["panel"];function H6(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function q6(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function z6(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function $6(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,q6,2,1,"span",10),o.YNc(2,z6,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function G6(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Z6=[[["mat-select-trigger"]],"*"],W6=["mat-select-trigger","*"],dF={transformPanelWrap:Or("transformPanelWrap",[Vn("* => void",Vl("@transformPanel",[oo()],{optional:!0}))]),transformPanel:Or("transformPanel",[Bn("void",Tt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Bn("showing",Tt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Bn("showing-multiple",Tt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Vn("void => *",Ai("120ms cubic-bezier(0, 0, 0.2, 1)")),Vn("* => void",Ai("100ms 25ms linear",Tt({opacity:0})))])};let fF=0;const pF=new o.OlP("mat-select-scroll-strategy"),J6=new o.OlP("MAT_SELECT_CONFIG"),X6={provide:pF,deps:[Ja],useFactory:function Q6(n){return()=>n.scrollStrategies.reposition()}};class ej{constructor(t,e){this.source=t,this.value=e}}const tj=Wa(nS(Of(pM(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),nj=new o.OlP("MatSelectTrigger");let ij=(()=>{class n extends tj{constructor(e,i,r,s,u,f,g,C,M,S,k,N,V,W){var ee,Re,Ke;super(u,s,g,C,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=M,this._liveAnnouncer=V,this._defaultOptions=W,this._panelOpen=!1,this._compareWith=(Le,Ve)=>Le===Ve,this._uid="mat-select-"+fF++,this._triggerAriaLabelledBy=null,this._destroy=new ht.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fF++,this._panelDoneAnimatingStream=new ht.x,this._overlayPanelClass=(null===(ee=this._defaultOptions)||void 0===ee?void 0:ee.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ke=null===(Re=this._defaultOptions)||void 0===Re?void 0:Re.disableOptionCentering)&&void 0!==Ke&&Ke,this.ariaLabel="",this.optionSelectionChanges=Cl(()=>{const Le=this.options;return Le?Le.changes.pipe(Jn(Le),wn(()=>(0,Vs.T)(...Le.map(Ve=>Ve.onSelectionChange)))):this._ngZone.onStable.pipe((0,cn.q)(1),wn(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(At(Le=>Le),(0,et.U)(()=>{})),this._closedStream=this.openedChange.pipe(At(Le=>!Le),(0,et.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==W?void 0:W.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=W.typeaheadDebounceInterval),this._scrollStrategyFactory=N,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(k)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(di.required))&&void 0!==s&&s}set required(e){this._required=Nt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Nt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Nt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=gr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new _v(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Og(),$t(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe($t(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Jn(null),$t(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!er(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(e);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||er(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,cn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new gf(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe($t(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe($t(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Vs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($t(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Vs.T)(...this.options.map(i=>i._stateChanges)).pipe($t(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hp),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(s_),o.Y36(o.SBq),o.Y36(ua,8),o.Y36(l0,8),o.Y36(ts,8),o.Y36(Yf,8),o.Y36(Xa,10),o.$8M("tabindex"),o.Y36(pF),o.Y36(Lk),o.Y36(J6,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(U6,5),o.Gf(j6,5),o.Gf(Lv,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),md=(()=>{class n extends ij{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe($t(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,cn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=TM(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function DM(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new ej(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let C=this._selectionModel.selected[0]||this.options.first;u=C&&C.group?32:16}r||(u*=-1);const f=0-(e.left+u-(r?s:0)),g=e.right+u-i.width+(r?0:s);f>0?u+=f+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),u=(s-this._triggerRect.height)/2,f=Math.floor(256/s);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-f))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),C=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;C>u?this._adjustPanelUp(C,u):f>s?this._adjustPanelDown(f,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=TM(f,this.options,this.optionGroups);const g=r/2;this._scrollTop=this._calculateOverlayScroll(f,g,u),this._offsetY=this._calculateOverlayOffsetY(f,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,nj,5),o.Suo(r,ma,5),o.Suo(r,MM,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:Qp,useExisting:n},{provide:wM,useExisting:n}]),o.qOj],ngContentSelectors:W6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Z6),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,H6,2,1,"span",3),o.YNc(5,$6,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,G6,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[R_,ai,Mr,au,Lv,si],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[dF.transformPanelWrap,dF.transformPanel]},changeDetection:0}),n})(),eI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[X6],imports:[[Qi,F_,xM,nn],ad,jv,xM,nn]}),n})();const mF=new Set;let j_,rj=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function oj(n){if(!mF.has(n))try{j_||(j_=document.createElement("style"),j_.setAttribute("type","text/css"),document.head.appendChild(j_)),j_.sheet&&(j_.sheet.insertRule(`@media ${n} {body{ }}`,0),mF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let aj=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ht.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gF(Pc(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=vl(gF(Pc(e)).map(u=>this._registerQuery(u).observable));return s=Nr(s.pipe((0,cn.q)(1)),s.pipe(YC(1),Fc(0))),s.pipe((0,et.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:C})=>{f.matches=f.matches||g,f.breakpoints[C]=g}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new vn.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Jn(i),(0,et.U)(({matches:u})=>({query:e,matches:u})),$t(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rj),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const cj=["tooltip"],_F="tooltip-panel",bF=ed({passive:!0}),yF=new o.OlP("mat-tooltip-scroll-strategy"),hj={provide:yF,deps:[Ja],useFactory:function fj(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},pj=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function mj(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let gj=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S,k,N){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=u,this._platform=f,this._ariaDescriber=g,this._focusMonitor=C,this._dir=S,this._defaultOptions=k,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ht.x,this._scrollStrategy=M,this._document=N,k&&(k.position&&(this.position=k.position),k.touchGestures&&(this.touchGestures=k.touchGestures)),S.change.pipe($t(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=gr(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=gr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($t(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,bF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new S_(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe($t(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe($t(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${_F}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($t(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($t(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe($t(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!er(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,cn.q)(1),$t(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",u!==this._currentPosition){const f=this._overlayRef;if(f){const g=`${this._cssClassPrefix}-${_F}-`;f.removePanelClass(g+this._currentPosition),f.addPanelClass(g+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var r;const s=i.relatedTarget;(!s||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,bF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),_j=(()=>{class n extends gj{constructor(e,i,r,s,u,f,g,C,M,S,k,N){super(e,i,r,s,u,f,g,C,M,S,k,N),this._tooltipComponent=yj}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ja),o.Y36(o.SBq),o.Y36(p_),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Hi),o.Y36(nd),o.Y36(Nc),o.Y36(yF),o.Y36(ua,8),o.Y36(pj,8),o.Y36(X))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),bj=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ht.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Jo,8))},n.\u0275dir=o.lG2({type:n}),n})(),yj=(()=>{class n extends bj{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(aj),o.Y36(Jo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(cj,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},directives:[si],pipes:[vo],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),vj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[hj],imports:[[gw,Qi,F_,nn],nn,ad]}),n})();function Cj(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function wj(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(r){return o.CHM(e),o.oxw(2)._changePageSize(r.value)}),o.YNc(2,Cj,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function Mj(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function Ej(n,t){if(1&n&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,wj,3,6,"mat-form-field",14),o.YNc(4,Mj,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function Tj(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function Dj(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let zE=(()=>{class n{constructor(){this.changes=new ht.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sj={provide:zE,deps:[[new o.FiY,new o.tp0,zE]],useFactory:function xj(n){return n||new zE}},Ij=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Aj=Of(mM(class{}));let Pj=(()=>{class n extends Aj{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:u,hidePageSize:f,showFirstLastButtons:g}=r;null!=s&&(this._pageSize=s),null!=u&&(this._pageSizeOptions=u),null!=f&&(this._hidePageSize=f),null!=g&&(this._showFirstLastButtons=g)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(gr(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=gr(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(gr(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>gr(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Nt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Nt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),n})(),Wc=(()=>{class n extends Pj{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zE),o.Y36(o.sBO),o.Y36(Ij,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,Ej,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,Tj,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,Dj,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},directives:[Hr,md,ma,nr,Xt,On,_j],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Sj],imports:[[Qi,D_,eI,vj,nn]]}),n})();function kj(n,t){}class js{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Rj={dialogContainer:Or("dialogContainer",[Bn("void, exit",Tt({opacity:0,transform:"scale(0.7)"})),Bn("enter",Tt({transform:"none"})),Vn("* => enter",_w([Ai("150ms cubic-bezier(0, 0, 0.2, 1)",Tt({transform:"none",opacity:1})),Vl("@*",oo(),{optional:!0})])),Vn("* => void, * => exit",_w([Ai("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Tt({opacity:0})),Vl("@*",oo(),{optional:!0})]))])};let Fj=(()=>{class n extends I_{constructor(e,i,r,s,u,f,g,C){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=f,this._ngZone=g,this._focusMonitor=C,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(M)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=xg())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=xg(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=xg();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(by),o.Y36(o.sBO),o.Y36(X,8),o.Y36(js),o.Y36(gy),o.Y36(o.R0b),o.Y36(Nc))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(lO,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),Nj=(()=>{class n extends Fj{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,kj,0,0,"ng-template",0)},directives:[lO],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Rj.dialogContainer]}}),n})(),Lj=0;class ns{constructor(t,e,i="mat-dialog-"+Lj++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ht.x,this._afterClosed=new ht.x,this._beforeClosed=new ht.x,this._state=0,e._id=i,e._animationStateChanged.pipe(At(r=>"opened"===r.state),(0,cn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(At(r=>"closed"===r.state),(0,cn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(At(r=>27===r.keyCode&&!this.disableClose&&!er(r))).subscribe(r=>{r.preventDefault(),tI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():tI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(At(e=>"closing"===e.state),(0,cn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function tI(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Jf=new o.OlP("MatDialogData"),Bj=new o.OlP("mat-dialog-default-options"),CF=new o.OlP("mat-dialog-scroll-strategy"),Uj={provide:CF,deps:[Ja],useFactory:function Vj(n){return()=>n.scrollStrategies.block()}};let jj=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._dialogRefConstructor=g,this._dialogContainerType=C,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht.x,this._afterOpenedAtThisLevel=new ht.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Cl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Jn(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function Hj(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new js),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),s._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Fv({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:js,useValue:i}]}),u=new S_(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,s){const u=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new O_(e,null,{$implicit:s.data,dialogRef:u}));else{const f=this._createInjector(s,u,i),g=i.attachComponentPortal(new S_(e,s.viewContainerRef,f,s.componentFactoryResolver));u.componentInstance=g.instance}return u.updateSize(s.width,s.height).updatePosition(s.position),u}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(ua,null,o.XFs.Optional))&&u.push({provide:ua,useValue:{value:e.direction,change:He()}}),o.zs3.create({parent:s||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),gd=(()=>{class n extends jj{constructor(e,i,r,s,u,f,g,C){super(e,i,s,f,g,u,ns,Nj,Jf,C)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ja),o.LFG(o.zs3),o.LFG(nt,8),o.LFG(Bj,8),o.LFG(CF),o.LFG(n,12),o.LFG(Zf),o.LFG(Jo,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),qj=0,zj=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=wF(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){tI(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns,8),o.Y36(o.SBq),o.Y36(gd))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),ql=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+qj++}ngOnInit(){this._dialogRef||(this._dialogRef=wF(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns,8),o.Y36(o.SBq),o.Y36(gd))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),zl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),$l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function wF(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let MF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gd,Uj],imports:[[F_,lE,nn],nn]}),n})();function rm(n){return n.docs.map(t=>Object.assign({id:t.id},t.data()))}var $i=R(2122);function nI(){return(0,$n.e)((n,t)=>{let e,i=!1;n.subscribe(new Cn.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var _t,is=R(2011),EF=(R(3843),R(3942)),ve=R(5861),Gl=R(9681),H_=R(4859),Xf=R(1877),Qt=R(2090),$j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_d={},iI=iI||{},Gt=$j||self;function $E(){}function GE(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function d0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var rI="closure_uid_"+(1e9*Math.random()>>>0),Zj=0;function Wj(n,t,e){return n.call.apply(n.bind,arguments)}function Yj(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Oo(n,t,e){return(Oo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wj:Yj).apply(null,arguments)}function ZE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function uo(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function eh(){this.s=this.s,this.o=this.o}eh.prototype.s=!1,eh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Gj(n){Object.prototype.hasOwnProperty.call(n,rI)&&n[rI]||(n[rI]=++Zj)}(this)},eh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TF=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function oI(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function DF(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(GE(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Io(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Io.prototype.h=function(){this.defaultPrevented=!0};var Qj=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",$E,t),Gt.removeEventListener("test",$E,t)}catch(e){}return n}();function WE(n){return/^[\s\xa0]*$/.test(n)}var xF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sI(n,t){return n<t?-1:n>t?1:0}function YE(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function Yc(n){return-1!=YE().indexOf(n)}function aI(n){return aI[" "](n),n}aI[" "]=$E;var KE,n,Xj=Yc("Opera"),q_=Yc("Trident")||Yc("MSIE"),SF=Yc("Edge"),lI=SF||q_,OF=Yc("Gecko")&&!(-1!=YE().toLowerCase().indexOf("webkit")&&!Yc("Edge"))&&!(Yc("Trident")||Yc("MSIE"))&&!Yc("Edge"),eH=-1!=YE().toLowerCase().indexOf("webkit")&&!Yc("Edge");function IF(){var n=Gt.document;return n?n.documentMode:void 0}e:{var cI="",uI=(n=YE(),OF?/rv:([^\);]+)(\)|;)/.exec(n):SF?/Edge\/([\d\.]+)/.exec(n):q_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eH?/WebKit\/(\S+)/.exec(n):Xj?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uI&&(cI=uI?uI[1]:""),q_){var dI=IF();if(null!=dI&&dI>parseFloat(cI)){KE=String(dI);break e}}KE=cI}var tH={};var iH=Gt.document&&q_&&(IF()||parseInt(KE,10))||void 0;function f0(n,t){if(Io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(OF){e:{try{aI(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rH[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&f0.X.h.call(this)}}uo(f0,Io);var rH={2:"touch",3:"pen",4:"mouse"};f0.prototype.h=function(){f0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var h0="closure_listenable_"+(1e6*Math.random()|0),oH=0;function sH(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++oH,this.ba=this.ea=!1}function QE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function hI(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function PF(n){const t={};for(const e in n)t[e]=n[e];return t}const kF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RF(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<kF.length;s++)e=kF[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function JE(n){this.src=n,this.g={},this.h=0}function pI(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=TF(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(QE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function mI(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}JE.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=mI(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new sH(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var gI="closure_lm_"+(1e6*Math.random()|0),_I={};function FF(n,t,e,i,r){if(i&&i.once)return LF(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)FF(n,t[s],e,i,r);return null}return e=CI(e),n&&n[h0]?n.N(t,e,d0(i)?!!i.capture:!!i,r):NF(n,t,e,!1,i,r)}function NF(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=d0(r)?!!r.capture:!!r,f=yI(n);if(f||(n[gI]=f=new JE(n)),(e=f.add(t,e,i,u,s)).proxy)return e;if(i=function aH(){const t=lH;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Qj||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(VF(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function LF(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)LF(n,t[s],e,i,r);return null}return e=CI(e),n&&n[h0]?n.O(t,e,d0(i)?!!i.capture:!!i,r):NF(n,t,e,!0,i,r)}function BF(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)BF(n,t[s],e,i,r);else i=d0(i)?!!i.capture:!!i,e=CI(e),n&&n[h0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=mI(s=n.g[t],e,i,r))&&(QE(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=yI(n))&&(t=n.g[t.toString()],n=-1,t&&(n=mI(t,e,i,r)),(e=-1<n?t[n]:null)&&bI(e))}function bI(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[h0])pI(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(VF(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=yI(t))?(pI(e,n),0==e.h&&(e.src=null,t[gI]=null)):QE(n)}}}function VF(n){return n in _I?_I[n]:_I[n]="on"+n}function lH(n,t){if(n.ba)n=!0;else{t=new f0(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&bI(n),n=e.call(i,t)}return n}function yI(n){return(n=n[gI])instanceof JE?n:null}var vI="__closure_events_fn_"+(1e9*Math.random()>>>0);function CI(n){return"function"==typeof n?n:(n[vI]||(n[vI]=function(t){return n.handleEvent(t)}),n[vI])}function qr(){eh.call(this),this.i=new JE(this),this.P=this,this.I=null}function fo(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Io(t,n);else if(t instanceof Io)t.target=t.target||n;else{var r=t;RF(t=new Io(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=XE(u,i,!0,t)&&r}if(r=XE(u=t.g=n,i,!0,t)&&r,r=XE(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=XE(u=t.g=e[s],i,!1,t)&&r}function XE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ba&&u.capture==e){var f=u.listener,g=u.ha||u.src;u.ea&&pI(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}uo(qr,eh),qr.prototype[h0]=!0,qr.prototype.removeEventListener=function(n,t,e,i){BF(this,n,t,e,i)},qr.prototype.M=function(){if(qr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)QE(e[i]);delete n.g[t],n.h--}}this.I=null},qr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},qr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var wI=Gt.JSON.stringify;function cH(){var n=HF;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var MI,UF=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dH,n=>n.reset());class dH{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function fH(n){Gt.setTimeout(()=>{throw n},0)}function jF(n,t){MI||function hH(){var n=Gt.Promise.resolve(void 0);MI=function(){n.then(pH)}}(),EI||(MI(),EI=!0),HF.add(n,t)}var EI=!1,HF=new class uH{constructor(){this.h=this.g=null}add(t,e){const i=UF.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function pH(){for(var n;n=cH();){try{n.h.call(n.g)}catch(e){fH(e)}var t=UF;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}EI=!1}function eT(n,t){qr.call(this),this.h=n||1,this.g=t||Gt,this.j=Oo(this.lb,this),this.l=Date.now()}function TI(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function DI(n,t,e){if("function"==typeof n)e&&(n=Oo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Oo(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function qF(n){n.g=DI(()=>{n.g=null,n.i&&(n.i=!1,qF(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}uo(eT,qr),(_t=eT.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fo(this,"tick"),this.ca&&(TI(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){eT.X.M.call(this),TI(this),delete this.g};class mH extends eh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:qF(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function p0(n){eh.call(this),this.h=n,this.g={}}uo(p0,eh);var zF=[];function $F(n,t,e,i){Array.isArray(e)||(e&&(zF[0]=e.toString()),e=zF);for(var r=0;r<e.length;r++){var s=FF(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GF(n){hI(n.g,function(t,e){this.g.hasOwnProperty(e)&&bI(t)},n),n.g={}}function tT(){this.g=!0}function z_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function yH(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return wI(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}p0.prototype.M=function(){p0.X.M.call(this),GF(this)},p0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tT.prototype.Aa=function(){this.g=!1},tT.prototype.info=function(){};var om={},ZF=null;function nT(){return ZF=ZF||new qr}function WF(n){Io.call(this,om.Pa,n)}function m0(n){const t=nT();fo(t,new WF(t))}function YF(n,t){Io.call(this,om.STAT_EVENT,n),this.stat=t}function rs(n){const t=nT();fo(t,new YF(t,n))}function KF(n,t){Io.call(this,om.Qa,n),this.size=t}function g0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}om.Pa="serverreachability",uo(WF,Io),om.STAT_EVENT="statevent",uo(YF,Io),om.Qa="timingevent",uo(KF,Io);var iT={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QF={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xI(){}function XF(){}xI.prototype.h=null;var II,_0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function SI(){Io.call(this,"d")}function OI(){Io.call(this,"c")}function rT(){}function b0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new p0(this),this.O=vH,this.T=new eT(n=lI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new eN}function eN(){this.i=null,this.g="",this.h=!1}uo(SI,Io),uo(OI,Io),uo(rT,xI),rT.prototype.g=function(){return new XMLHttpRequest},rT.prototype.i=function(){return{}},II=new rT;var vH=45e3,AI={},oT={};function PI(n,t,e){n.K=1,n.v=cT(bd(t)),n.s=e,n.P=!0,tN(n,null)}function tN(n,t){n.F=Date.now(),y0(n),n.A=bd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),dN(e.i,"t",i),n.C=0,e=n.l.H,n.h=new eN,n.g=FN(n.l,e?t:null,!n.s),0<n.N&&(n.L=new mH(Oo(n.La,n,n.g),n.N)),$F(n.S,n.g,"readystatechange",n.ib),t=n.H?PF(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),m0(),function gH(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",f=s.split("&"),g=0;g<f.length;g++){var C=f[g].split("=");if(1<C.length){var M=C[0];C=C[1];var S=M.split("_");u=2<=S.length&&"type"==S[1]?u+(M+"=")+C+"&":u+(M+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function nN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function iN(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=CH(n,e),r==oT){4==t&&(n.o=4,rs(14),i=!1),z_(n.j,n.m,null,"[Incomplete Response]");break}if(r==AI){n.o=4,rs(15),z_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}z_(n.j,n.m,r,null),kI(n,r)}nN(n)&&r!=oT&&r!=AI&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,rs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),jI(t),t.K=!0,rs(11))):(z_(n.j,n.m,e,"[Invalid Chunked Response]"),sm(n),v0(n))}function CH(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?oT:(e=Number(t.substring(e,i)),isNaN(e)?AI:(i+=1)+e>t.length?oT:(t=t.substr(i,e),n.C=i+e,t))}function y0(n){n.V=Date.now()+n.O,rN(n,n.O)}function rN(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=g0(Oo(n.gb,n),t)}function sT(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function v0(n){0==n.l.G||n.I||AN(n.l,n)}function sm(n){sT(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,TI(n.T),GF(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function kI(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||RI(e.h,n)))if(!n.J&&RI(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=g0(Oo(e.cb,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;mT(e),hT(e)}UI(e),rs(18)}if(1>=pN(e.h)&&e.ja){try{e.ja()}catch(C){}e.ja=void 0}}else lm(e,11)}else if((n.J||e.g==n)&&mT(e),!WE(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let C=r[t];if(e.T=C[0],C=C[1],2==e.G)if("c"==C[0]){e.I=C[1],e.ka=C[2];const M=C[3];null!=M&&(e.ma=M,e.j.info("VER="+e.ma));const S=C[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const k=C[5];null!=k&&"number"==typeof k&&0<k&&(e.J=i=1.5*k,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const V=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.h;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(FI(s,s.h),s.h=null))}if(i.D){const W=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.za=W,bi(i.F,i.D,W))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=RN(i,i.H?i.ka:null,i.V),u.J){mN(i.h,u);var f=u,g=i.J;g&&f.setTimeout(g),f.B&&(sT(f),y0(f)),i.g=u}else ON(i);0<e.i.length&&pT(e)}else"stop"!=C[0]&&"close"!=C[0]||lm(e,7);else 3==e.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?lm(e,7):VI(e):"noop"!=C[0]&&e.l&&e.l.wa(C),e.A=0)}m0()}catch(C){}}function oN(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(GE(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function MH(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(GE(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function wH(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(GE(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(_t=b0.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const t=this.L;t&&3==yd(n)?t.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const M=yd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>M)&&(3!=M||lI||this.g&&(this.h.h||this.g.fa()||MN(this.g)))){this.I||4!=M||7==t||m0(),sT(this);var e=this.g.aa();this.Y=e;t:if(nN(this)){var i=MN(this.g);n="";var r=i.length,s=4==yd(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sm(this),v0(this);var u="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function _H(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,M,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!WE(f)){var C=f;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,rs(12),sm(this),v0(this);break e}z_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kI(this,e)}this.P?(iN(this,M,u),lI&&this.i&&3==M&&($F(this.S,this.T,"tick",this.hb),this.T.start())):(z_(this.j,this.m,u,null),kI(this,u)),4==M&&sm(this),this.i&&!this.I&&(4==M?AN(this.l,this):(this.i=!1,y0(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,rs(12)):(this.o=0,rs(13)),sm(this),v0(this)}}}catch(M){}},_t.hb=function(){if(this.g){var n=yd(this.g),t=this.g.fa();this.C<t.length&&(sT(this),iN(this,n,t),this.i&&4!=n&&y0(this))}},_t.cancel=function(){this.I=!0,sm(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function bH(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(m0(),rs(17)),sm(this),this.o=2,v0(this)):rN(this,this.V-n)};var sN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function am(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof am){this.h=void 0!==t?t:n.h,aT(this,n.j),this.s=n.s,this.g=n.g,lT(this,n.m),this.l=n.l,t=n.i;var e=new M0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),aN(this,e),this.o=n.o}else n&&(e=String(n).match(sN))?(this.h=!!t,aT(this,e[1]||"",!0),this.s=C0(e[2]||""),this.g=C0(e[3]||"",!0),lT(this,e[4]),this.l=C0(e[5]||"",!0),aN(this,e[6]||"",!0),this.o=C0(e[7]||"")):(this.h=!!t,this.i=new M0(null,this.h))}function bd(n){return new am(n)}function aT(n,t,e){n.j=e?C0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function lT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function aN(n,t,e){t instanceof M0?(n.i=t,function IH(n,t){t&&!n.j&&(th(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(cN(this,i),dN(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=w0(t,SH)),n.i=new M0(t,n.h))}function bi(n,t,e){n.i.set(t,e)}function cT(n){return bi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function C0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function w0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,TH),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}am.prototype.toString=function(){var n=[],t=this.j;t&&n.push(w0(t,lN,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(w0(t,lN,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(w0(e,"/"==e.charAt(0)?xH:DH,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",w0(e,OH)),n.join("")};var lN=/[#\/\?@]/g,DH=/[#\?:]/g,xH=/[#\?]/g,SH=/[#\?@]/g,OH=/#/g;function M0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function th(n){n.g||(n.g=new Map,n.h=0,n.i&&function EH(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function cN(n,t){th(n),t=$_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function uN(n,t){return th(n),t=$_(n,t),n.g.has(t)}function dN(n,t,e){cN(n,t),0<e.length&&(n.i=null,n.g.set($_(n,t),oI(e)),n.h+=e.length)}function $_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function fN(n){this.l=n||PH,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ga&&Gt.g.Ga()&&Gt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=M0.prototype).add=function(n,t){th(this),this.i=null,n=$_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},_t.forEach=function(n,t){th(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},_t.oa=function(){th(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},_t.W=function(n){th(this);let t=[];if("string"==typeof n)uN(this,n)&&(t=t.concat(this.g.get($_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},_t.set=function(n,t){return th(this),this.i=null,uN(this,n=$_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},_t.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var PH=10;function hN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pN(n){return n.h?1:n.g?n.g.size:0}function RI(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function FI(n,t){n.g?n.g.add(t):n.h=t}function mN(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function gN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return oI(n.i)}function NI(){}function kH(){this.g=new NI}function RH(n,t,e){const i=e||"";try{oN(n,function(r,s){let u=r;d0(r)&&(u=wI(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function uT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function E0(n){this.l=n.ac||null,this.j=n.jb||!1}function dT(n,t){qr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=LI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fN.prototype.cancel=function(){if(this.i=gN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NI.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},NI.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},uo(E0,xI),E0.prototype.g=function(){return new dT(this.l,this.j)},E0.prototype.i=function(n){return function(){return n}}({}),uo(dT,qr);var LI=0;function _N(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function T0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,D0(n)}function D0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=dT.prototype).open=function(n,t){if(this.readyState!=LI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,D0(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,T0(this)),this.readyState=LI},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,D0(this)),this.g&&(this.readyState=3,D0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Gt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_N(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?T0(this):D0(this),3==this.readyState&&_N(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,T0(this))},_t.Ua=function(n){this.g&&(this.response=n,T0(this))},_t.ga=function(){this.g&&T0(this)},_t.setRequestHeader=function(n,t){this.v.append(n,t)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(dT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var NH=Gt.JSON.parse;function Gi(n){qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bN,this.K=this.L=!1}uo(Gi,qr);var bN="",LH=/^https?$/i,BH=["POST","PUT"];function yN(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,vN(n),fT(n)}function vN(n){n.D||(n.D=!0,fo(n,"complete"),fo(n,"error"))}function CN(n){if(n.h&&void 0!==iI&&(!n.C[1]||4!=yd(n)||2!=n.aa()))if(n.v&&4==yd(n))DI(n.Ha,0,n);else if(fo(n,"readystatechange"),4==yd(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(sN)[1]||null;if(!r&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;r=s.substr(0,s.length-1)}i=!LH.test(r?r.toLowerCase():"")}e=i}if(e)fo(n,"complete"),fo(n,"success");else{n.m=6;try{var u=2<yd(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.aa()+"]",vN(n)}}finally{fT(n)}}}function fT(n,t){if(n.g){wN(n);const e=n.g,i=n.C[0]?$E:null;n.g=null,n.C=null,t||fo(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function wN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function yd(n){return n.g?n.g.readyState:0}function MN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function EN(n){let t="";return hI(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function BI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=EN(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):bi(n,t,e))}function x0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function TN(n){this.Ca=0,this.i=[],this.j=new tT,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=x0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=x0("baseRetryDelayMs",5e3,n),this.bb=x0("retryDelaySeedMs",1e4,n),this.$a=x0("forwardChannelMaxRetries",2,n),this.ta=x0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new fN(n&&n.concurrentRequestLimit),this.Fa=new kH,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function VI(n){if(DN(n),3==n.G){var t=n.U++,e=bd(n.F);bi(e,"SID",n.I),bi(e,"RID",t),bi(e,"TYPE","terminate"),S0(n,e),(t=new b0(n,n.j,t,void 0)).K=2,t.v=cT(bd(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=FN(t.l,null),t.g.da(t.v)),t.F=Date.now(),y0(t)}kN(n)}function hT(n){n.g&&(jI(n),n.g.cancel(),n.g=null)}function DN(n){hT(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),mT(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function pT(n){hN(n.h)||n.m||(n.m=!0,jF(n.Ja,n),n.C=0)}function xN(n,t){var e;e=t?t.m:n.U++;const i=bd(n.F);bi(i,"SID",n.I),bi(i,"RID",e),bi(i,"AID",n.T),S0(n,i),n.o&&n.s&&BI(i,n.o,n.s),e=new b0(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=SN(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),FI(n.h,e),PI(e,i,t)}function S0(n,t){n.ia&&hI(n.ia,function(e,i){bi(t,i,e)}),n.l&&oN({},function(e,i){bi(t,i,e)})}function SN(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Oo(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let f=!0;for(let g=0;g<e;g++){let C=r[g].h;const M=r[g].g;if(C-=s,0>C)s=Math.max(0,r[g].h-100),f=!1;else try{RH(M,u,"req"+C+"_")}catch(S){i&&i(M)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function ON(n){n.g||n.u||(n.Z=1,jF(n.Ia,n),n.A=0)}function UI(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=g0(Oo(n.Ia,n),PN(n,n.A)),n.A++,0))}function jI(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function IN(n){n.g=new b0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=bd(n.sa);bi(t,"RID","rpc"),bi(t,"SID",n.I),bi(t,"CI",n.L?"0":"1"),bi(t,"AID",n.T),bi(t,"TYPE","xmlhttp"),S0(n,t),n.o&&n.s&&BI(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=cT(bd(t)),e.s=null,e.P=!0,tN(e,n)}function mT(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function AN(n,t){var e=null;if(n.g==t){mT(n),jI(n),n.g=null;var i=2}else{if(!RI(n.h,t))return;e=t.D,mN(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;fo(i=nT(),new KF(i,e)),pT(n)}else ON(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function UH(n,t){return!(pN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=g0(Oo(n.Ja,n,t),PN(n,n.C)),n.C++,0)))}(n,t)||2==i&&UI(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:lm(n,5);break;case 4:lm(n,10);break;case 3:lm(n,6);break;default:lm(n,2)}}function PN(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function lm(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Oo(n.kb,n);e||(e=new am("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||aT(e,"https"),cT(e)),function FH(n,t){const e=new tT;if(Gt.Image){const i=new Image;i.onload=ZE(uT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=ZE(uT,e,i,"TestLoadImage: error",!1,t),i.onabort=ZE(uT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=ZE(uT,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else rs(2);n.G=0,n.l&&n.l.va(t),kN(n),DN(n)}function kN(n){if(n.G=0,n.la=[],n.l){const t=gN(n.h);(0!=t.length||0!=n.i.length)&&(DF(n.la,t),DF(n.la,n.i),n.h.i.length=0,oI(n.i),n.i.length=0),n.l.ua()}}function RN(n,t,e){var i=e instanceof am?bd(e):new am(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),lT(i,i.m);else{var r=Gt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new am(null,void 0);i&&aT(s,i),t&&(s.g=t),r&&lT(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&bi(i,e,t),bi(i,"VER",n.ma),S0(n,i),i}function FN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Gi(e&&n.Da&&!n.ra?new E0({jb:!0}):n.ra)).Ka(n.H),t}function NN(){}function gT(){if(q_&&!(10<=Number(iH)))throw Error("Environmental error: no available transport.")}function ya(n,t){qr.call(this),this.g=new TN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!WE(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!WE(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new G_(this)}function LN(n){SI.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function BN(){OI.call(this),this.status=1}function G_(n){this.g=n}(_t=Gi.prototype).Ka=function(n){this.L=n},_t.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():II.g(),this.C=function JF(n){return n.h||(n.h=n.i())}(this.u?this.u:II),this.g.onreadystatechange=Oo(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void yN(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=TF(BH,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wN(this),0<this.B&&((this.K=function VH(n){return q_&&function nH(){return function Jj(n){var t=tH;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=xF(String(KE)).split("."),e=xF("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=sI(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||sI(0==r[2].length,0==s[2].length)||sI(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oo(this.qa,this)):this.A=DI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){yN(this,s)}},_t.qa=function(){void 0!==iI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fo(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fo(this,"complete"),fo(this,"abort"),fT(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fT(this,!0)),Gi.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?CN(this):this.fb())},_t.fb=function(){CN(this)},_t.aa=function(){try{return 2<yd(this)?this.g.status:-1}catch(n){return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},_t.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),NH(t)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=TN.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new b0(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=PF(s),RF(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=SN(this,r,t),bi(e=bd(this.F),"RID",n),bi(e,"CVER",22),this.D&&bi(e,"X-HTTP-Session-Id",this.D),S0(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(EN(s)))+"&"+t:this.o&&BI(e,this.o,s)),FI(this.h,r),this.Ya&&bi(e,"TYPE","init"),this.O?(bi(e,"$req",t),bi(e,"SID","null"),r.Z=!0,PI(r,e,null)):PI(r,e,t),this.G=2}}else 3==this.G&&(n?xN(this,n):0==this.i.length||hN(this.h)||xN(this))},_t.Ia=function(){if(this.u=null,IN(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=g0(Oo(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rs(10),hT(this),IN(this))},_t.cb=function(){null!=this.v&&(this.v=null,hT(this),UI(this),rs(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),rs(2)):(this.j.info("Failed to ping google.com"),rs(1))},(_t=NN.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},gT.prototype.g=function(n,t){return new ya(n,t)},uo(ya,qr),ya.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;rs(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=RN(n,null,n.V),pT(n)},ya.prototype.close=function(){VI(this.g)},ya.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=wI(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&pT(t)},ya.prototype.M=function(){this.g.l=null,delete this.j,VI(this.g),delete this.g,ya.X.M.call(this)},uo(LN,SI),uo(BN,OI),uo(G_,NN),G_.prototype.xa=function(){fo(this.g,"a")},G_.prototype.wa=function(n){fo(this.g,new LN(n))},G_.prototype.va=function(n){fo(this.g,new BN)},G_.prototype.ua=function(){fo(this.g,"b")},gT.prototype.createWebChannel=gT.prototype.g,ya.prototype.send=ya.prototype.u,ya.prototype.open=ya.prototype.m,ya.prototype.close=ya.prototype.close,iT.NO_ERROR=0,iT.TIMEOUT=8,iT.HTTP_ERROR=6,QF.COMPLETE="complete",XF.EventType=_0,_0.OPEN="a",_0.CLOSE="b",_0.ERROR="c",_0.MESSAGE="d",qr.prototype.listen=qr.prototype.N,Gi.prototype.listenOnce=Gi.prototype.O,Gi.prototype.getLastError=Gi.prototype.Oa,Gi.prototype.getLastErrorCode=Gi.prototype.Ea,Gi.prototype.getStatus=Gi.prototype.aa,Gi.prototype.getResponseJson=Gi.prototype.Sa,Gi.prototype.getResponseText=Gi.prototype.fa,Gi.prototype.send=Gi.prototype.da,Gi.prototype.setWithCredentials=Gi.prototype.Ka;var jH=_d.createWebChannelTransport=function(){return new gT},HH=_d.getStatEventTarget=function(){return nT()},HI=_d.ErrorCode=iT,qH=_d.EventType=QF,zH=_d.Event=om,VN=_d.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$H=_d.FetchXmlHttpFactory=E0,_T=_d.WebChannel=XF,GH=_d.XhrIo=Gi;const UN="@firebase/firestore";class zr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Z_="9.16.0";const nh=new Xf.Yd("@firebase/firestore");function qI(){return nh.logLevel}function Ne(n,...t){if(nh.logLevel<=Xf.in.DEBUG){const e=t.map(zI);nh.debug(`Firestore (${Z_}): ${n}`,...e)}}function rr(n,...t){if(nh.logLevel<=Xf.in.ERROR){const e=t.map(zI);nh.error(`Firestore (${Z_}): ${n}`,...e)}}function cm(n,...t){if(nh.logLevel<=Xf.in.WARN){const e=t.map(zI);nh.warn(`Firestore (${Z_}): ${n}`,...e)}}function zI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${Z_}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function gt(n,t){n||ut()}function tt(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class jN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(zr.UNAUTHENTICATED))}shutdown(){}}class KH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class QH{constructor(t){this.t=t,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,e(C)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,t.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const C=u;t.enqueueRetryable((0,ve.Z)(function*(){yield C.promise,yield s(i.currentUser)}))},g=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(C=>g(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?g(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt("string"==typeof i.accessToken),new jN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return gt(null===t||"string"==typeof t),new zr(t)}}class JH{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(gt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class XH{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new JH(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e5{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(gt("string"==typeof e.token),this.A=e.token,new HN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function t5(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class qN{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=t5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Zt(n,t){return n<t?-1:n>t?1:0}function W_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function zN(n){return n+"\0"}class yi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yi.fromMillis(Date.now())}static fromDate(t){return yi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new yi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new yi(0,0))}static max(){return new Et(new yi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O0{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===O0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof O0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class En extends O0{construct(t,e,i){return new En(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ie(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new En(e)}static emptyPath(){return new En([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends O0{construct(t,e,i){return new Zi(t,e,i)}static isValidIdentifier(t){return n5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ie(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Ie(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ie(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(s(),r++)}if(s(),u)throw new Ie(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zi(e)}static emptyPath(){return new Zi([])}}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(En.fromString(t))}static fromName(t){return new Je(En.fromString(t).popFirst(5))}static empty(){return new Je(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===En.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return En.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new En(t.slice()))}}class bT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function $I(n){return n.fields.find(t=>2===t.kind)}function um(n){return n.fields.filter(t=>2!==t.kind)}bT.UNKNOWN_ID=-1;class yT{constructor(t,e){this.fieldPath=t,this.kind=e}}class I0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new I0(0,va.min())}}function $N(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(1e9===i?new yi(e+1,0):new yi(e,i));return new va(r,Je.empty(),t)}function GN(n){return new va(n.readTime,n.key,-1)}class va{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new va(Et.min(),Je.empty(),-1)}static max(){return new va(Et.max(),Je.empty(),-1)}}function GI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Je.comparator(n.documentKey,t.documentKey),0!==e?e:Zt(n.largestBatchId,t.largestBatchId))}const ZN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ih(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==ZN)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),ZI.apply(this,arguments)}class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new se((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof se?e:se.resolve(e)}catch(e){return se.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):se.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):se.reject(e)}static resolve(t){return new se((e,i)=>{e(t)})}static reject(t){return new se((e,i)=>{i(t)})}static waitFor(t){return new se((e,i)=>{let r=0,s=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++s,u&&s===r&&e()},g=>i(g))}),u=!0,s===r&&e()})}static or(t){let e=se.resolve(!1);for(const i of t)e=e.next(r=>r?se.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new se((i,r)=>{const s=t.length,u=new Array(s);let f=0;for(let g=0;g<s;g++){const C=g;e(t[C]).next(M=>{u[C]=M,++f,f===s&&i(u)},M=>r(M))}})}static doWhile(t,e){return new se((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class vT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Ir,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new A0(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=WI(i.target.error);this.P.reject(new A0(t,r))}}static open(t,e,i,r){try{return new vT(e,t.transaction(r,i))}catch(s){throw new A0(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new a5(e)}}class Zl{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Zl.D((0,Qt.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ne("SimpleDb","Removing database:",t),dm(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Qt.hl)())return!1;if(Zl.N())return!0;const t=(0,Qt.z$)(),e=Zl.D(t),i=0<e&&e<10,r=Zl.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Ne("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new A0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Ie(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ie(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new A0(t,f))},s.onupgradeneeded=u=>{Ne("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ve.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{s.db=yield s.F(t);const g=vT.open(s.db,t,u?"readonly":"readwrite",i),C=r(g).next(M=>(g.V(),M)).catch(M=>(g.abort(M),se.reject(M))).toPromise();return C.catch(()=>{}),yield g.v,C}catch(g){const C=g,M="FirebaseError"!==C.name&&f<3;if(Ne("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),s.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class s5{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return dm(this.q.delete())}}class A0 extends Ie{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function rh(n){return"IndexedDbTransactionError"===n.name}class a5{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ne("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),dm(i)}add(t){return Ne("SimpleDb","ADD",this.store.name,t,t),dm(this.store.add(t))}get(t){return dm(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ne("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ne("SimpleDb","DELETE",this.store.name,t),dm(this.store.delete(t))}count(){return Ne("SimpleDb","COUNT",this.store.name),dm(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,f)=>{s.push(f)}).next(()=>s)}{const r=this.store.getAll(i.range);return new se((s,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{s(f.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new se((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){Ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,f)=>f.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new se((i,r)=>{e.onerror=s=>{const u=WI(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}H(t,e){const i=[];return new se((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new s5(f),C=e(f.primaryKey,f.value,g);if(C instanceof se){const M=C.catch(S=>(g.done(),se.reject(S)));i.push(M)}g.isDone?r():null===g.G?f.continue():f.continue(g.G)}}).next(()=>se.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function dm(n){return new se((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=WI(i.target.error);e(r)}})}let YN=!1;function WI(n){const t=Zl.D((0,Qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YN||(YN=!0,setTimeout(()=>{throw i},0)),i}}return n}class l5{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ne("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ve.Z)(function*(){e.task=null;try{Ne("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){rh(i)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ih(i)}yield e.nt(6e4)}))}}class c5{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,ve.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return se.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Ne("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(f=>{r-=f,i.add(u)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,s)).next(f=>(Ne("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=GN(s);GI(u,i)>0&&(i=u)}),new va(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ca=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class u5{constructor(t,e,i,r,s,u,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class oh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof oh&&t.projectId===this.projectId&&t.database===this.database}}function KN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function QN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function P0(n){return null==n}function k0(n){return 0===n&&1/n==-1/0}function JN(n){return"number"==typeof n&&Number.isInteger(n)&&!k0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ar{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ar(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ar(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sh(n){if(gt(!!n),"string"==typeof n){let t=0;const e=f5.exec(n);if(gt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hm(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function YI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function XN(n){const t=n.mapValue.fields.__previous_value__;return YI(t)?XN(t):t}function R0(n){const t=sh(n.mapValue.fields.__local_write_time__.timestampValue);return new yi(t.seconds,t.nanos)}const ah={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CT={nullValue:"NULL_VALUE"};function pm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YI(n)?4:r2(n)?9007199254740991:10:ut()}function Kc(n,t){if(n===t)return!0;const e=pm(n);if(e!==pm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return R0(n).isEqual(R0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=sh(i.timestampValue),u=sh(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,hm(n.bytesValue).isEqual(hm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Wi(i.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(i.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wi(i.integerValue)===Wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Wi(i.doubleValue),u=Wi(r.doubleValue);return s===u?k0(s)===k0(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return W_(n.arrayValue.values||[],t.arrayValue.values||[],Kc);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(KN(s)!==KN(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===u[f]||!Kc(s[f],u[f])))return!1;return!0}(n,t);default:return ut()}var r}function F0(n,t){return void 0!==(n.values||[]).find(e=>Kc(e,t))}function lh(n,t){if(n===t)return 0;const e=pm(n),i=pm(t);if(e!==i)return Zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=Wi(r.integerValue||r.doubleValue),f=Wi(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return e2(n.timestampValue,t.timestampValue);case 4:return e2(R0(n),R0(t));case 5:return Zt(n.stringValue,t.stringValue);case 6:return function(r,s){const u=hm(r),f=hm(s);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),f=s.split("/");for(let g=0;g<u.length&&g<f.length;g++){const C=Zt(u[g],f[g]);if(0!==C)return C}return Zt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Zt(Wi(r.latitude),Wi(s.latitude));return 0!==u?u:Zt(Wi(r.longitude),Wi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],f=s.values||[];for(let g=0;g<u.length&&g<f.length;++g){const C=lh(u[g],f[g]);if(C)return C}return Zt(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===ah.mapValue&&s===ah.mapValue)return 0;if(r===ah.mapValue)return 1;if(s===ah.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),g=s.fields||{},C=Object.keys(g);f.sort(),C.sort();for(let M=0;M<f.length&&M<C.length;++M){const S=Zt(f[M],C[M]);if(0!==S)return S;const k=lh(u[f[M]],g[C[M]]);if(0!==k)return k}return Zt(f.length,C.length)}(n.mapValue,t.mapValue);default:throw ut()}}function e2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Zt(n,t);const e=sh(n),i=sh(t),r=Zt(e.seconds,i.seconds);return 0!==r?r:Zt(e.nanos,i.nanos)}function Y_(n){return KI(n)}function KI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=sh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hm(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=KI(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const f of r)u?u=!1:s+=",",s+=`${f}:${KI(i.fields[f])}`;return s+"}"}(n.mapValue):ut();var t}function mm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function QI(n){return!!n&&"integerValue"in n}function N0(n){return!!n&&"arrayValue"in n}function t2(n){return!!n&&"nullValue"in n}function n2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wT(n){return!!n&&"mapValue"in n}function L0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return fm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=L0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=L0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function r2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function h5(n){return"nullValue"in n?CT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mm(oh.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function p5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mm(oh.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ah:ut()}function o2(n,t){const e=lh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function s2(n,t){const e=lh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ch{constructor(t,e){this.position=t,this.inclusive=e}}function a2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?Je.comparator(Je.fromName(u.referenceValue),e.key):lh(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function l2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Kc(n.position[e],t.position[e]))return!1;return!0}class c2{}class hn extends c2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new m5(t,e,i):"array-contains"===e?new b5(t,i):"in"===e?new m2(t,i):"not-in"===e?new y5(t,i):"array-contains-any"===e?new v5(t,i):new hn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new g5(t,i):new _5(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(lh(e,this.value)):null!==e&&pm(this.value)===pm(e)&&this.matchesComparison(lh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gn extends c2{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Gn(t,e)}matches(t){return K_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function K_(n){return"and"===n.op}function JI(n){return"or"===n.op}function XI(n){return u2(n)&&K_(n)}function u2(n){for(const t of n.filters)if(t instanceof Gn)return!1;return!0}function e1(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Y_(n.value);if(XI(n))return n.filters.map(t=>e1(t)).join(",");{const t=n.filters.map(e=>e1(e)).join(",");return`${n.op}(${t})`}}function d2(n,t){return n instanceof hn?(e=n,(i=t)instanceof hn&&e.op===i.op&&e.field.isEqual(i.field)&&Kc(e.value,i.value)):n instanceof Gn?function(e,i){return i instanceof Gn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,u)=>r&&d2(s,i.filters[u]),!0)}(n,t):void ut();var e,i}function f2(n,t){const e=n.filters.concat(t);return Gn.create(e,n.op)}function h2(n){return n instanceof hn?`${(t=n).field.canonicalString()} ${t.op} ${Y_(t.value)}`:n instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(h2).join(" ,")+"}"}(n):"Filter";var t}class m5 extends hn{constructor(t,e,i){super(t,e,i),this.key=Je.fromName(i.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.matchesComparison(e)}}class g5 extends hn{constructor(t,e){super(t,"in",e),this.keys=p2(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _5 extends hn{constructor(t,e){super(t,"not-in",e),this.keys=p2(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function p2(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Je.fromName(i.referenceValue))}class b5 extends hn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return N0(e)&&F0(e.arrayValue,this.value)}}class m2 extends hn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&F0(this.value.arrayValue,e)}}class y5 extends hn{constructor(t,e){super(t,"not-in",e)}matches(t){if(F0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!F0(this.value.arrayValue,e)}}class v5 extends hn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!N0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>F0(this.value.arrayValue,i))}}class Q_{constructor(t,e="asc"){this.field=t,this.dir=e}}function C5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Yi{constructor(t,e){this.comparator=t,this.root=e||ho.EMPTY}insert(t,e){return new Yi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(t){return new Yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ho.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new MT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new MT(this.root,t,this.comparator,!1)}getReverseIterator(){return new MT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new MT(this.root,t,this.comparator,!0)}}class MT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ho{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:ho.RED,this.left=null!=r?r:ho.EMPTY,this.right=null!=s?s:ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new ho(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ho.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ho.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ho(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(t){this.comparator=t,this.data=new Yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new g2(this.data.getIterator())}getIteratorFrom(t){return new g2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Kn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Kn(this.comparator);return e.data=t,e}}class g2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function J_(n){return n.hasNext()?n.getNext():void 0}class Hs{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new Hs([])}unionWith(t){let e=new Kn(Zi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Hs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return W_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class po{constructor(t){this.value=t}static empty(){return new po({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!wT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=L0(e)}setAll(t){let e=Zi.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=L0(u):r.push(f.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());wT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Kc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];wT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){fm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new po(L0(this.value))}}function _2(n){const t=[];return fm(n.fields,(e,i)=>{const r=new Zi([e]);if(wT(i)){const s=_2(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new Hs(t)}class fi{constructor(t,e,i,r,s,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=f}static newInvalidDocument(t){return new fi(t,0,Et.min(),Et.min(),Et.min(),po.empty(),0)}static newFoundDocument(t,e,i,r){return new fi(t,1,e,Et.min(),i,r,0)}static newNoDocument(t,e){return new fi(t,2,e,Et.min(),Et.min(),po.empty(),0)}static newUnknownDocument(t,e){return new fi(t,3,e,Et.min(),Et.min(),po.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class w5{constructor(t,e=null,i=[],r=[],s=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=f,this.ft=null}}function t1(n,t=null,e=[],i=[],r=null,s=null,u=null){return new w5(n,t,e,i,r,s,u)}function gm(n){const t=tt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>e1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),P0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Y_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Y_(i)).join(",")),t.ft=e}return t.ft}function B0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!C5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!d2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!l2(n.startAt,t.startAt)&&l2(n.endAt,t.endAt)}function ET(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function TT(n,t){return n.filters.filter(e=>e instanceof hn&&e.field.isEqual(t))}function b2(n,t,e){let i=CT,r=!0;for(const s of TT(n,t)){let u=CT,f=!0;switch(s.op){case"<":case"<=":u=h5(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,f=!1;break;case"!=":case"not-in":u=CT}o2({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];o2({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function y2(n,t,e){let i=ah,r=!0;for(const s of TT(n,t)){let u=ah,f=!0;switch(s.op){case">=":case">":u=p5(s.value),f=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,f=!1;break;case"!=":case"not-in":u=ah}s2({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];s2({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class vd{constructor(t,e=null,i=[],r=[],s=null,u="F",f=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=f,this.endAt=g,this.dt=null,this._t=null}}function v2(n,t,e,i,r,s,u,f){return new vd(n,t,e,i,r,s,u,f)}function X_(n){return new vd(n)}function C2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function n1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function DT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function r1(n){return null!==n.collectionGroup}function _m(n){const t=tt(n);if(null===t.dt){t.dt=[];const e=DT(t),i=n1(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Q_(e)),t.dt.push(new Q_(Zi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Q_(Zi.keyField(),s))}}}return t.dt}function os(n){const t=tt(n);if(!t._t)if("F"===t.limitType)t._t=t1(t.path,t.collectionGroup,_m(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of _m(t))e.push(new Q_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ch(t.startAt.position,t.startAt.inclusive):null;t._t=t1(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function o1(n,t){t.getFirstInequalityField(),DT(n);const e=n.filters.concat([t]);return new vd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xT(n,t,e){return new vd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function V0(n,t){return B0(os(n),os(t))&&n.limitType===t.limitType}function w2(n){return`${gm(os(n))}|lt:${n.limitType}`}function s1(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>h2(i)).join(", ")}]`),P0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Y_(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Y_(i)).join(",")),`Target(${e})`}(os(n))}; limitType=${n.limitType})`}function a1(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Je.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of _m(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const f=a2(r,s,u);return r.inclusive?f<=0:f<0}(e.startAt,_m(e),i)||e.endAt&&!function(r,s,u){const f=a2(r,s,u);return r.inclusive?f>=0:f>0}(e.endAt,_m(e),i)));var e,i}function M2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E2(n){return(t,e)=>{let i=!1;for(const r of _m(n)){const s=M5(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function M5(n,t,e){const i=n.field.isKeyField()?Je.comparator(t.key,e.key):function(r,s,u){const f=s.data.field(r),g=u.data.field(r);return null!==f&&null!==g?lh(f,g):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function T2(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k0(t)?"-0":t}}function D2(n){return{integerValue:""+n}}function x2(n,t){return JN(t)?D2(t):T2(n,t)}class ST{constructor(){this._=void 0}}function E5(n,t,e){return n instanceof eb?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof bm?O2(n,t):n instanceof ym?I2(n,t):function(i,r){const s=S2(i,r),u=A2(s)+A2(i.gt);return QI(s)&&QI(i.gt)?D2(u):T2(i.yt,u)}(n,t)}function T5(n,t,e){return n instanceof bm?O2(n,t):n instanceof ym?I2(n,t):e}function S2(n,t){return n instanceof tb?QI(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class eb extends ST{}class bm extends ST{constructor(t){super(),this.elements=t}}function O2(n,t){const e=P2(t);for(const i of n.elements)e.some(r=>Kc(r,i))||e.push(i);return{arrayValue:{values:e}}}class ym extends ST{constructor(t){super(),this.elements=t}}function I2(n,t){let e=P2(t);for(const i of n.elements)e=e.filter(r=>!Kc(r,i));return{arrayValue:{values:e}}}class tb extends ST{constructor(t,e){super(),this.yt=t,this.gt=e}}function A2(n){return Wi(n.integerValue||n.doubleValue)}function P2(n){return N0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class U0{constructor(t,e){this.field=t,this.transform=e}}class x5{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function OT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class IT{}function k2(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ib(n.key,vi.none()):new nb(n.key,n.data,vi.none());{const e=n.data,i=po.empty();let r=new Kn(Zi.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Cd(n.key,i,new Hs(r.toArray()),vi.none())}}function S5(n,t,e){n instanceof nb?function(i,r,s){const u=i.value.clone(),f=N2(i.fieldTransforms,r,s.transformResults);u.setAll(f),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Cd?function(i,r,s){if(!OT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=N2(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(F2(i)),f.setAll(u),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function j0(n,t,e,i){return n instanceof nb?function(r,s,u,f){if(!OT(r.precondition,s))return u;const g=r.value.clone(),C=L2(r.fieldTransforms,f,s);return g.setAll(C),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof Cd?function(r,s,u,f){if(!OT(r.precondition,s))return u;const g=L2(r.fieldTransforms,f,s),C=s.data;return C.setAll(F2(r)),C.setAll(g),s.convertToFoundDocument(s.version,C).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,t,e,i):(u=e,OT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function O5(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=S2(i.transform,r||null);null!=s&&(null===e&&(e=po.empty()),e.set(i.field,s))}return e||null}function R2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&W_(e,i,(r,s)=>function D5(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof bm&&i instanceof bm||e instanceof ym&&i instanceof ym?W_(e.elements,i.elements,Kc):e instanceof tb&&i instanceof tb?Kc(e.gt,i.gt):e instanceof eb&&i instanceof eb);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class nb extends IT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cd extends IT{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function F2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function N2(n,t,e){const i=new Map;gt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,f=t.data.field(s.field);i.set(s.field,T5(u,f,e[r]))}return i}function L2(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,E5(s,u,t))}return i}class ib extends IT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l1 extends IT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I5{constructor(t){this.count=t}}var _r,Tn;function B2(n){switch(n){default:return ut();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function V2(n){if(void 0===n)return rr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case _r.OK:return ue.OK;case _r.CANCELLED:return ue.CANCELLED;case _r.UNKNOWN:return ue.UNKNOWN;case _r.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case _r.INTERNAL:return ue.INTERNAL;case _r.UNAVAILABLE:return ue.UNAVAILABLE;case _r.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case _r.NOT_FOUND:return ue.NOT_FOUND;case _r.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case _r.ABORTED:return ue.ABORTED;case _r.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case _r.DATA_LOSS:return ue.DATA_LOSS;default:return ut()}}(Tn=_r||(_r={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class uh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){fm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return QN(this.inner)}size(){return this.innerSize}}const A5=new Yi(Je.comparator);function qs(){return A5}const U2=new Yi(Je.comparator);function H0(...n){let t=U2;for(const e of n)t=t.insert(e.key,e);return t}function j2(n){let t=U2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Qc(){return q0()}function H2(){return q0()}function q0(){return new uh(n=>n.toString(),(n,t)=>n.isEqual(t))}const P5=new Yi(Je.comparator),k5=new Kn(Je.comparator);function rn(...n){let t=k5;for(const e of n)t=t.add(e);return t}const R5=new Kn(Zt);function AT(){return R5}class z0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,$0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new z0(Et.min(),r,AT(),qs(),rn())}}class $0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new $0(i,e,rn(),rn(),rn())}}class PT{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class q2{constructor(t,e){this.targetId=t,this.Et=e}}class z2{constructor(t,e,i=Ar.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class $2{constructor(){this.At=0,this.Rt=Z2(),this.bt=Ar.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=rn(),e=rn(),i=rn();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new $0(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=Z2()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class F5{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=qs(),this.qt=G2(),this.Ut=new Kn(Zt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const s=r.target;if(ET(s))if(0===i){const u=new Je(s.path);this.Qt(e,u,fi.newNoDocument(u,Et.min()))}else gt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((s,u)=>{const f=this.Yt(u);if(f){if(s.current&&ET(f.target)){const g=new Je(f.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,fi.newNoDocument(g,t))}s.St&&(e.set(u,s.Ct()),s.xt())}});let i=rn();this.qt.forEach((s,u)=>{let f=!0;u.forEachWhile(g=>{const C=this.Yt(g);return!C||2===C.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(t));const r=new z0(t,e,this.Ut,this.Lt,i);return this.Lt=qs(),this.qt=G2(),this.Ut=new Kn(Zt),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new $2,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Kn(Zt),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Ne("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new $2),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function G2(){return new Yi(Je.comparator)}function Z2(){return new Yi(Je.comparator)}const N5={asc:"ASCENDING",desc:"DESCENDING"},L5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B5={and:"AND",or:"OR"};class V5{constructor(t,e){this.databaseId=t,this.wt=e}}function rb(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W2(n,t){return n.wt?t.toBase64():t.toUint8Array()}function U5(n,t){return rb(n,t.toTimestamp())}function or(n){return gt(!!n),Et.fromTimestamp(function(t){const e=sh(t);return new yi(e.seconds,e.nanos)}(n))}function c1(n,t){return(e=n,new En(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Y2(n){const t=En.fromString(n);return gt(rL(t)),t}function G0(n,t){return c1(n.databaseId,t.path)}function Jc(n,t){const e=Y2(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(Q2(e))}function u1(n,t){return c1(n.databaseId,t)}function K2(n){const t=Y2(n);return 4===t.length?En.emptyPath():Q2(t)}function Z0(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q2(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function J2(n,t,e){return{name:G0(n,t),fields:e.value.mapValue.fields}}function X2(n,t,e){const i=Jc(n,t.name),r=or(t.updateTime),s=t.createTime?or(t.createTime):Et.min(),u=new po({mapValue:{fields:t.fields}}),f=fi.newFoundDocument(i,r,s,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function W0(n,t){let e;if(t instanceof nb)e={update:J2(n,t.key,t.value)};else if(t instanceof ib)e={delete:G0(n,t.key)};else if(t instanceof Cd)e={update:J2(n,t.key,t.data),updateMask:W5(t.fieldMask)};else{if(!(t instanceof l1))return ut();e={verify:G0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof eb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ym)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof tb)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:U5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function d1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?vi.updateTime(or(r.updateTime)):void 0!==r.exists?vi.exists(r.exists):vi.none():vi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let f=null;"setToServerValue"in u?(gt("REQUEST_TIME"===u.setToServerValue),f=new eb):"appendMissingElements"in u?f=new bm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new ym(u.removeAllFromArray.values||[]):"increment"in u?f=new tb(s,u.increment):ut();const g=Zi.fromServerFormat(u.fieldPath);return new U0(g,f)}(n,r)):[];var r;if(t.update){const r=Jc(n,t.update.name),s=new po({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Hs((t.updateMask.fieldPaths||[]).map(C=>Zi.fromServerFormat(C)));return new Cd(r,s,u,e,i)}return new nb(r,s,e,i)}if(t.delete){const r=Jc(n,t.delete);return new ib(r,e)}if(t.verify){const r=Jc(n,t.verify);return new l1(r,e)}return ut()}function eL(n,t){return{documents:[u1(n,t.path)]}}function f1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=u1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=u1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return iL(Gn.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(C=>{return{field:ob((M=C).field),direction:$5(M.dir)};var M})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(C=t.limit,n.wt||P0(C)?C:{value:C});var C,f,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function tL(n){let t=K2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){gt(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let s=[];e.where&&(s=function(M){const S=nL(M);return S instanceof Gn&&XI(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(M=>{return new Q_(sb((S=M).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;e.limit&&(f=function(M){let S;return S="object"==typeof M?M.value:M,P0(S)?null:S}(e.limit));let g=null;var M;e.startAt&&(g=new ch((M=e.startAt).values||[],!!M.before));let C=null;return e.endAt&&(C=function(M){return new ch(M.values||[],!M.before)}(e.endAt)),v2(t,r,u,s,f,"F",g,C)}function nL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=sb(t.unaryFilter.field);return hn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=sb(t.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=sb(t.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sb(t.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?hn.create(sb((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Gn.create(t.compositeFilter.filters.map(e=>nL(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ut()}}(t.compositeFilter.op))}(n):ut();var t}function $5(n){return N5[n]}function G5(n){return L5[n]}function Z5(n){return B5[n]}function ob(n){return{fieldPath:n.canonicalString()}}function sb(n){return Zi.fromServerFormat(n.fieldPath)}function iL(n){return n instanceof hn?function(t){if("=="===t.op){if(n2(t.value))return{unaryFilter:{field:ob(t.field),op:"IS_NAN"}};if(t2(t.value))return{unaryFilter:{field:ob(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(n2(t.value))return{unaryFilter:{field:ob(t.field),op:"IS_NOT_NAN"}};if(t2(t.value))return{unaryFilter:{field:ob(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ob(t.field),op:G5(t.op),value:t.value}}}(n):n instanceof Gn?function(t){const e=t.getFilters().map(i=>iL(i));return 1===e.length?e[0]:{compositeFilter:{op:Z5(t.op),filters:e}}}(n):ut()}function W5(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function rL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ss(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=oL(t)),t=Y5(n.get(e),t);return oL(t)}function Y5(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function oL(n){return n+"\x01\x01"}function Xc(n){const t=n.length;if(gt(t>=2),2===t)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&ut(),n.charAt(u+1)){case"\x01":const f=n.substring(s,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:ut()}s=u+2}return new En(i)}const sL=["userId","batchId"];function kT(n,t){return[n,ss(t)]}function aL(n,t,e){return[n,ss(t),e]}const K5={},Q5=["prefixPath","collectionGroup","readTime","documentId"],J5=["prefixPath","collectionGroup","documentId"],X5=["collectionGroup","readTime","prefixPath","documentId"],eq=["canonicalId","targetId"],tq=["targetId","path"],nq=["path","targetId"],iq=["collectionId","parent"],rq=["indexId","uid"],oq=["uid","sequenceNumber"],sq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aq=["indexId","uid","orderedDocumentKey"],lq=["userId","collectionPath","documentId"],cq=["userId","collectionPath","largestBatchId"],uq=["userId","collectionGroup","largestBatchId"],lL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dq=[...lL,"documentOverlays"],cL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uL=cL,fq=[...uL,"indexConfiguration","indexState","indexEntries"];class h1 extends WN{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function $r(n,t){const e=tt(n);return Zl.M(e.se,t)}class p1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&S5(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=j0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=j0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=H2();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let f=this.applyToLocalView(u,s.mutatedFields);f=e.has(r.key)?null:f;const g=k2(u,f);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),rn())}isEqual(t){return this.batchId===t.batchId&&W_(this.mutations,t.mutations,(e,i)=>R2(e,i))&&W_(this.baseMutations,t.baseMutations,(e,i)=>R2(e,i))}}class m1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){gt(t.mutations.length===i.length);let r=P5;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new m1(t,e,i,r)}}class g1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dh{constructor(t,e,i,r,s=Et.min(),u=Et.min(),f=Ar.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new dh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class dL{constructor(t){this.ie=t}}function fL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:RT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:G0(r=n.ie,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:rb(r,s.version.toTimestamp()),createTime:rb(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:vm(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:vm(t.version)}}var r,s;return i}function RT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function vm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cm(n){const t=new yi(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function wm(n,t){const e=(t.baseMutations||[]).map(s=>d1(n.ie,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>d1(n.ie,s)),r=yi.fromMillis(t.localWriteTimeMs);return new p1(t.batchId,r,e,i)}function Y0(n){const t=Cm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Cm(n.lastLimboFreeSnapshotVersion):Et.min();let i;var r;return void 0!==n.query.documents?(gt(1===(r=n.query).documents.length),i=os(X_(K2(r.documents[0])))):i=os(tL(n.query)),new dh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ar.fromBase64String(n.resumeToken))}function hL(n,t){const e=vm(t.snapshotVersion),i=vm(t.lastLimboFreeSnapshotVersion);let r;r=ET(t.target)?eL(n.ie,t.target):f1(n.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _1(n){const t=tL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xT(t,t.limit,"L"):t}function b1(n,t){return new g1(t.largestBatchId,d1(n.ie,t.overlayMutation))}function pL(n,t){const e=t.path.lastSegment();return[n,ss(t.path.popLast()),e]}function mL(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:vm(i.readTime),documentKey:ss(i.documentKey.path),largestBatchId:i.largestBatchId}}class pq{getBundleMetadata(t,e){return gL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Cm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return gL(t).put({bundleId:(i=e).id,createTime:vm(or(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return _L(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_1(r.bundledQuery),readTime:Cm(r.readTime)};var r})}saveNamedQuery(t,e){return _L(t).put({name:(i=e).name,readTime:vm(or(i.readTime)),bundledQuery:i.bundledQuery});var i}}function gL(n){return $r(n,"bundles")}function _L(n){return $r(n,"namedQueries")}class FT{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new FT(t,e.uid||"")}getOverlay(t,e){return K0(t).get(pL(this.userId,e)).next(i=>i?b1(this.yt,i):null)}getOverlays(t,e){const i=Qc();return se.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const f=new g1(e,u);r.push(this.oe(t,f))}),se.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(ss(u.getCollectionPath())));const s=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(K0(t).Y("collectionPathOverlayIndex",f))}),se.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Qc(),s=ss(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return K0(t).W("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const C=b1(this.yt,g);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Qc();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return K0(t).Z({index:"collectionGroupOverlayIndex",range:f},(g,C,M)=>{const S=b1(this.yt,C);s.size()<r||S.largestBatchId===u?(s.set(S.getKey(),S),u=S.largestBatchId):M.done()}).next(()=>s)}oe(t,e){return K0(t).put(function(i,r,s){const[u,f,g]=pL(r,s.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:W0(i.ie,s.mutation)}}(this.yt,this.userId,e))}}function K0(n){return $r(n,"documentOverlays")}class Mm{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Wi(t.integerValue));else if("doubleValue"in t){const i=Wi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),k0(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(hm(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?r2(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ut()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),Je.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function mq(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function bL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=mq(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Mm.Ie=new Mm;class gq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=bL(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=bL(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class _q{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class bq{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class Q0{constructor(){this.$e=new gq,this.Be=new _q(this.$e),this.Le=new bq(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Em{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Em(this.indexId,this.documentKey,this.arrayValue,i)}}function fh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=yL(n.arrayValue,t.arrayValue),0!==e?e:(e=yL(n.directionalValue,t.directionalValue),0!==e?e:Je.comparator(n.documentKey,t.documentKey)))}function yL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class yq{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){gt(t.collectionGroup===this.collectionId);const e=$I(t);if(void 0!==e&&!this.We(e))return!1;const i=um(t);let r=0,s=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ke.length||!this.He(this.Ke[s++],u))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function vL(n){var t,e;if(gt(n instanceof hn||n instanceof Gn),n instanceof hn){if(n instanceof m2){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>hn.create(n.field,"==",s)))||[];return Gn.create(r,"or")}return n}const i=n.filters.map(r=>vL(r));return Gn.create(i,n.op)}function vq(n){if(0===n.getFilters().length)return[];const t=C1(vL(n));return gt(CL(t)),y1(t)||v1(t)?[t]:t.getFilters()}function y1(n){return n instanceof hn}function v1(n){return n instanceof Gn&&XI(n)}function CL(n){return y1(n)||v1(n)||function(t){if(t instanceof Gn&&JI(t)){for(const e of t.getFilters())if(!y1(e)&&!v1(e))return!1;return!0}return!1}(n)}function C1(n){if(gt(n instanceof hn||n instanceof Gn),n instanceof hn)return n;if(1===n.filters.length)return C1(n.filters[0]);const t=n.filters.map(i=>C1(i));let e=Gn.create(t,n.op);return e=NT(e),CL(e)?e:(gt(e instanceof Gn),gt(K_(e)),gt(e.filters.length>1),e.filters.reduce((i,r)=>w1(i,r)))}function w1(n,t){let e;return gt(n instanceof hn||n instanceof Gn),gt(t instanceof hn||t instanceof Gn),e=n instanceof hn?t instanceof hn?Gn.create([n,t],"and"):wL(n,t):t instanceof hn?wL(t,n):function(i,r){if(gt(i.filters.length>0&&r.filters.length>0),K_(i)&&K_(r))return f2(i,r.getFilters());const s=JI(i)?i:r,u=JI(i)?r:i,f=s.filters.map(g=>w1(g,u));return Gn.create(f,"or")}(n,t),NT(e)}function wL(n,t){if(K_(t))return f2(t,n.getFilters());{const e=t.filters.map(i=>w1(n,i));return Gn.create(e,"or")}}function NT(n){if(gt(n instanceof hn||n instanceof Gn),n instanceof hn)return n;const t=n.getFilters();if(1===t.length)return NT(t[0]);if(u2(n))return n;const e=t.map(r=>NT(r)),i=[];return e.forEach(r=>{r instanceof hn?i.push(r):r instanceof Gn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Gn.create(i,n.op)}class Cq{constructor(){this.Je=new M1}addToCollectionParentIndex(t,e){return this.Je.add(e),se.resolve()}getCollectionParents(t,e){return se.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return se.resolve()}deleteFieldIndex(t,e){return se.resolve()}getDocumentsMatchingTarget(t,e){return se.resolve(null)}getIndexType(t,e){return se.resolve(0)}getFieldIndexes(t,e){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,e){return se.resolve(va.min())}getMinOffsetFromCollectionGroup(t,e){return se.resolve(va.min())}updateCollectionGroup(t,e,i){return se.resolve()}updateIndexEntries(t,e){return se.resolve()}}class M1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Kn(En.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Kn(En.comparator)).toArray()}}const LT=new Uint8Array(0);class wq{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new M1,this.Xe=new uh(i=>gm(i),(i,r)=>B0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const s={collectionId:i,parent:ss(r)};return ML(t).put(s)}return se.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[zN(e),""],!1,!0);return ML(t).W(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Xc(u.parent))}return i})}addFieldIndex(t,e){const i=BT(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=X0(t);return s.next(f=>{u.put(mL(f,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=BT(t),r=X0(t),s=J0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=J0(t);let r=!0;const s=new Map;return se.forEach(this.Ze(e),u=>this.tn(t,u).next(f=>{r&&(r=!!f),s.set(u,f)})).next(()=>{if(r){let u=rn();const f=[];return se.forEach(s,(g,C)=>{var M;Ne("IndexedDbIndexManager",`Using index ${M=g,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${gm(e)}`);const S=function(Le,Ve){const mt=$I(Ve);if(void 0===mt)return null;for(const yt of TT(Le,mt.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(C,g),k=function(Le,Ve){const mt=new Map;for(const yt of um(Ve))for(const an of TT(Le,yt.fieldPath))switch(an.op){case"==":case"in":mt.set(yt.fieldPath.canonicalString(),an.value);break;case"not-in":case"!=":return mt.set(yt.fieldPath.canonicalString(),an.value),Array.from(mt.values())}return null}(C,g),N=function(Le,Ve){const mt=[];let yt=!0;for(const an of um(Ve)){const ar=0===an.kind?b2(Le,an.fieldPath,Le.startAt):y2(Le,an.fieldPath,Le.startAt);mt.push(ar.value),yt&&(yt=ar.inclusive)}return new ch(mt,yt)}(C,g),V=function(Le,Ve){const mt=[];let yt=!0;for(const an of um(Ve)){const ar=0===an.kind?y2(Le,an.fieldPath,Le.endAt):b2(Le,an.fieldPath,Le.endAt);mt.push(ar.value),yt&&(yt=ar.inclusive)}return new ch(mt,yt)}(C,g),W=this.en(g,C,N),ee=this.en(g,C,V),Re=this.nn(g,C,k),Ke=this.sn(g.indexId,S,W,N.inclusive,ee,V.inclusive,Re);return se.forEach(Ke,Le=>i.J(Le,e.limit).next(Ve=>{Ve.forEach(mt=>{const yt=Je.fromSegments(mt.documentKey);u.has(yt)||(u=u.add(yt),f.push(yt))})}))}).next(()=>f)}return se.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:vq(Gn.create(t.filters,"and")).map(i=>t1(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,s,u,f){const g=(null!=e?e.length:1)*Math.max(i.length,s.length),C=g/(null!=e?e.length:1),M=[];for(let S=0;S<g;++S){const k=e?this.rn(e[S/C]):LT,N=this.on(t,k,i[S%C],r),V=this.un(t,k,s[S%C],u),W=f.map(ee=>this.on(t,k,ee,!0));M.push(...this.createRange(N,V,W))}return M}on(t,e,i,r){const s=new Em(t,Je.empty(),e,i);return r?s:s.Ue()}un(t,e,i,r){const s=new Em(t,Je.empty(),e,i);return r?s.Ue():s}tn(t,e){const i=new yq(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const f of s)i.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return se.forEach(r,s=>this.tn(t,s).next(u=>{u?0!==i&&u.fields.length<function(f){let g=new Kn(Zi.comparator),C=!1;for(const M of f.filters)for(const S of M.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?C=!0:g=g.add(S.field));for(const M of f.orderBy)M.field.isKeyField()||(g=g.add(M.field));return g.size+(C?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new Q0;for(const r of um(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);Mm.Ie.ue(s,u)}return i.Fe()}rn(t){const e=new Q0;return Mm.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new Q0;return Mm.Ie.ue(mm(this.databaseId,e),i.qe(function(r){const s=um(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new Q0);let s=0;for(const u of um(t)){const f=i[s++];for(const g of r)if(this.hn(e,u.fieldPath)&&N0(f))r=this.ln(r,u,f);else{const C=g.qe(u.kind);Mm.Ie.ue(f,C)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const f of r){const g=new Q0;g.seed(f.Fe()),Mm.Ie.ue(u,g.qe(e.kind)),s.push(g)}return s}hn(t,e){return!!t.filters.find(i=>i instanceof hn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=BT(t),r=X0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const u=[];return se.forEach(s,f=>r.get([f.indexId,this.uid]).next(g=>{u.push(function(C,M){const S=M?new I0(M.sequenceNumber,new va(Cm(M.readTime),new Je(Xc(M.documentKey)),M.largestBatchId)):I0.empty(),k=C.fields.map(([N,V])=>new yT(Zi.fromServerFormat(N),V));return new bT(C.indexId,C.collectionGroup,k,S)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=BT(t),s=X0(t);return this.dn(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>se.forEach(f,g=>s.put(mL(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return se.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,g=>this._n(t,r,g).next(C=>{const M=this.wn(s,g);return C.isEqual(M)?se.resolve():this.mn(t,s,g,C,M)}))))})}gn(t,e,i,r){return J0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return J0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=J0(t);let s=new Kn(fh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(u,f)=>{s=s.add(new Em(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>s)}wn(t,e){let i=new Kn(fh);const r=this.cn(e,t);if(null==r)return i;const s=$I(e);if(null!=s){const u=t.data.field(s.fieldPath);if(N0(u))for(const f of u.arrayValue.values||[])i=i.add(new Em(e.indexId,t.key,this.rn(f),r))}else i=i.add(new Em(e.indexId,t.key,LT,r));return i}mn(t,e,i,r,s){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(f,g,C,M,S){const k=f.getIterator(),N=g.getIterator();let V=J_(k),W=J_(N);for(;V||W;){let ee=!1,Re=!1;if(V&&W){const Ke=C(V,W);Ke<0?Re=!0:Ke>0&&(ee=!0)}else null!=V?Re=!0:ee=!0;ee?(M(W),W=J_(N)):Re?(S(V),V=J_(k)):(V=J_(k),W=J_(N))}}(r,s,fh,f=>{u.push(this.gn(t,e,i,f))},f=>{u.push(this.yn(t,e,i,f))}),se.waitFor(u)}dn(t){let e=1;return X0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>fh(u,f)).filter((u,f,g)=>!f||0!==fh(u,g[f-1]));const r=[];r.push(t);for(const u of i){const f=fh(u,t),g=fh(u,e);if(0===f)r[0]=t.Ue();else if(f>0&&g<0)r.push(u),r.push(u.Ue());else if(g>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,LT,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,LT,[]]))}return s}pn(t,e){return fh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(EL)}getMinOffset(t,e){return se.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||ut())).next(EL)}}function ML(n){return $r(n,"collectionParents")}function J0(n){return $r(n,"indexEntries")}function BT(n){return $r(n,"indexConfiguration")}function X0(n){return $r(n,"indexState")}function EL(n){gt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;GI(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new va(t.readTime,t.documentKey,e)}const TL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new zs(t,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function DL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let f=0;const g=i.Z({range:u},(M,S,k)=>(f++,k.delete()));s.push(g.next(()=>{gt(1===f)}));const C=[];for(const M of e.mutations){const S=aL(t,M.key.path,e.batchId);s.push(r.delete(S)),C.push(M.key)}return se.waitFor(s).next(()=>C)}function VT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class UT{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){gt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new UT(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hh(t).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=ab(t),u=hh(t);return u.add({}).next(f=>{gt("number"==typeof f);const g=new p1(f,e,i,r),C=function(k,N,V){const W=V.baseMutations.map(Re=>W0(k.ie,Re)),ee=V.mutations.map(Re=>W0(k.ie,Re));return{userId:N,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:W,mutations:ee}}(this.yt,this.userId,g),M=[];let S=new Kn((k,N)=>Zt(k.canonicalString(),N.canonicalString()));for(const k of r){const N=aL(this.userId,k.key.path,f);S=S.add(k.key.path.popLast()),M.push(u.put(C)),M.push(s.put(N,K5))}return S.forEach(k=>{M.push(this.indexManager.addToCollectionParentIndex(t,k))}),t.addOnCommittedListener(()=>{this.In[f]=g.keys()}),se.waitFor(M).next(()=>g)})}lookupMutationBatch(t,e){return hh(t).get(e).next(i=>i?(gt(i.userId===this.userId),wm(this.yt,i)):null)}Tn(t,e){return this.In[e]?se.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return hh(t).Z({index:"userMutationsIndex",range:r},(u,f,g)=>{f.userId===this.userId&&(gt(f.batchId>=i),s=wm(this.yt,f)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return hh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hh(t).W("userMutationsIndex",e).next(i=>i.map(r=>wm(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=kT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return ab(t).Z({range:r},(u,f,g)=>{const[C,M,S]=u,k=Xc(M);if(C===this.userId&&e.path.isEqual(k))return hh(t).get(S).next(N=>{if(!N)throw ut();gt(N.userId===this.userId),s.push(wm(this.yt,N))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Kn(Zt);const r=[];return e.forEach(s=>{const u=kT(this.userId,s.path),f=IDBKeyRange.lowerBound(u),g=ab(t).Z({range:f},(C,M,S)=>{const[k,N,V]=C,W=Xc(N);k===this.userId&&s.path.isEqual(W)?i=i.add(V):S.done()});r.push(g)}),se.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=kT(this.userId,i),u=IDBKeyRange.lowerBound(s);let f=new Kn(Zt);return ab(t).Z({range:u},(g,C,M)=>{const[S,k,N]=g,V=Xc(k);S===this.userId&&i.isPrefixOf(V)?V.length===r&&(f=f.add(N)):M.done()}).next(()=>this.En(t,f))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(hh(t).get(s).next(u=>{if(null===u)throw ut();gt(u.userId===this.userId),i.push(wm(this.yt,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return DL(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ab(t).Z({range:i},(s,u,f)=>{if(s[0]===this.userId){const g=Xc(s[1]);r.push(g)}else f.done()}).next(()=>{gt(0===r.length)})})}containsKey(t,e){return xL(t,this.userId,e)}Rn(t){return SL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xL(n,t,e){const i=kT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return ab(n).Z({range:s,X:!0},(f,g,C)=>{const[M,S,k]=f;M===t&&S===r&&(u=!0),C.done()}).next(()=>u)}function hh(n){return $r(n,"mutations")}function ab(n){return $r(n,"documentMutations")}function SL(n){return $r(n,"mutationQueues")}class Tm{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Tm(0)}static vn(){return new Tm(-1)}}class Mq{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Tm(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Et.fromTimestamp(new yi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>lb(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(gt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return lb(t).Z((u,f)=>{const g=Y0(f);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(t,g)))}).next(()=>se.waitFor(s)).next(()=>r)}forEachTarget(t,e){return lb(t).Z((i,r)=>{const s=Y0(r);e(s)})}Vn(t){return OL(t).get("targetGlobalKey").next(e=>(gt(null!==e),e))}Sn(t,e){return OL(t).put("targetGlobalKey",e)}Dn(t,e){return lb(t).put(hL(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=gm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return lb(t).Z({range:r,index:"queryTargetsIndex"},(u,f,g)=>{const C=Y0(f);B0(e,C.target)&&(s=C,g.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=ph(t);return e.forEach(u=>{const f=ss(u.path);r.push(s.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,u))}),se.waitFor(r)}removeMatchingKeys(t,e,i){const r=ph(t);return se.forEach(e,s=>{const u=ss(s.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=ph(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ph(t);let s=rn();return r.Z({range:i,X:!0},(u,f,g)=>{const C=Xc(u[1]),M=new Je(C);s=s.add(M)}).next(()=>s)}containsKey(t,e){const i=ss(e.path),r=IDBKeyRange.bound([i],[zN(i)],!1,!0);let s=0;return ph(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,f],g,C)=>{0!==u&&(s++,C.done())}).next(()=>s>0)}ne(t,e){return lb(t).get(e).next(i=>i?Y0(i):null)}}function lb(n){return $r(n,"targets")}function OL(n){return $r(n,"targetGlobal")}function ph(n){return $r(n,"targetDocuments")}function IL([n,t],[e,i]){const r=Zt(n,e);return 0===r?Zt(t,i):r}class Eq{constructor(t){this.xn=t,this.buffer=new Kn(IL),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();IL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Tq{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ve.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){rh(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ih(i)}yield e.Fn(3e5)}))}}class Dq{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return se.resolve(Ca.at);const i=new Eq(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(TL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TL):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,s,u,f,g,C;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,f=Date.now(),this.removeTargets(t,i,e))).next(S=>(s=S,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(C=Date.now(),qI()<=Xf.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${s} targets in `+(g-f)+`ms\n\tRemoved ${S} documents in `+(C-g)+`ms\nTotal Duration: ${C-M}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class xq{constructor(t,e){this.db=t,this.garbageCollector=new Dq(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return jT(t,i)}removeReference(t,e,i){return jT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return jT(t,e)}Gn(t,e){return function(i,r){let s=!1;return SL(i).tt(u=>xL(i,u,r).next(f=>(f&&(s=!0),se.resolve(!f)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(u,f)=>{if(f<=e){const g=this.Gn(t,u).next(C=>{if(!C)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Et.min()),ph(t).delete([0,ss(u.path)])))});r.push(g)}}).next(()=>se.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return jT(t,e)}Kn(t,e){const i=ph(t);let r,s=Ca.at;return i.Z({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:C})=>{0===u?(s!==Ca.at&&e(new Je(Xc(r)),s),s=C,r=g):s=Ca.at}).next(()=>{s!==Ca.at&&e(new Je(Xc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function jT(n,t){return ph(n).put((i=n.currentSequenceNumber,{targetId:0,path:ss(t.path),sequenceNumber:i}));var i}class AL{constructor(){this.changes=new uh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,fi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?se.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Sq{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Dm(t).put(i)}removeEntry(t,e,i){return Dm(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],RT(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=fi.newInvalidDocument(e);return Dm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eC(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:fi.newInvalidDocument(e)};return Dm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(eC(e))},(r,s)=>{i={document:this.jn(e,s),size:VT(s)}}).next(()=>i)}getEntries(t,e){let i=qs();return this.zn(t,e,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=qs(),r=new Yi(Je.comparator);return this.zn(t,e,(s,u)=>{const f=this.jn(s,u);i=i.insert(s,f),r=r.insert(s,VT(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return se.resolve();let r=new Kn(FL);e.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(eC(r.first()),eC(r.last())),u=r.getIterator();let f=u.getNext();return Dm(t).Z({index:"documentKeyIndex",range:s},(g,C,M)=>{const S=Je.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;f&&FL(f,S)<0;)i(f,null),f=u.getNext();f&&f.isEqual(S)&&(i(f,C),f=u.hasNext()?u.getNext():null),f?M.j(eC(f)):M.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),RT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dm(t).W(IDBKeyRange.bound(r,s,!0)).next(u=>{let f=qs();for(const g of u){const C=this.jn(Je.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(C.key,C)}return f})}getAllFromCollectionGroup(t,e,i,r){let s=qs();const u=RL(e,i),f=RL(e,va.max());return Dm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,C,M)=>{const S=this.jn(Je.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);s=s.insert(S.key,S),s.size===r&&M.done()}).next(()=>s)}newChangeBuffer(t){return new Oq(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return kL(t).get("remoteDocumentGlobalKey").next(e=>(gt(!!e),e))}Qn(t,e){return kL(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function hq(n,t){let e;if(t.document)e=X2(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Je.fromSegments(t.noDocument.path),r=Cm(t.noDocument.readTime);e=fi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=Je.fromSegments(t.unknownDocument.path),r=Cm(t.unknownDocument.version);e=fi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new yi(i[0],i[1]);return Et.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return fi.newInvalidDocument(t)}}function PL(n){return new Sq(n)}class Oq extends AL{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new uh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Kn((s,u)=>Zt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const f=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,f.readTime)),u.isValidDocument()){const g=fL(this.Yn.yt,u);r=r.add(s.path.popLast()),i+=VT(g)-f.size,e.push(this.Yn.addEntry(t,s,g))}else if(i-=f.size,this.trackRemovals){const g=fL(this.Yn.yt,u.convertToNoDocument(Et.min()));e.push(this.Yn.addEntry(t,s,g))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),se.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function kL(n){return $r(n,"remoteDocumentGlobal")}function Dm(n){return $r(n,"remoteDocumentsV14")}function eC(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function RL(n,t){const e=t.documentKey.path.toArray();return[n,RT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function FL(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Zt(e[s],i[s]),r)return r;return r=Zt(e.length,i.length),r||(r=Zt(e[e.length-2],i[i.length-2]),r||Zt(e[e.length-1],i[i.length-1]))}class Iq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class NL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&j0(i.mutation,r,Hs.empty(),yi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,rn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=rn()){const r=Qc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=H0();return s.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Qc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,rn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,f)=>{e.set(u,f)})})}computeViews(t,e,i,r){let s=qs();const u=q0(),f=q0();return e.forEach((g,C)=>{const M=i.get(C.key);r.has(C.key)&&(void 0===M||M.mutation instanceof Cd)?s=s.insert(C.key,C):void 0!==M?(u.set(C.key,M.mutation.getFieldMask()),j0(M.mutation,C,M.mutation.getFieldMask(),yi.now())):u.set(C.key,Hs.empty())}),this.recalculateAndSaveOverlays(t,s).next(g=>(g.forEach((C,M)=>u.set(C,M)),e.forEach((C,M)=>{var S;return f.set(C,new Iq(M,null!==(S=u.get(C))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(t,e){const i=q0();let r=new Yi((u,f)=>u-f),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const f of u)f.keys().forEach(g=>{const C=e.get(g);if(null===C)return;let M=i.get(g)||Hs.empty();M=f.applyToLocalView(C,M),i.set(g,M);const S=(r.get(f.batchId)||rn()).add(g);r=r.insert(f.batchId,S)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),C=g.key,M=g.value,S=H2();M.forEach(k=>{if(!s.has(k)){const N=k2(e.get(k),i.get(k));null!==N&&S.set(k,N),s=s.add(k)}}),u.push(this.documentOverlayCache.saveOverlays(t,C,S))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Je.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):r1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):se.resolve(Qc());let f=-1,g=s;return u.next(C=>se.forEach(C,(M,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),s.get(M)?se.resolve():this.remoteDocumentCache.getEntry(t,M).next(k=>{g=g.insert(M,k)}))).next(()=>this.populateOverlays(t,C,s)).next(()=>this.computeViews(t,g,C,rn())).next(M=>({batchId:f,changes:j2(M)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Je(e)).next(i=>{let r=H0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=H0();return this.indexManager.getCollectionParents(t,r).next(u=>se.forEach(u,f=>{const g=(C=e,M=f.child(r),new vd(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(C=>{C.forEach((M,S)=>{s=s.insert(M,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((f,g)=>{const C=g.getKey();null===r.get(C)&&(r=r.insert(C,fi.newInvalidDocument(C)))});let u=H0();return r.forEach((f,g)=>{const C=s.get(f);void 0!==C&&j0(C.mutation,g,Hs.empty(),yi.now()),a1(e,g)&&(u=u.insert(f,g))}),u})}}class Aq{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return se.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:or(i.createTime)}),se.resolve()}getNamedQuery(t,e){return se.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:_1(i.bundledQuery),readTime:or(i.readTime)}),se.resolve();var i}}class Pq{constructor(){this.overlays=new Yi(Je.comparator),this.es=new Map}getOverlay(t,e){return se.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qc();return se.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.oe(t,e,s)}),se.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),se.resolve()}getOverlaysForCollection(t,e,i){const r=Qc(),s=e.length+1,u=new Je(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,C=g.getKey();if(!e.isPrefixOf(C.path))break;C.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return se.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Yi((C,M)=>C-M);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===e&&C.largestBatchId>i){let M=s.get(C.largestBatchId);null===M&&(M=Qc(),s=s.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const f=Qc(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((C,M)=>f.set(C,M)),!(f.size()>=r)););return se.resolve(f)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new g1(e,i));let s=this.es.get(e);void 0===s&&(s=rn(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class E1{constructor(){this.ns=new Kn(Gr.ss),this.rs=new Kn(Gr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Gr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Gr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Je(new En([])),i=new Gr(e,t),r=new Gr(e,t+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Je(new En([])),i=new Gr(e,t),r=new Gr(e,t+1);let s=rn();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Gr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Gr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Je.comparator(t.key,e.key)||Zt(t._s,e._s)}static os(t,e){return Zt(t._s,e._s)||Je.comparator(t.key,e.key)}}class kq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Kn(Gr.ss)}checkEmpty(t){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const u=new p1(s,e,i,r);this.mutationQueue.push(u);for(const f of r)this.gs=this.gs.add(new Gr(f.key,s)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(t,e){return se.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Gr(e,0),r=new Gr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const f=this.ys(u._s);s.push(f)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Kn(Zt);return e.forEach(r=>{const s=new Gr(r,0),u=new Gr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],f=>{i=i.add(f._s)})}),se.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Je.isDocumentKey(s)||(s=s.child(""));const u=new Gr(new Je(s),0);let f=new Kn(Zt);return this.gs.forEachWhile(g=>{const C=g.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(f=f.add(g._s)),!0)},u),se.resolve(this.Is(f))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){gt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return se.forEach(e.mutations,r=>{const s=new Gr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Gr(e,0),r=this.gs.firstAfterOrEqual(i);return se.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return se.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Rq{constructor(t){this.Es=t,this.docs=new Yi(Je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return se.resolve(i?i.document.mutableCopy():fi.newInvalidDocument(e))}getEntries(t,e){let i=qs();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fi.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(t,e,i){let r=qs();const s=new Je(e.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||GI(GN(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}As(t,e){return se.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Fq(this)}getSize(t){return se.resolve(this.size)}}class Fq extends AL{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),se.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class Nq{constructor(t){this.persistence=t,this.Rs=new uh(e=>gm(e),B0),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new E1,this.targetCount=0,this.vs=Tm.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),se.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Tm(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,se.resolve()}updateTargetData(t,e){return this.Dn(e),se.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),se.waitFor(s).next(()=>r)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return se.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),se.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),se.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),se.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return se.resolve(i)}containsKey(t,e){return se.resolve(this.Ps.containsKey(e))}}class LL{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Ca(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Nq(this),this.indexManager=new Cq,this.remoteDocumentCache=new Rq(i=>this.referenceDelegate.xs(i)),this.yt=new dL(e),this.Ns=new Aq(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Pq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new kq(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ne("MemoryPersistence","Starting transaction:",t);const r=new Lq(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return se.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Lq extends WN{constructor(t){super(),this.currentSequenceNumber=t}}class HT{constructor(t){this.persistence=t,this.Fs=new E1,this.$s=null}static Bs(t){return new HT(t)}get Ls(){if(this.$s)return this.$s;throw ut()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),se.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),se.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),se.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,i=>{const r=Je.fromPath(i);return this.qs(t,r).next(s=>{s||e.removeEntry(r,Et.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return se.or([()=>se.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class Bq{constructor(t){this.yt=t}$(t,e,i,r){const s=new vT("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sL,{unique:!0}),f.createObjectStore("documentMutations"),BL(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),BL(t)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",C)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store("mutations").W().next(C=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sL,{unique:!0});const M=g.store("mutations"),S=C.map(k=>M.put(k));return se.waitFor(S)})}(t,s))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Us(s))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:lq});g.createIndex("collectionPathOverlayIndex",cq,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",uq,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:Q5});g.createIndex("documentKeyIndex",J5),g.createIndex("collectionGroupIndex",X5)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,s))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:rq}).createIndex("sequenceNumberIndex",oq,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:sq}).createIndex("documentKeyIndex",aq,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=VT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>se.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(f=>se.forEach(f,g=>{gt(g.userId===s.userId);const C=wm(this.yt,g);return DL(t,s.userId,C).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,f)=>{const g=new En(u),C=[0,ss(g)];s.push(e.get(C).next(M=>M?se.resolve():e.put({targetId:0,path:ss(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:iq});const i=e.store("collectionParents"),r=new M1,s=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:ss(g)})}};return e.store("remoteDocuments").Z({X:!0},(u,f)=>{const g=new En(u);return s(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,f,g],C)=>{const M=Xc(f);return s(M.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=Y0(r),u=hL(this.yt,s);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const f=e.store("remoteDocumentsV14"),g=(C=u,C.document?new Je(En.fromString(C.document.name).popFirst(5)):C.noDocument?Je.fromSegments(C.noDocument.path):C.unknownDocument?Je.fromSegments(C.unknownDocument.path):ut()).path.toArray();var C;const M={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(M))}).next(()=>se.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=PL(this.yt),s=new LL(HT.Bs,this.yt.ie);return i.W().next(u=>{const f=new Map;return u.forEach(g=>{var C;let M=null!==(C=f.get(g.userId))&&void 0!==C?C:rn();wm(this.yt,g).keys().forEach(S=>M=M.add(S)),f.set(g.userId,M)}),se.forEach(f,(g,C)=>{const M=new zr(C),S=FT.re(this.yt,M),k=s.getIndexManager(M),N=UT.re(M,this.yt,k,s.referenceDelegate);return new NL(r,N,S,k).recalculateAndSaveOverlaysForDocumentKeys(new h1(e,Ca.at),g).next()})})}}function BL(n){n.createObjectStore("targetDocuments",{keyPath:tq}).createIndex("documentTargetsIndex",nq,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",eq,{unique:!0}),n.createObjectStore("targetGlobal")}const T1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class D1{constructor(t,e,i,r,s,u,f,g,C,M,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=u,this.document=f,this.Js=C,this.Ys=M,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!D1.C())throw new Ie(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xq(this,r),this.ii=e+"main",this.yt=new dL(g),this.ri=new Zl(this.ii,this.Xs,new Bq(this.yt)),this.Cs=new Mq(this.referenceDelegate,this.yt),this.remoteDocumentCache=PL(this.yt),this.Ns=new pq,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===M&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(ue.FAILED_PRECONDITION,T1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Ca(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>qT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(rh(t))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return tC(t).get("owner").next(e=>se.resolve(this.mi(e)))}gi(t){return qT(t).delete(this.clientId)}yi(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=$r(i,"clientMetadata");return r.W().next(s=>{const u=t.Ii(s,18e5),f=s.filter(g=>-1===u.indexOf(g));return se.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?se.resolve(!0):tC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ie(ue.FAILED_PRECONDITION,T1);return!1}}return!(!this.networkEnabled||!this.inForeground)||qT(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ne("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new h1(e,Ca.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>qT(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return UT.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new wq(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return FT.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ne("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.Xs)?fq:14===u?uL:13===u?cL:12===u?dq:11===u?lL:void ut();var u;let f;return this.ri.runTransaction(t,r,s,g=>(f=new h1(g,this.Ss?this.Ss.next():Ca.at),"readwrite-primary"===e?this.fi(f).next(C=>!!C||this.di(f)).next(C=>{if(!C)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ie(ue.FAILED_PRECONDITION,ZN);return i(f)}).next(C=>this.wi(f).next(()=>C)):this.Vi(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(t){return tC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(ue.FAILED_PRECONDITION,T1)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tC(t).put("owner",e)}static C(){return Zl.C()}_i(t){const e=tC(t);return e.get("owner").next(i=>this.mi(i)?(Ne("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):se.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ne("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(t){}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function tC(n){return $r(n,"owner")}function qT(n){return $r(n,"clientMetadata")}function x1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class S1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=rn(),r=rn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new S1(t,e.fromCache,i,r)}}class VL{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(C2(e))return se.resolve(null);let i=os(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=xT(e,null,"F"),i=os(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=rn(...s);return this.Ni.getDocuments(t,u).next(f=>this.indexManager.getMinOffset(t,i).next(g=>{const C=this.Fi(e,f);return this.$i(e,C,u,g.readTime)?this.ki(t,xT(e,null,"F")):this.Bi(t,C,e,g)}))})))}Oi(t,e,i,r){return C2(e)||r.isEqual(Et.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const u=this.Fi(e,s);return this.$i(e,u,i,r)?this.Mi(t,e):(qI()<=Xf.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),s1(e)),this.Bi(t,u,e,$N(r,-1)))})}Fi(t,e){let i=new Kn(E2(t));return e.forEach((r,s)=>{a1(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return qI()<=Xf.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",s1(e)),this.Ni.getDocumentsMatchingQuery(t,e,va.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class Vq{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Yi(Zt),this.Ui=new uh(s=>gm(s),B0),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function UL(n,t,e,i){return new Vq(n,t,e,i)}function jL(n,t){return O1.apply(this,arguments)}function O1(){return O1=(0,ve.Z)(function*(n,t){const e=tt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],f=[];let g=rn();for(const C of r){u.push(C.batchId);for(const M of C.mutations)g=g.add(M.key)}for(const C of s){f.push(C.batchId);for(const M of C.mutations)g=g.add(M.key)}return e.localDocuments.getDocuments(i,g).next(C=>({ji:C,removedBatchIds:u,addedBatchIds:f}))})})}),O1.apply(this,arguments)}function Uq(n,t){const e=tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,C){const M=g.batch,S=M.keys();let k=se.resolve();return S.forEach(N=>{k=k.next(()=>C.getEntry(f,N)).next(V=>{const W=g.docVersions.get(N);gt(null!==W),V.version.compareTo(W)<0&&(M.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),C.addEntry(V)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(f,M))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=rn();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function HL(n){const t=tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function jq(n,t){const e=tt(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const f=[];t.targetChanges.forEach((M,S)=>{const k=r.get(S);if(!k)return;f.push(e.Cs.removeMatchingKeys(s,M.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(s,M.addedDocuments,S)));let N=k.withSequenceNumber(s.currentSequenceNumber);var V,W,ee;t.targetMismatches.has(S)?N=N.withResumeToken(Ar.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):M.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(M.resumeToken,i)),r=r.insert(S,N),W=N,ee=M,(0===(V=k).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(e.Cs.updateTargetData(s,N))});let g=qs(),C=rn();if(t.documentUpdates.forEach(M=>{t.resolvedLimboDocuments.has(M)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(s,M))}),f.push(qL(s,u,t.documentUpdates).next(M=>{g=M.Wi,C=M.zi})),!i.isEqual(Et.min())){const M=e.Cs.getLastRemoteSnapshotVersion(s).next(S=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(M)}return se.waitFor(f).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,g,C)).next(()=>g)}).then(s=>(e.qi=r,s))}function qL(n,t,e){let i=rn(),r=rn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=qs();return e.forEach((f,g)=>{const C=s.get(f);g.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(f)),g.isNoDocument()&&g.version.isEqual(Et.min())?(t.removeEntry(f,g.readTime),u=u.insert(f,g)):!C.isValidDocument()||g.version.compareTo(C.version)>0||0===g.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(g),u=u.insert(f,g)):Ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",C.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function Hq(n,t){const e=tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function cb(n,t){const e=tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,se.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new dh(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function ub(n,t,e){return I1.apply(this,arguments)}function I1(){return I1=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=i.qi.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!rh(u))throw u;Ne("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),I1.apply(this,arguments)}function zT(n,t,e){const i=tt(n);let r=Et.min(),s=rn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,C){const M=tt(f),S=M.Ui.get(C);return void 0!==S?se.resolve(M.qi.get(S)):M.Cs.getTargetData(g,C)}(i,u,os(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{s=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Et.min(),e?s:rn())).next(f=>(GL(i,M2(t),f),{documents:f,Hi:s})))}function zL(n,t){const e=tt(n),i=tt(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,t).next(u=>u?u.target:null))}function $L(n,t){const e=tt(n),i=e.Ki.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,$N(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GL(e,t,r),r))}function GL(n,t,e){let i=n.Ki.get(t)||Et.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function A1(){return A1=(0,ve.Z)(function*(n,t,e,i){const r=tt(n);let s=rn(),u=qs();for(const C of e){const M=t.Ji(C.metadata.name);C.document&&(s=s.add(M));const S=t.Yi(C);S.setReadTime(t.Xi(C.metadata.readTime)),u=u.insert(M,S)}const f=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield cb(r,(C=i,os(X_(En.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>qL(C,f,u).next(M=>(f.apply(C),M)).next(M=>r.Cs.removeMatchingKeysForTargetId(C,g.targetId).next(()=>r.Cs.addMatchingKeys(C,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,M.Wi,M.zi)).next(()=>M.Wi)))}),A1.apply(this,arguments)}function zq(n,t){return P1.apply(this,arguments)}function P1(){return P1=(0,ve.Z)(function*(n,t,e=rn()){const i=yield cb(n,os(_1(t.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=or(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,t);const f=i.withResumeToken(Ar.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(f.targetId,f),r.Cs.updateTargetData(s,f).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),P1.apply(this,arguments)}function ZL(n,t){return`firestore_clients_${n}_${t}`}function WL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function k1(n,t){return`firestore_targets_${n}_${t}`}class $T{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ie(r.error.code,r.error.message))),u?new $T(t,e,r.state,s):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ie(i.error.code,i.error.message))),s?new nC(t,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class GT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=AT();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=JN(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new GT(t,s):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class R1{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new R1(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class F1{constructor(){this.activeTargetIds=AT()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N1{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yi(Zt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=ZL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new F1),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(ZL(t.persistenceKey,r));if(s){const u=GT.Zi(r,s);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(k1(this.persistenceKey,t));if(i){const r=nC.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(k1(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ne("SharedClientState","READ",t,e),e}setItem(t,e){Ne("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let u=Ca.at;if(null!=s)try{const f=JSON.parse(s);gt("number"==typeof f),u=f}catch(f){rr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Ca.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new $T(this.currentUser,t,e,i),s=WL(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=WL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=k1(this.persistenceKey,t),s=new nC(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return GT.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return $T.Zi(new zr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return nC.Zi(r,e)}yr(t){return R1.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),u=[],f=[];return s.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{s.has(g)||f.push(g)}),this.syncEngine.Br(u,f).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=AT();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class YL{constructor(){this.Lr=new F1,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new F1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class $q{Ur(t){}shutdown(){}}class KL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Gq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zq{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Wq extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const u=this.ho(t,e);Ne("RestConnection","Sending: ",u,i);const f={};return this.lo(f,r,s),this.fo(t,u,f,i).then(g=>(Ne("RestConnection","Received: ",g),g),g=>{throw cm("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,s,u){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Z_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${Gq[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,u)=>{const f=new GH;f.setWithCredentials(!0),f.listenOnce(qH.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case HI.NO_ERROR:const C=f.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(C)),s(C);break;case HI.TIMEOUT:Ne("Connection",'RPC "'+t+'" timed out'),u(new Ie(ue.DEADLINE_EXCEEDED,"Request time out"));break;case HI.HTTP_ERROR:const M=f.getStatus();if(Ne("Connection",'RPC "'+t+'" failed with status:',M,"response text:",f.getResponseText()),M>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=null==S?void 0:S.error;if(k&&k.status&&k.message){const N=function(V){const W=V.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(W)>=0?W:ue.UNKNOWN}(k.status);u(new Ie(N,k.message))}else u(new Ie(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ie(ue.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ne("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);f.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=jH(),u=HH(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new $H({})),this.lo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const g=r.join("");Ne("Connection","Creating WebChannel: "+g,f);const C=s.createWebChannel(g,f);let M=!1,S=!1;const k=new Zq({Hr:V=>{S?Ne("Connection","Not sending because WebChannel is closed:",V):(M||(Ne("Connection","Opening WebChannel transport."),C.open(),M=!0),Ne("Connection","WebChannel sending:",V),C.send(V))},Jr:()=>C.close()}),N=(V,W,ee)=>{V.listen(W,Re=>{try{ee(Re)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return N(C,_T.EventType.OPEN,()=>{S||Ne("Connection","WebChannel transport opened.")}),N(C,_T.EventType.CLOSE,()=>{S||(S=!0,Ne("Connection","WebChannel transport closed"),k.io())}),N(C,_T.EventType.ERROR,V=>{S||(S=!0,cm("Connection","WebChannel transport errored:",V),k.io(new Ie(ue.UNAVAILABLE,"The operation could not be completed")))}),N(C,_T.EventType.MESSAGE,V=>{var W;if(!S){const ee=V.data[0];gt(!!ee);const Re=ee,Ke=Re.error||(null===(W=Re[0])||void 0===W?void 0:W.error);if(Ke){Ne("Connection","WebChannel received error:",Ke);const Le=Ke.status;let Ve=function(yt){const an=_r[yt];if(void 0!==an)return V2(an)}(Le),mt=Ke.message;void 0===Ve&&(Ve=ue.INTERNAL,mt="Unknown error status: "+Le+" with message "+Ke.message),S=!0,k.io(new Ie(Ve,mt)),C.close()}else Ne("Connection","WebChannel received:",ee),k.ro(ee)}}),N(u,zH.STAT_EVENT,V=>{V.stat===VN.PROXY?Ne("Connection","Detected buffering proxy"):V.stat===VN.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function QL(){return"undefined"!=typeof window?window:null}function ZT(){return"undefined"!=typeof document?document:null}function iC(n){return new V5(n,!0)}class L1{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class JL{constructor(t,e,i,r,s,u,f,g){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new L1(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ve.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,ve.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ie(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,ve.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Ne("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yq extends JL{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.yt=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function H5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ut(),r=t.targetChange.targetIds||[],s=function(g,C){return g.wt?(gt(void 0===C||"string"==typeof C),Ar.fromBase64String(C||"")):(gt(void 0===C||C instanceof Uint8Array),Ar.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(g){const C=void 0===g.code?ue.UNKNOWN:V2(g.code);return new Ie(C,g.message||"")}(u);e=new z2(i,r,s,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Jc(n,i.document.name),s=or(i.document.updateTime),u=i.document.createTime?or(i.document.createTime):Et.min(),f=new po({mapValue:{fields:i.document.fields}}),g=fi.newFoundDocument(r,s,u,f);e=new PT(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=Jc(n,i.document),s=i.readTime?or(i.readTime):Et.min(),u=fi.newNoDocument(r,s);e=new PT([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Jc(n,i.document);e=new PT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,s=new I5(i.count||0);e=new q2(i.targetId,s)}}var g;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return Et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Et.min():s.readTime?or(s.readTime):Et.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Z0(this.yt),e.addTarget=function(r,s){let u;const f=s.target;return u=ET(f)?{documents:eL(r,f)}:{query:f1(r,f)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=W2(r,s.resumeToken):s.snapshotVersion.compareTo(Et.min())>0&&(u.readTime=rb(r,s.snapshotVersion.toTimestamp())),u}(this.yt,t);const i=function z5(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Z0(this.yt),e.removeTarget=t,this.Bo(e)}}class Kq extends JL{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function q5(n,t){return n&&n.length>0?(gt(void 0!==t),n.map(e=>function(i,r){let s=or(i.updateTime?i.updateTime:r);return s.isEqual(Et.min())&&(s=or(r)),new x5(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=or(t.commitTime);return this.listener.Zo(i,e)}return gt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Z0(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>W0(this.yt,i))};this.Bo(e)}}class Qq extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Ie(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ie(ue.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ue.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Xq{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(rr(e),this.ou=!1):Ne("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ez{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var g;wd(u)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,ve.Z)(function*(C){const M=tt(C);M._u.add(4),yield db(M),M.gu.set("Unknown"),M._u.delete(4),yield rC(M)}),function(C){return g.apply(this,arguments)})(u))}))}),this.gu=new Xq(i,r)}}function rC(n){return V1.apply(this,arguments)}function V1(){return V1=(0,ve.Z)(function*(n){if(wd(n))for(const t of n.wu)yield t(!0)}),V1.apply(this,arguments)}function db(n){return U1.apply(this,arguments)}function U1(){return U1=(0,ve.Z)(function*(n){for(const t of n.wu)yield t(!1)}),U1.apply(this,arguments)}function WT(n,t){const e=tt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),q1(e)?H1(e):hb(e).ko()&&j1(e,t))}function oC(n,t){const e=tt(n),i=hb(e);e.du.delete(t),i.ko()&&XL(e,t),0===e.du.size&&(i.ko()?i.Fo():wd(e)&&e.gu.set("Unknown"))}function j1(n,t){n.yu.Ot(t.targetId),hb(n).zo(t)}function XL(n,t){n.yu.Ot(t),hb(n).Ho(t)}function H1(n){n.yu=new F5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),hb(n).start(),n.gu.uu()}function q1(n){return wd(n)&&!hb(n).No()&&n.du.size>0}function wd(n){return 0===tt(n)._u.size}function eB(n){n.yu=void 0}function tz(n){return z1.apply(this,arguments)}function z1(){return z1=(0,ve.Z)(function*(n){n.du.forEach((t,e)=>{j1(n,t)})}),z1.apply(this,arguments)}function nz(n,t){return $1.apply(this,arguments)}function $1(){return $1=(0,ve.Z)(function*(n,t){eB(n),q1(n)?(n.gu.hu(t),H1(n)):n.gu.set("Unknown")}),$1.apply(this,arguments)}function iz(n,t,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ve.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof z2&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,s){const u=s.cause;for(const f of s.targetIds)r.du.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.du.delete(f),r.yu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield YT(n,i)}else if(t instanceof PT?n.yu.Kt(t):t instanceof q2?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(Et.min()))try{const i=yield HL(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.yu.Zt(s);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const C=r.du.get(g);C&&r.du.set(g,C.withResumeToken(f.resumeToken,s))}}),u.targetMismatches.forEach(f=>{const g=r.du.get(f);if(!g)return;r.du.set(f,g.withResumeToken(Ar.EMPTY_BYTE_STRING,g.snapshotVersion)),XL(r,f);const C=new dh(g.target,f,1,g.sequenceNumber);j1(r,C)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ne("RemoteStore","Failed to raise snapshot:",i),yield YT(n,i)}var i}),G1.apply(this,arguments)}function YT(n,t,e){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,ve.Z)(function*(n,t,e){if(!rh(t))throw t;n._u.add(1),yield db(n),n.gu.set("Offline"),e||(e=()=>HL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield rC(n)}))}),Z1.apply(this,arguments)}function tB(n,t){return t().catch(e=>YT(n,e,t))}function fb(n){return W1.apply(this,arguments)}function W1(){return W1=(0,ve.Z)(function*(n){const t=tt(n),e=mh(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;rz(t);)try{const r=yield Hq(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,oz(t,r)}catch(r){yield YT(t,r)}nB(t)&&iB(t)}),W1.apply(this,arguments)}function rz(n){return wd(n)&&n.fu.length<10}function oz(n,t){n.fu.push(t);const e=mh(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function nB(n){return wd(n)&&!mh(n).No()&&n.fu.length>0}function iB(n){mh(n).start()}function sz(n){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ve.Z)(function*(n){mh(n).eu()}),Y1.apply(this,arguments)}function az(n){return K1.apply(this,arguments)}function K1(){return K1=(0,ve.Z)(function*(n){const t=mh(n);for(const e of n.fu)t.Xo(e.mutations)}),K1.apply(this,arguments)}function lz(n,t,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,ve.Z)(function*(n,t,e){const i=n.fu.shift(),r=m1.from(i,t,e);yield tB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fb(n)}),Q1.apply(this,arguments)}function cz(n,t){return J1.apply(this,arguments)}function J1(){return J1=(0,ve.Z)(function*(n,t){var e;t&&mh(n).Yo&&(yield(e=(0,ve.Z)(function*(i,r){if(B2(s=r.code)&&s!==ue.ABORTED){const u=i.fu.shift();mh(i).Mo(),yield tB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield fb(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),nB(n)&&iB(n)}),J1.apply(this,arguments)}function rB(n,t){return X1.apply(this,arguments)}function X1(){return X1=(0,ve.Z)(function*(n,t){const e=tt(n);e.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const i=wd(e);e._u.add(3),yield db(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield rC(e)}),X1.apply(this,arguments)}function eA(n,t){return tA.apply(this,arguments)}function tA(){return tA=(0,ve.Z)(function*(n,t){const e=tt(n);t?(e._u.delete(2),yield rC(e)):t||(e._u.add(2),yield db(e),e.gu.set("Unknown"))}),tA.apply(this,arguments)}function hb(n){return n.pu||(n.pu=function(t,e,i){const r=tt(t);return r.su(),new Yq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:tz.bind(null,n),Zr:nz.bind(null,n),Wo:iz.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.pu.Mo(),q1(n)?H1(n):n.gu.set("Unknown")):(yield n.pu.stop(),eB(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function mh(n){return n.Iu||(n.Iu=function(t,e,i){const r=tt(t);return r.su(),new Kq(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:sz.bind(null,n),Zr:cz.bind(null,n),tu:az.bind(null,n),Zo:lz.bind(null,n)}),n.wu.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Iu.Mo(),yield fb(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class nA{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,f=new nA(t,e,u,r,s);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pb(n,t){if(rr("AsyncQueue",`${t}: ${n}`),rh(n))return new Ie(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class mb{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Je.comparator(e.key,i.key):(e,i)=>Je.comparator(e.key,i.key),this.keyedMap=H0(),this.sortedSet=new Yi(this.comparator)}static emptySet(t){return new mb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof mb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new mb;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oB{constructor(){this.Tu=new Yi(Je.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ut():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class gb{constructor(t,e,i,r,s,u,f,g,C){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=C}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(f=>{u.push({type:0,doc:f})}),new gb(t,e,mb.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&V0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class uz{constructor(){this.Au=void 0,this.listeners=[]}}class dz{constructor(){this.queries=new uh(t=>w2(t),V0),this.onlineState="Unknown",this.Ru=new Set}}function iA(n,t){return rA.apply(this,arguments)}function rA(){return rA=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new uz),r)try{s.Au=yield e.onListen(i)}catch(u){const f=pb(u,`Initialization of query '${s1(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&aA(e)}),rA.apply(this,arguments)}function oA(n,t){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),sA.apply(this,arguments)}function fz(n,t){const e=tt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.Pu(r)&&(i=!0);u.Au=r}}i&&aA(e)}function hz(n,t,e){const i=tt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function aA(n){n.Ru.forEach(t=>{t.next()})}class lA{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new gb(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=gb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class pz{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class sB{constructor(t){this.yt=t}Ji(t){return Jc(this.yt,t)}Yi(t){return t.metadata.exists?X2(this.yt,t.document,!1):fi.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return or(t)}}class mz{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aB(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=En.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new sB(this.yt);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||rn()).add(s);e.set(u,f)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function qq(n,t,e,i){return A1.apply(this,arguments)}(t.localStore,new sB(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield zq(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function aB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lB{constructor(t){this.key=t}}class cB{constructor(t){this.key=t}}class uB{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=E2(t),this.Qu=new mb(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new oB,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,S)=>{const k=r.get(M),N=a1(this.query,S)?S:null,V=!!k&&this.mutatedKeys.has(k.key),W=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let ee=!1;k&&N?k.data.isEqual(N.data)?V!==W&&(i.track({type:3,doc:N}),ee=!0):this.Hu(k,N)||(i.track({type:2,doc:N}),ee=!0,(g&&this.Gu(N,g)>0||C&&this.Gu(N,C)<0)&&(f=!0)):!k&&N?(i.track({type:0,doc:N}),ee=!0):k&&!N&&(i.track({type:1,doc:k}),ee=!0,(g||C)&&(f=!0)),ee&&(N?(u=u.add(N),s=W?s.add(M):s.delete(M)):(u=u.delete(M),s=s.delete(M)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const M="F"===this.query.limitType?u.last():u.first();u=u.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{Qu:u,zu:i,$i:f,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((C,M)=>function(S,k){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return N(S)-N(k)}(C.type,M.type)||this.Gu(C.doc,M.doc)),this.Ju(i);const u=e?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,g=f!==this.Uu;return this.Uu=f,0!==s.length||g?{snapshot:new gb(this.query,t.Qu,r,s,t.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oB,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=rn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new cB(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new lB(i))}),e}tc(t){this.qu=t.Hi,this.Ku=rn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return gb.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class gz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class _z{constructor(t){this.key=t,this.nc=!1}}class bz{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new uh(f=>w2(f),V0),this.rc=new Map,this.oc=new Set,this.uc=new Yi(Je.comparator),this.cc=new Map,this.ac=new E1,this.hc={},this.lc=new Map,this.fc=Tm.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function yz(n,t){return cA.apply(this,arguments)}function cA(){return cA=(0,ve.Z)(function*(n,t){const e=PA(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield cb(e.localStore,os(t));e.isPrimaryClient&&WT(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield uA(e,t,i,"current"===f,u.resumeToken)}return r}),cA.apply(this,arguments)}function uA(n,t,e,i,r){return dA.apply(this,arguments)}function dA(){return dA=(0,ve.Z)(function*(n,t,e,i,r){n._c=(S,k,N)=>{return(V=(0,ve.Z)(function*(W,ee,Re,Ke){let Le=ee.view.Wu(Re);Le.$i&&(Le=yield zT(W.localStore,ee.query,!1).then(({documents:yt})=>ee.view.Wu(yt,Le)));const Ve=Ke&&Ke.targetChanges.get(ee.targetId),mt=ee.view.applyChanges(Le,W.isPrimaryClient,Ve);return CA(W,ee.targetId,mt.Xu),mt.snapshot}),function(W,ee,Re,Ke){return V.apply(this,arguments)})(n,S,k,N);var V};const s=yield zT(n.localStore,t,!0),u=new uB(t,s.Hi),f=u.Wu(s.documents),g=$0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),C=u.applyChanges(f,n.isPrimaryClient,g);CA(n,e,C.Xu);const M=new gz(t,e,u);return n.ic.set(t,M),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),C.snapshot}),dA.apply(this,arguments)}function vz(n,t){return fA.apply(this,arguments)}function fA(){return fA=(0,ve.Z)(function*(n,t){const e=tt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!V0(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ub(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),oC(e.remoteStore,i.targetId),_b(e,i.targetId)}).catch(ih))):(_b(e,i.targetId),yield ub(e.localStore,i.targetId,!0))}),fA.apply(this,arguments)}function hA(){return hA=(0,ve.Z)(function*(n,t,e){const i=kA(n);try{const r=yield function(s,u){const f=tt(s),g=yi.now(),C=u.reduce((k,N)=>k.add(N.key),rn());let M,S;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=qs(),V=rn();return f.Gi.getEntries(k,C).next(W=>{N=W,N.forEach((ee,Re)=>{Re.isValidDocument()||(V=V.add(ee))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,N)).next(W=>{M=W;const ee=[];for(const Re of u){const Ke=O5(Re,M.get(Re.key).overlayedDocument);null!=Ke&&ee.push(new Cd(Re.key,Ke,_2(Ke.value.mapValue),vi.exists(!0)))}return f.mutationQueue.addMutationBatch(k,g,ee,u)}).next(W=>{S=W;const ee=W.applyToLocalDocumentSet(M,V);return f.documentOverlayCache.saveOverlays(k,W.batchId,ee)})}).then(()=>({batchId:S.batchId,changes:j2(M)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,f){let g=s.hc[s.currentUser.toKey()];g||(g=new Yi(Zt)),g=g.insert(u,f),s.hc[s.currentUser.toKey()]=g}(i,r.batchId,e),yield Md(i,r.changes),yield fb(i.remoteStore)}catch(r){const s=pb(r,"Failed to persist write");e.reject(s)}}),hA.apply(this,arguments)}function dB(n,t){return pA.apply(this,arguments)}function pA(){return pA=(0,ve.Z)(function*(n,t){const e=tt(n);try{const i=yield jq(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.cc.get(s);u&&(gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?gt(u.nc):r.removedDocuments.size>0&&(gt(u.nc),u.nc=!1))}),yield Md(e,i,t)}catch(i){yield ih(i)}}),pA.apply(this,arguments)}function fB(n,t,e){const i=tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,u)=>{const f=u.view.bu(t);f.snapshot&&r.push(f.snapshot)}),function(s,u){const f=tt(s);f.onlineState=u;let g=!1;f.queries.forEach((C,M)=>{for(const S of M.listeners)S.bu(u)&&(g=!0)}),g&&aA(f)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function wz(n,t,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,t,e){const i=tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let u=new Yi(Je.comparator);u=u.insert(s,fi.newNoDocument(s,Et.min()));const f=rn().add(s),g=new z0(Et.min(),new Map,new Kn(Zt),u,f);yield dB(i,g),i.uc=i.uc.remove(s),i.cc.delete(t),wA(i)}else yield ub(i.localStore,t,!1).then(()=>_b(i,t,e)).catch(ih)}),mA.apply(this,arguments)}function Mz(n,t){return gA.apply(this,arguments)}function gA(){return gA=(0,ve.Z)(function*(n,t){const e=tt(n),i=t.batch.batchId;try{const r=yield Uq(e.localStore,t);vA(e,i,null),yA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Md(e,r)}catch(r){yield ih(r)}}),gA.apply(this,arguments)}function Ez(n,t,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,t,e){const i=tt(n);try{const r=yield function(s,u){const f=tt(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let C;return f.mutationQueue.lookupMutationBatch(g,u).next(M=>(gt(null!==M),C=M.keys(),f.mutationQueue.removeMutationBatch(g,M))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,C,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,C)).next(()=>f.localDocuments.getDocuments(g,C))})}(i.localStore,t);vA(i,t,e),yA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Md(i,r)}catch(r){yield ih(r)}}),_A.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,t){const e=tt(n);wd(e.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=tt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=pb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),bA.apply(this,arguments)}function yA(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function vA(n,t,e){const i=tt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function _b(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||hB(n,i)})}function hB(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(oC(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),wA(n))}function CA(n,t,e){for(const i of e)i instanceof lB?(n.ac.addReference(i.key,t),Dz(n,i)):i instanceof cB?(Ne("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||hB(n,i.key)):ut()}function Dz(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Ne("SyncEngine","New document in limbo: "+e),n.oc.add(i),wA(n))}function wA(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Je(En.fromString(t)),i=n.fc.next();n.cc.set(i,new _z(e)),n.uc=n.uc.insert(e,i),WT(n.remoteStore,new dh(os(X_(e.path)),i,2,Ca.at))}}function Md(n,t,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=[],s=[],u=[];var f;i.ic.isEmpty()||(i.ic.forEach((f,g)=>{u.push(i._c(g,t,e).then(C=>{if((C||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,(null==C?void 0:C.fromCache)?"not-current":"current"),C){r.push(C);const M=S1.Ci(g.targetId,C);s.push(M)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(f=(0,ve.Z)(function*(g,C){const M=tt(g);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(C,k=>se.forEach(k.Si,N=>M.persistence.referenceDelegate.addReference(S,k.targetId,N)).next(()=>se.forEach(k.Di,N=>M.persistence.referenceDelegate.removeReference(S,k.targetId,N)))))}catch(S){if(!rh(S))throw S;Ne("LocalStore","Failed to update sequence numbers: "+S)}for(const S of C){const k=S.targetId;if(!S.fromCache){const N=M.qi.get(k),W=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);M.qi=M.qi.insert(k,W)}}}),function(g,C){return f.apply(this,arguments)})(i.localStore,s))}),MA.apply(this,arguments)}function xz(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,t){const e=tt(n);if(!e.currentUser.isEqual(t)){Ne("SyncEngine","User change. New user:",t.toKey());const i=yield jL(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(f=>{f.reject(new Ie(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Md(e,i.ji)}var r}),EA.apply(this,arguments)}function Sz(n,t){const e=tt(n),i=e.cc.get(t);if(i&&i.nc)return rn().add(i.key);{let r=rn();const s=e.rc.get(t);if(!s)return r;for(const u of s){const f=e.ic.get(u);r=r.unionWith(f.view.ju)}return r}}function Oz(n,t){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n,t){const e=tt(n),i=yield zT(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&CA(e,t.targetId,r.Xu),r}),TA.apply(this,arguments)}function Iz(n,t){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n,t){const e=tt(n);return $L(e.localStore,t).then(i=>Md(e,i))}),DA.apply(this,arguments)}function Az(n,t,e,i){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n,t,e,i){const r=tt(n),s=yield function(u,f){const g=tt(u),C=tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Tn(M,f).next(S=>S?g.localDocuments.getDocuments(M,S):se.resolve(null)))}(r.localStore,t);var f;null!==s?("pending"===e?yield fb(r.remoteStore):"acknowledged"===e||"rejected"===e?(vA(r,t,i||null),yA(r,t),f=t,tt(tt(r.localStore).mutationQueue).An(f)):ut(),yield Md(r,s)):Ne("SyncEngine","Cannot apply mutation batch with id: "+t)}),xA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,t){const e=tt(n);if(PA(e),kA(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield pB(e,i.toArray());e.dc=!0,yield eA(e.remoteStore,!0);for(const s of r)WT(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(_b(e,u),ub(e.localStore,u,!0))),oC(e.remoteStore,u)}),yield r,yield pB(e,i),function(s){const u=tt(s);u.cc.forEach((f,g)=>{oC(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Yi(Je.comparator)}(e),e.dc=!1,yield eA(e.remoteStore,!1)}}),SA.apply(this,arguments)}function pB(n,t,e){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n,t,e){const i=tt(n),r=[],s=[];for(const u of t){let f;const g=i.rc.get(u);if(g&&0!==g.length){f=yield cb(i.localStore,os(g[0]));for(const C of g){const M=i.ic.get(C),S=yield Oz(i,M);S.snapshot&&s.push(S.snapshot)}}else{const C=yield zL(i.localStore,u);f=yield cb(i.localStore,C),yield uA(i,mB(C),u,!1,f.resumeToken)}r.push(f)}return i.sc.Wo(s),r}),OA.apply(this,arguments)}function mB(n){return v2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kz(n){const t=tt(n);return tt(tt(t.localStore).persistence).vi()}function Rz(n,t,e,i){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n,t,e,i){const r=tt(n);if(r.dc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield $L(r.localStore,M2(s[0])),f=z0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ar.EMPTY_BYTE_STRING);yield Md(r,u,f);break}case"rejected":yield ub(r.localStore,t,!0),_b(r,t,i);break;default:ut()}}),IA.apply(this,arguments)}function Fz(n,t,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n,t,e){const i=PA(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Ne("SyncEngine","Adding an already active target "+r);continue}const s=yield zL(i.localStore,r),u=yield cb(i.localStore,s);yield uA(i,mB(s),u.targetId,!1,u.resumeToken),WT(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield ub(i.localStore,r,!1).then(()=>{oC(i.remoteStore,r),_b(i,r)}).catch(ih))}}),AA.apply(this,arguments)}function PA(n){const t=tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=dB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wz.bind(null,t),t.sc.Wo=fz.bind(null,t.eventManager),t.sc.wc=hz.bind(null,t.eventManager),t}function kA(n){const t=tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Mz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,t),t}class gB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.yt=iC(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return UL(this.persistence,new VL,t.initialUser,this.yt)}yc(t){return new LL(HT.Bs,this.yt)}gc(t){return new YL}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class _B extends gB{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield kA(i.Ac.syncEngine),yield fb(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return UL(this.persistence,new VL,t.initialUser,this.yt)}Tc(t,e){return new Tq(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new c5(e,this.persistence);return new l5(t.asyncQueue,i)}yc(t){const e=x1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new D1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,QL(),ZT(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new YL}}class Lz extends _B{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof N1&&(i.sharedClientState.syncEngine={Fr:Az.bind(null,r),$r:Rz.bind(null,r),Br:Fz.bind(null,r),vi:kz.bind(null,r),Mr:Iz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,ve.Z)(function*(u){yield function Pz(n,t){return SA.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(t){const e=QL();if(!N1.C(e))throw new Ie(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=x1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new N1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class RA{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xz.bind(null,i.syncEngine),yield eA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new dz}createDatastore(t){const e=iC(t.databaseInfo.databaseId),i=new Wq(t.databaseInfo);return new Qq(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=f=>fB(this.syncEngine,f,0),u=KL.C()?new KL:new $q,new ez(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,f,g,C){const M=new bz(i,r,s,u,f,g);return C&&(M.dc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=tt(e);Ne("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield db(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function FA(n,t,e){if(!e)throw new Ie(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bB(n,t,e,i){if(!0===t&&!0===i)throw new Ie(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function yB(n){if(!Je.isDocumentKey(n))throw new Ie(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vB(n){if(Je.isDocumentKey(n))throw new Ie(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function pn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=KT(n);throw new Ie(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function CB(n,t){if(t<=0)throw new Ie(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const wB=new Map;class MB{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MB(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new YH;switch(e.type){case"gapi":return new XH(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ie(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=wB.get(t);e&&(Ne("ComponentProvider","Removing Datastore"),wB.delete(t),e.terminate())}(this),Promise.resolve()}}class hi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hi(this.firestore,t,this._key)}}class mo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new mo(this.firestore,t,this._query)}}class eu extends mo{constructor(t,e,i){super(t,e,X_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hi(this.firestore,null,new Je(t))}withConverter(t){return new eu(this.firestore,t,this._path)}}function TB(n,t,...e){if(n=(0,Qt.m9)(n),FA("collection","path",t),n instanceof sC){const i=En.fromString(t,...e);return vB(i),new eu(n,null,i)}{if(!(n instanceof hi||n instanceof eu))throw new Ie(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return vB(i),new eu(n.firestore,null,i)}}function QT(n,t,...e){if(n=(0,Qt.m9)(n),1===arguments.length&&(t=qN.R()),FA("doc","path",t),n instanceof sC){const i=En.fromString(t,...e);return yB(i),new hi(n,null,new Je(i))}{if(!(n instanceof hi||n instanceof eu))throw new Ie(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(En.fromString(t,...e));return yB(i),new hi(n.firestore,n instanceof eu?n.converter:null,new Je(i))}}function DB(n,t){return n=(0,Qt.m9)(n),t=(0,Qt.m9)(t),(n instanceof hi||n instanceof eu)&&(t instanceof hi||t instanceof eu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function NA(n,t){return n=(0,Qt.m9)(n),t=(0,Qt.m9)(t),n instanceof mo&&t instanceof mo&&n.firestore===t.firestore&&V0(n._query,t._query)&&n.converter===t.converter}function xB(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Vz{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new Ir,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new pz(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,ve.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Hz{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(s,u){const f=tt(s),g=Z0(f.yt)+"/documents",C={documents:u.map(N=>G0(f.yt,N))},M=yield f._o("BatchGetDocuments",g,C,u.length),S=new Map;M.forEach(N=>{const V=function j5(n,t){return"found"in t?function(e,i){gt(!!i.found);const r=Jc(e,i.found.name),s=or(i.found.updateTime),u=i.found.createTime?or(i.found.createTime):Et.min(),f=new po({mapValue:{fields:i.found.fields}});return fi.newFoundDocument(r,s,u,f)}(n,t):"missing"in t?function(e,i){gt(!!i.missing),gt(!!i.readTime);const r=Jc(e,i.missing),s=or(i.readTime);return fi.newNoDocument(r,s)}(n,t):ut()}(f.yt,N);S.set(V.key.toString(),V)});const k=[];return u.forEach(N=>{const V=S.get(N.toString());gt(!!V),k.push(V)}),k}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ib(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Je.fromPath(r);t.mutations.push(new l1(s,t.precondition(s)))}),yield(i=(0,ve.Z)(function*(r,s){const u=tt(r),f=Z0(u.yt)+"/documents",g={writes:s.map(C=>W0(u.yt,C))};yield u.ao("Commit",f,g)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ie(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?vi.exists(!1):vi.updateTime(e):vi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new Ie(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(e)}return vi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class qz{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new L1(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,ve.Z)(function*(){const e=new Hz(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!P0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!B2(e)}return!1}}class zz{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=zr.UNAUTHENTICATED,this.clientId=qN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ne("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function SB(n,t){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){i.isEqual(s)||(yield jL(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),LA.apply(this,arguments)}function OB(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield VA(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>rB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>rB(t.remoteStore,s)),n.onlineComponents=t}),BA.apply(this,arguments)}function VA(n){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield SB(n,new gB)),n.offlineComponents}),UA.apply(this,arguments)}function XT(n){return jA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield OB(n,new RA)),n.onlineComponents}),jA.apply(this,arguments)}function IB(n){return VA(n).then(t=>t.persistence)}function eD(n){return VA(n).then(t=>t.localStore)}function HA(n){return XT(n).then(t=>t.remoteStore)}function qA(n){return XT(n).then(t=>t.syncEngine)}function bb(n){return zA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n){const t=yield XT(n),e=t.eventManager;return e.onListen=yz.bind(null,t.syncEngine),e.onUnlisten=vz.bind(null,t.syncEngine),e}),zA.apply(this,arguments)}function PB(n,t,e={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,u,f,g){const C=new JT({next:S=>{s.enqueueAndForget(()=>oA(r,M));const k=S.docs.has(u);!k&&S.fromCache?g.reject(new Ie(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&f&&"server"===f.source?g.reject(new Ie(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),M=new lA(X_(u.path),C,{includeMetadataChanges:!0,Nu:!0});return iA(r,M)}(yield bb(n),n.asyncQueue,t,e,i)})),i.promise}function kB(n,t,e={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,u,f,g){const C=new JT({next:S=>{s.enqueueAndForget(()=>oA(r,M)),S.fromCache&&"server"===f.source?g.reject(new Ie(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),M=new lA(u,C,{includeMetadataChanges:!0,Nu:!0});return iA(r,M)}(yield bb(n),n.asyncQueue,t,e,i)})),i.promise}class Jz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new L1(this,"async_queue_retry"),this.Wc=()=>{const e=ZT();e&&Ne("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=ZT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=ZT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new Ir;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!rh(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=nA.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&ut()}verifyOperationInProgress(){}Xc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function $A(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Xz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends sC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Jz,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RB(this),this._firestoreClient.terminate()}}function sr(n){return n._firestoreClient||RB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RB(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new u5(n._databaseId,s,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var s,f;n._firestoreClient=new zz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function FB(n,t,e){const i=new Ir;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield SB(n,e),yield OB(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===ue.FAILED_PRECONDITION||u.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;cm("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function NB(n){if(n._initialized||n._terminated)throw new Ie(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tu(Ar.fromBase64String(t))}catch(e){throw new Ie(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new tu(Ar.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ed{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xm{constructor(t){this._methodName=t}}class tD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}const u4=/^__.*__$/;class d4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Cd(t,this.data,this.fieldMask,e,this.fieldTransforms):new nb(t,this.data,e,this.fieldTransforms)}}class LB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Cd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function BB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class nD{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new nD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return oD(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(BB(this.sa)&&u4.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class f4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||iC(t)}da(t,e,i,r=!1){return new nD({sa:t,methodName:e,fa:i,path:Zi.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Sm(n){const t=n._freezeSettings(),e=iC(n._databaseId);return new f4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function iD(n,t,e,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,t,e,r);YA("Data must be an object, but it was:",u,i);const f=jB(i,u);let g,C;if(s.merge)g=new Hs(u.fieldMask),C=u.fieldTransforms;else if(s.mergeFields){const M=[];for(const S of s.mergeFields){const k=KA(t,S,e);if(!u.contains(k))throw new Ie(ue.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);qB(M,k)||M.push(k)}g=new Hs(M),C=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,C=u.fieldTransforms;return new d4(new po(f),g,C)}class aC extends xm{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof aC}}function VB(n,t,e){return new nD({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class GA extends xm{_toFieldTransform(t){return new U0(t.path,new eb)}isEqual(t){return t instanceof GA}}class h4 extends xm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=VB(this,t,!0),i=this._a.map(s=>Om(s,e)),r=new bm(i);return new U0(t.path,r)}isEqual(t){return this===t}}class p4 extends xm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=VB(this,t,!0),i=this._a.map(s=>Om(s,e)),r=new ym(i);return new U0(t.path,r)}isEqual(t){return this===t}}class m4 extends xm{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new tb(t.yt,x2(t.yt,this.wa));return new U0(t.path,e)}isEqual(t){return this===t}}function ZA(n,t,e,i){const r=n.da(1,t,e);YA("Data must be an object, but it was:",r,i);const s=[],u=po.empty();fm(i,(g,C)=>{const M=rD(t,g,e);C=(0,Qt.m9)(C);const S=r.ca(M);if(C instanceof aC)s.push(M);else{const k=Om(C,S);null!=k&&(s.push(M),u.set(M,k))}});const f=new Hs(s);return new LB(u,f,r.fieldTransforms)}function WA(n,t,e,i,r,s){const u=n.da(1,t,e),f=[KA(t,i,e)],g=[r];if(s.length%2!=0)throw new Ie(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)f.push(KA(t,s[k])),g.push(s[k+1]);const C=[],M=po.empty();for(let k=f.length-1;k>=0;--k)if(!qB(C,f[k])){const N=f[k];let V=g[k];V=(0,Qt.m9)(V);const W=u.ca(N);if(V instanceof aC)C.push(N);else{const ee=Om(V,W);null!=ee&&(C.push(N),M.set(N,ee))}}const S=new Hs(C);return new LB(M,S,u.fieldTransforms)}function UB(n,t,e,i=!1){return Om(e,n.da(i?4:3,t))}function Om(n,t){if(HB(n=(0,Qt.m9)(n)))return YA("Unsupported field value:",t,n),jB(n,t);if(n instanceof xm)return function(e,i){if(!BB(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let f=Om(u,i.aa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return x2(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=yi.fromDate(e);return{timestampValue:rb(i.yt,r)}}if(e instanceof yi){const r=new yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rb(i.yt,r)}}if(e instanceof tD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tu)return{bytesValue:W2(i.yt,e._byteString)};if(e instanceof hi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:c1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${KT(e)}`)}(n,t)}function jB(n,t){const e={};return QN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fm(n,(i,r)=>{const s=Om(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function HB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yi||n instanceof tD||n instanceof tu||n instanceof hi||n instanceof xm)}function YA(n,t,e){if(!HB(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=KT(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function KA(n,t,e){if((t=(0,Qt.m9)(t))instanceof Ed)return t._internalPath;if("string"==typeof t)return rD(n,t);throw oD("Field path arguments must be of type string or ",n,!1,void 0,e)}const g4=new RegExp("[~\\*/\\[\\]]");function rD(n,t,e){if(t.search(g4)>=0)throw oD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ed(...t.split("."))._internalPath}catch(i){throw oD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function oD(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Ie(ue.INVALID_ARGUMENT,f+n+g)}function qB(n,t){return n.some(e=>e.isEqual(t))}class lC{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class _4 extends lC{data(){return super.data()}}function sD(n,t){return"string"==typeof t?rD(n,t):t instanceof Ed?t._internalPath:t._delegate._internalPath}function zB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QA{}class cC extends QA{}function gh(n,t,...e){let i=[];t instanceof QA&&i.push(t),i=i.concat(e),function(r){const s=r.filter(f=>f instanceof yb).length,u=r.filter(f=>f instanceof uC).length;if(s>1||s>0&&u>0)throw new Ie(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class uC extends cC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new uC(t,e,i)}_apply(t){const e=this._parse(t);return WB(t._query,e),new mo(t.firestore,t.converter,o1(t._query,e))}_parse(t){const e=Sm(t.firestore);return function(r,s,u,f,g,C,M){let S;if(g.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ie(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){ZB(M,C);const k=[];for(const N of M)k.push(GB(f,r,N));S={arrayValue:{values:k}}}else S=GB(f,r,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||ZB(M,C),S=UB(u,"where",M,"in"===C||"not-in"===C);return hn.create(g,C,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class yb extends QA{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new yb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Gn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const f of u)WB(s,f),s=o1(s,f)}(t._query,e),new mo(t.firestore,t.converter,o1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JA extends cC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new JA(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Q_(r,s);return function(f,g){if(null===n1(f)){const C=DT(f);null!==C&&YB(0,C,g.field)}}(i,u),u}(t._query,this._field,this._direction);return new mo(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new vd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class aD extends cC{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new aD(t,e,i)}_apply(t){return new mo(t.firestore,t.converter,xT(t._query,this._limit,this._limitType))}}class lD extends cC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new lD(t,e,i)}_apply(t){const e=$B(t,this.type,this._docOrFields,this._inclusive);return new mo(t.firestore,t.converter,(r=e,new vd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class cD extends cC{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new cD(t,e,i)}_apply(t){const e=$B(t,this.type,this._docOrFields,this._inclusive);return new mo(t.firestore,t.converter,(r=e,new vd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $B(n,t,e,i){if(e[0]=(0,Qt.m9)(e[0]),e[0]instanceof lC)return function(r,s,u,f,g){if(!f)throw new Ie(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const M of _m(r))if(M.field.isKeyField())C.push(mm(s,f.key));else{const S=f.data.field(M.field);if(YI(S))throw new Ie(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const k=M.field.canonicalString();throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}C.push(S)}return new ch(C,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Sm(n.firestore);return function(s,u,f,g,C,M){const S=s.explicitOrderBy;if(C.length>S.length)throw new Ie(ue.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let N=0;N<C.length;N++){const V=C[N];if(S[N].field.isKeyField()){if("string"!=typeof V)throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof V}`);if(!r1(s)&&-1!==V.indexOf("/"))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${V}' contains a slash.`);const W=s.path.child(En.fromString(V));if(!Je.isDocumentKey(W))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const ee=new Je(W);k.push(mm(u,ee))}else{const W=UB(f,g,V);k.push(W)}}return new ch(k,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function GB(n,t,e){if("string"==typeof(e=(0,Qt.m9)(e))){if(""===e)throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r1(t)&&-1!==e.indexOf("/"))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(En.fromString(e));if(!Je.isDocumentKey(i))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mm(n,new Je(i))}if(e instanceof hi)return mm(n,e._key);throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KT(e)}.`)}function ZB(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WB(n,t){if(t.isInequality()){const i=DT(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=n1(n);null!==s&&YB(0,r,s)}const e=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ie(ue.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function YB(n,t,e){if(!e.isEqual(t))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class XA{convertValue(t,e="none"){switch(pm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return fm(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new tD(Wi(t.latitude),Wi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=XN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(R0(t));default:return null}}convertTimestamp(t){const e=sh(t);return new yi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=En.fromString(t);gt(rL(i));const r=new oh(i.get(1),i.get(3)),s=new Je(i.popFirst(5));return r.isEqual(e)||rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function uD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class D4 extends XA{constructor(t){super(),this.firestore=t}convertBytes(t){return new tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hi(this.firestore,null,e)}}class Im{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Td extends lC{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(sD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class dC extends Td{data(t={}){return super.data(t)}}class _h{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Im(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new dC(this._firestore,this._userDataWriter,i.key,i,new Im(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new dC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new dC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Im(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,C=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),C=s.indexOf(u.doc.key)),{type:x4(u.type),doc:f,oldIndex:g,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function x4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function QB(n,t){return n instanceof Td&&t instanceof Td?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof _h&&t instanceof _h&&n._firestore===t._firestore&&NA(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class bh extends XA{constructor(t){super(),this.firestore=t}convertBytes(t){return new tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hi(this.firestore,null,e)}}function JB(n,t,e){n=pn(n,hi);const i=pn(n.firestore,pi),r=uD(n.converter,t,e);return vb(i,[iD(Sm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,vi.none())])}function XB(n,t,e,...i){n=pn(n,hi);const r=pn(n.firestore,pi),s=Sm(r);let u;return u="string"==typeof(t=(0,Qt.m9)(t))||t instanceof Ed?WA(s,"updateDoc",n._key,t,e,i):ZA(s,"updateDoc",n._key,t),vb(r,[u.toMutation(n._key,vi.exists(!0))])}function eV(n,...t){var e,i,r;n=(0,Qt.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||$A(t[u])||(s=t[u],u++);const f={includeMetadataChanges:s.includeMetadataChanges};if($A(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,C,M;if(n instanceof hi)C=pn(n.firestore,pi),M=X_(n._key.path),g={next:S=>{t[u]&&t[u](eP(C,n,S))},error:t[u+1],complete:t[u+2]};else{const S=pn(n,mo);C=pn(S.firestore,pi),M=S._query;const k=new bh(C);g={next:N=>{t[u]&&t[u](new _h(C,k,S,N))},error:t[u+1],complete:t[u+2]},zB(n._query)}return function(S,k,N,V){const W=new JT(V),ee=new lA(k,W,N);return S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return iA(yield bb(S),ee)})),()=>{W.bc(),S.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return oA(yield bb(S),ee)}))}}(sr(C),M,f,g)}function vb(n,t){return function(e,i){const r=new Ir;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Cz(n,t,e){return hA.apply(this,arguments)}(yield qA(e),i,r)})),r.promise}(sr(n),t)}function eP(n,t,e){const i=e.docs.get(t._key),r=new bh(n);return new Td(n,r,t._key,i,new Im(e.hasPendingWrites,e.fromCache),t.converter)}const L4={maxAttempts:5};class tV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Sm(t)}set(t,e,i){this._verifyNotCommitted();const r=yh(t,this._firestore),s=uD(r.converter,e,i),u=iD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,vi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=yh(t,this._firestore);let u;return u="string"==typeof(e=(0,Qt.m9)(e))||e instanceof Ed?WA(this._dataReader,"WriteBatch.update",s._key,e,i,r):ZA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=yh(t,this._firestore);return this._mutations=this._mutations.concat(new ib(e._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yh(n,t){if((n=(0,Qt.m9)(n)).firestore!==t)throw new Ie(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class B4 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Sm(t)}get(t){const e=yh(t,this._firestore),i=new D4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const s=r[0];if(s.isFoundDocument())return new lC(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new lC(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=yh(t,this._firestore),s=uD(r.converter,e,i),u=iD(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=yh(t,this._firestore);let u;return u="string"==typeof(e=(0,Qt.m9)(e))||e instanceof Ed?WA(this._dataReader,"Transaction.update",s._key,e,i,r):ZA(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=yh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=yh(t,this._firestore),i=new bh(this._firestore);return super.get(t).then(r=>new Td(this._firestore,i,e._key,r._document,new Im(!1,!1),e.converter))}}function tP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function iV(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function rV(){if(!function d5(){return"undefined"!=typeof atob}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Z_=Gl.SDK_VERSION,(0,Gl._registerComponent)(new H_.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new pi(new QH(e.getProvider("auth-internal")),new e5(e.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(f.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Gl.registerVersion)(UN,"3.8.1",n),(0,Gl.registerVersion)(UN,"3.8.1","esm2017")}();class fC{constructor(t){this._delegate=t}static fromBase64String(t){return rV(),new fC(tu.fromBase64String(t))}static fromUint8Array(t){return iV(),new fC(tu.fromUint8Array(t))}toBase64(){return rV(),this._delegate.toBase64()}toUint8Array(){return iV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nP(n){return function Z4(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class W4{enableIndexedDbPersistence(t,e){return function t4(n,t){NB(n=pn(n,pi));const e=sr(n),i=n._freezeSettings(),r=new RA;return FB(e,r,new _B(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function n4(n){NB(n=pn(n,pi));const t=sr(n),e=n._freezeSettings(),i=new RA;return FB(t,i,new Lz(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function r4(n){if(n._initialized&&!n._terminated)throw new Ie(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!Zl.C())return Promise.resolve();const r=i+"main";yield Zl.delete(r)}),function(i){return e.apply(this,arguments)})(x1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class oV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof oh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function EB(n,t,e,i={}){var r;const s=(n=pn(n,sC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&cm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=zr.MOCK_USER;else{u=(0,Qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ie(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zr(g)}n._authCredentials=new KH(new jN(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function s4(n){return function $z(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield IB(n),e=yield HA(n);return t.setNetworkEnabled(!0),function(i){const r=tt(i);return r._u.delete(0),rC(r)}(e)}))}(sr(n=pn(n,pi)))}(this._delegate)}disableNetwork(){return function a4(n){return function Gz(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield IB(n),e=yield HA(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const s=tt(r);s._u.add(0),yield db(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(sr(n=pn(n,pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,bB("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function o4(n){return function(t){const e=new Ir;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Tz(n,t){return bA.apply(this,arguments)}(yield qA(t),e)})),e.promise}(sr(n=pn(n,pi)))}(this._delegate)}onSnapshotsInSync(t){return function N4(n,t){return function Yz(n,t){const e=new JT(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield bb(n),r=e,tt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield bb(n),r=e,void tt(i).Ru.delete(r);var i,r}))}}(sr(n=pn(n,pi)),$A(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Cb(this,TB(this._delegate,t))}catch(e){throw as(e,"collection()","Firestore.collection()")}}doc(t){try{return new nl(this,QT(this._delegate,t))}catch(e){throw as(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ls(this,function Bz(n,t){if(n=pn(n,sC),FA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mo(n,null,(e=t,new vd(En.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw as(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function V4(n,t,e){n=pn(n,pi);const i=Object.assign(Object.assign({},L4),e);return function(r){if(r.maxAttempts<1)throw new Ie(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const f=new Ir;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const g=yield function AB(n){return XT(n).then(t=>t.datastore)}(r);new qz(r.asyncQueue,g,u,s,f).run()})),f.promise}(sr(n),r=>t(new B4(n,r)),i)}(this._delegate,e=>t(new sV(this,e)))}batch(){return sr(this._delegate),new aV(new tV(this._delegate,t=>vb(this._delegate,t)))}loadBundle(t){return function l4(n,t){const e=sr(n=pn(n,pi)),i=new Xz;return function Kz(n,t,e,i){const r=function(s,u){let f;return f="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,C){if(g instanceof Uint8Array)return xB(g,C);if(g instanceof ArrayBuffer)return xB(new Uint8Array(g),C);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Vz(g,u);var g}(e,iC(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Nz(n,t,e){const i=tt(n);var r;(r=(0,ve.Z)(function*(s,u,f){try{const g=yield u.getMetadata();if(yield function(k,N){const V=tt(k),W=or(N.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",ee=>V.Ns.getBundleMetadata(ee,N.id)).then(ee=>!!ee&&ee.createTime.compareTo(W)>=0)}(s.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=g).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(aB(g));const C=new mz(g,s.localStore,u.yt);let M=yield u.mc();for(;M;){const k=yield C.Fu(M);k&&f._updateProgress(k),M=yield u.mc()}const S=yield C.complete();return yield Md(s,S.Lu,void 0),yield function(k,N){const V=tt(k);return V.persistence.runTransaction("Save bundle","readwrite",W=>V.Ns.saveBundleMetadata(W,N))}(s.localStore,g),f._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return cm("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var k}),function(s,u,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function c4(n,t){return function Qz(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=tt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield eD(n),t)}))}(sr(n=pn(n,pi)),t).then(e=>e?new mo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ls(this,e):null)}}class dD extends XA{constructor(t){super(),this.firestore=t}convertBytes(t){return new fC(new tu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return nl.forKey(e,this.firestore,null)}}class sV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new dD(t)}get(t){const e=Pm(t);return this._delegate.get(e).then(i=>new hC(this._firestore,new Td(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Pm(t);return i?(tP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Pm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Pm(t);return this._delegate.delete(e),this}}class aV{constructor(t){this._delegate=t}set(t,e,i){const r=Pm(t);return i?(tP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Pm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Pm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Am{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new dC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Am.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Am(t,new dD(t),e),r.set(e,s)),s}}Am.INSTANCES=new WeakMap;class nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new nl(e,new hi(e._delegate,i,new Je(t)))}static forKey(t,e,i){return new nl(e,new hi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Cb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Cb(this.firestore,TB(this._delegate,t))}catch(e){throw as(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Qt.m9)(t))instanceof hi&&DB(this._delegate,t)}set(t,e){e=tP("DocumentReference.set",e);try{return e?JB(this._delegate,t,e):JB(this._delegate,t)}catch(i){throw as(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?XB(this._delegate,t):XB(this._delegate,t,e,...i)}catch(r){throw as(r,"updateDoc()","DocumentReference.update()")}}delete(){return function R4(n){return vb(pn(n.firestore,pi),[new ib(n._key,vi.none())])}(this._delegate)}onSnapshot(...t){const e=lV(t),i=cV(t,r=>new hC(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function O4(n){n=pn(n,hi);const t=pn(n.firestore,pi),e=sr(t),i=new bh(t);return function Zz(n,t){const e=new Ir;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,u){try{const f=yield function(g,C){const M=tt(g);return M.persistence.runTransaction("read document","readonly",S=>M.localDocuments.getDocument(S,C))}(r,s);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ie(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=pb(f,`Failed to get document '${s} from cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield eD(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Td(t,i,n._key,r,new Im(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function I4(n){n=pn(n,hi);const t=pn(n.firestore,pi);return PB(sr(t),n._key,{source:"server"}).then(e=>eP(t,n,e))}(this._delegate):function S4(n){n=pn(n,hi);const t=pn(n.firestore,pi);return PB(sr(t),n._key).then(e=>eP(t,n,e))}(this._delegate),e.then(i=>new hC(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new nl(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}function as(n,t,e){return n.message=n.message.replace(t,e),n}function lV(n){for(const t of n)if("object"==typeof t&&!nP(t))return t;return{}}function cV(n,t){var e,i;let r;return r=nP(n[0])?n[0]:nP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class hC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return QB(this._delegate,t._delegate)}}class pC extends hC{data(t){const e=this._delegate.data(t);return function WH(n,t){n||ut()}(void 0!==e),e}}class ls{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dD(t)}where(t,e,i){try{return new ls(this.firestore,gh(this._delegate,function b4(n,t,e){const i=t,r=sD("where",n);return uC._create(r,i,e)}(t,e,i)))}catch(r){throw as(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ls(this.firestore,gh(this._delegate,function y4(n,t="asc"){const e=t,i=sD("orderBy",n);return JA._create(i,e)}(t,e)))}catch(i){throw as(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ls(this.firestore,gh(this._delegate,function v4(n){return CB("limit",n),aD._create("limit",n,"F")}(t)))}catch(e){throw as(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ls(this.firestore,gh(this._delegate,function C4(n){return CB("limitToLast",n),aD._create("limitToLast",n,"L")}(t)))}catch(e){throw as(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ls(this.firestore,gh(this._delegate,function w4(...n){return lD._create("startAt",n,!0)}(...t)))}catch(e){throw as(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ls(this.firestore,gh(this._delegate,function M4(...n){return lD._create("startAfter",n,!1)}(...t)))}catch(e){throw as(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ls(this.firestore,gh(this._delegate,function E4(...n){return cD._create("endBefore",n,!1)}(...t)))}catch(e){throw as(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ls(this.firestore,gh(this._delegate,function T4(...n){return cD._create("endAt",n,!0)}(...t)))}catch(e){throw as(e,"endAt()","Query.endAt()")}}isEqual(t){return NA(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function P4(n){n=pn(n,mo);const t=pn(n.firestore,pi),e=sr(t),i=new bh(t);return function Wz(n,t){const e=new Ir;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,u){try{const f=yield zT(r,s,!0),g=new uB(s,f.Hi),C=g.Wu(f.documents),M=g.applyChanges(C,!1);u.resolve(M.snapshot)}catch(f){const g=pb(f,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield eD(n),t,e);var i})),e.promise}(e,n._query).then(r=>new _h(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function k4(n){n=pn(n,mo);const t=pn(n.firestore,pi),e=sr(t),i=new bh(t);return kB(e,n._query,{source:"server"}).then(r=>new _h(t,i,n,r))}(this._delegate):function A4(n){n=pn(n,mo);const t=pn(n.firestore,pi),e=sr(t),i=new bh(t);return zB(n._query),kB(e,n._query).then(r=>new _h(t,i,n,r))}(this._delegate),e.then(i=>new iP(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=lV(t),i=cV(t,r=>new iP(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eV(this._delegate,e,i)}withConverter(t){return new ls(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}class K4{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new pC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new pC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new K4(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new pC(this._firestore,i))})}isEqual(t){return QB(this._delegate,t._delegate)}}class Cb extends ls{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new nl(this.firestore,t):null}doc(t){try{return new nl(this.firestore,void 0===t?QT(this._delegate):QT(this._delegate,t))}catch(e){throw as(e,"doc()","CollectionReference.doc()")}}add(t){return function F4(n,t){const e=pn(n.firestore,pi),i=QT(n),r=uD(n.converter,t);return vb(e,[iD(Sm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,vi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new nl(this.firestore,e))}isEqual(t){return DB(this._delegate,t._delegate)}withConverter(t){return new Cb(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}function Pm(n){return pn(n,hi)}class rP{constructor(...t){this._delegate=new Ed(...t)}static documentId(){return new rP(Zi.keyField().canonicalString())}isEqual(t){return(t=(0,Qt.m9)(t))instanceof Ed&&this._delegate._internalPath.isEqual(t._internalPath)}}class km{constructor(t){this._delegate=t}static serverTimestamp(){const t=function j4(){return new GA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new km(t)}static delete(){const t=function U4(){return new aC("deleteField")}();return t._methodName="FieldValue.delete",new km(t)}static arrayUnion(...t){const e=function H4(...n){return new h4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new km(e)}static arrayRemove(...t){const e=function q4(...n){return new p4("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new km(e)}static increment(t){const e=function z4(n){return new m4("increment",n)}(t);return e._methodName="FieldValue.increment",new km(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Q4={Firestore:oV,GeoPoint:tD,Timestamp:yi,Blob:fC,Transaction:sV,WriteBatch:aV,DocumentReference:nl,DocumentSnapshot:hC,Query:ls,QueryDocumentSnapshot:pC,QuerySnapshot:iP,CollectionReference:Cb,FieldPath:rP,FieldValue:km,setLogLevel:function Y4(n){!function ZH(n){nh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function X4(n){(function J4(n,t){n.INTERNAL.registerComponent(new H_.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Q4)))})(n,(t,e)=>new oV(t,e,new W4)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(EF.Z);var fD=R(5363),e$=R(6063);class t$ extends ht.x{constructor(t=1/0,e=1/0,i=e$.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let f=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)f=g;f&&i.splice(0,f+1)}}}var uV=R(3099);function dV(n,t,e){var i,r;let s,u=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,u=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,uV.B)({connector:()=>new t$(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function fV(n,t){return(0,fr.m)(t)?wn(()=>n,t):wn(()=>n)}var oP=R(9468);R(259);const aP=new Map,pV={activated:!1,tokenObservers:[]},s$={initialized:!1,enabled:!1};function go(n){return aP.get(n)||Object.assign({},pV)}function pD(){return s$}class f${constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new Qt.BH,yield function h$(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const cs=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gV(n){if(!go(n).activated)throw cs.create("use-before-activation",{appName:n.name})}function uP(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,s)}catch(S){throw cs.create("fetch-network-error",{originalErrorMessage:null==S?void 0:S.message})}if(200!==u.status)throw cs.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(S){throw cs.create("fetch-parse-error",{originalErrorMessage:null==S?void 0:S.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const C=1e3*Number(g[1]),M=Date.now();return{token:f.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}}),dP.apply(this,arguments)}function _$(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const mC="firebase-app-check-store";let _D=null;function bV(){return _D||(_D=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(cs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(mC,{keyPath:"compositeKey"})}}catch(e){t(cs.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),_D)}function fP(){return fP=(0,ve.Z)(function*(n,t){const i=(yield bV()).transaction(mC,"readwrite"),s=i.objectStore(mC).put({compositeKey:n,value:t});return new Promise((u,f)=>{s.onsuccess=g=>{u()},i.onerror=g=>{var C;f(cs.create("storage-set",{originalErrorMessage:null===(C=g.target.error)||void 0===C?void 0:C.message}))}})}),fP.apply(this,arguments)}const gC=new Xf.Yd("@firebase/app-check");function mP(n,t){return(0,Qt.hl)()?function C$(n,t){return function yV(n,t){return fP.apply(this,arguments)}(function CV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{gC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function wV(){return pD().enabled}function MV(){return _P.apply(this,arguments)}function _P(){return _P=(0,ve.Z)(function*(){const n=pD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),_P.apply(this,arguments)}const x$={error:"UNKNOWN_ERROR"};function S$(n){return Qt.US.encodeString(JSON.stringify(n),!1)}function bD(n){return bP.apply(this,arguments)}function bP(){return bP=(0,ve.Z)(function*(n,t=!1){const e=n.app;gV(e);const i=go(e);let s,r=i.token;if(r&&!wb(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(wb(g)?r=g:yield mP(e,void 0))}if(!t&&r&&wb(r))return{token:r.token};let f,u=!1;if(wV()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uP(_$(e,yield MV()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield mP(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield go(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?gC.warn(g.message):gC.error(g),s=g}return r?s?f=wb(r)?{token:r.token,internalError:s}:DV(s):(f={token:r.token},i.token=r,yield mP(e,r)):f=DV(s),u&&TV(e,f),f}),bP.apply(this,arguments)}function vP(n,t){const e=go(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function EV(n){const{app:t}=n,e=go(t);let i=e.tokenRefresher;i||(i=function O$(n){const{app:t}=n;return new f$((0,ve.Z)(function*(){let i;if(i=go(t).token?yield bD(n,!0):yield bD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=go(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function TV(n,t){const e=go(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function wb(n){return n.expireTimeMillis-Date.now()>0}function DV(n){return{token:S$(x$),error:n}}class I${constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=go(this.app);for(const e of t)vP(this.app,e.next);return Promise.resolve()}}const RV="app-check-internal";!function z$(){(0,Gl._registerComponent)(new H_.wA("app-check",n=>function A$(n,t){return new I$(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(RV).initialize()})),(0,Gl._registerComponent)(new H_.wA(RV,n=>function P$(n){return{getToken:t=>bD(n,t),addTokenListener:t=>function yP(n,t,e,i){const{app:r}=n,s=go(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&wb(s.token)){const f=s.token;Promise.resolve().then(()=>{e({token:f.token}),EV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>EV(n))}(n,"INTERNAL",t),removeTokenListener:t=>vP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gl.registerVersion)("@firebase/app-check","0.6.1")}();class vD{constructor(){return(0,$i.vb)("app-check")}}"undefined"!=typeof window&&window;var Y$=R(9260);const NV=new o.OlP("angularfire2.auth.use-emulator"),LV=new o.OlP("angularfire2.auth.settings"),BV=new o.OlP("angularfire2.auth.tenant-id"),VV=new o.OlP("angularfire2.auth.langugage-code"),UV=new o.OlP("angularfire2.auth.use-device-language"),jV=new o.OlP("angularfire.auth.persistence"),HV=(n,t,e,i,r,s,u,f)=>(0,is.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),u)for(const[C,M]of Object.entries(u))g.settings[C]=M;return f&&g.setPersistence(f),g},[e,i,r,s,u,f]);let qV=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S,k,N){const V=new ht.x,W=He(void 0).pipe((0,fD.Q)(u.outsideAngular),wn(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,3843)))),(0,et.U)(()=>(0,is.on)(e,s,i)),(0,et.U)(ee=>HV(ee,s,f,C,M,S,g,k)),dV({bufferSize:1,refCount:!1}));if(sl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=He(null);else{W.pipe(Ho()).subscribe();const Re=W.pipe(wn(Ve=>Ve.getRedirectResult().then(mt=>mt,()=>null)),$i.iC,dV({bufferSize:1,refCount:!1})),Ke=W.pipe(wn(Ve=>new vn.y(mt=>({unsubscribe:s.runOutsideAngular(()=>Ve.onAuthStateChanged(yt=>mt.next(yt),yt=>mt.error(yt),()=>mt.complete()))})))),Le=W.pipe(wn(Ve=>new vn.y(mt=>({unsubscribe:s.runOutsideAngular(()=>Ve.onIdTokenChanged(yt=>mt.next(yt),yt=>mt.error(yt),()=>mt.complete()))}))));this.authState=Re.pipe(fV(Ke),(0,oP.R)(u.outsideAngular),(0,fD.Q)(u.insideAngular)),this.user=Re.pipe(fV(Le),(0,oP.R)(u.outsideAngular),(0,fD.Q)(u.insideAngular)),this.idToken=this.user.pipe(wn(Ve=>Ve?(0,Ft.D)(Ve.getIdToken()):He(null))),this.idTokenResult=this.user.pipe(wn(Ve=>Ve?(0,Ft.D)(Ve.getIdTokenResult()):He(null))),this.credential=(0,Vs.T)(Re,V,this.authState.pipe(At(Ve=>!Ve))).pipe((0,et.U)(Ve=>(null==Ve?void 0:Ve.user)?Ve:null),(0,oP.R)(u.outsideAngular),(0,fD.Q)(u.insideAngular))}return(0,is.pX)(this,W,s,{spy:{apply:(ee,Re,Ke)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&Ke.then(Le=>V.next(Le))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(is.Dh),o.LFG(is.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i.HU),o.LFG(NV,8),o.LFG(LV,8),o.LFG(BV,8),o.LFG(VV,8),o.LFG(UV,8),o.LFG(jV,8),o.LFG(vD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zV(n,t){return function Q$(n,t=Ns.z){return new vn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function TP(n,t){return zV(n,t).pipe((0,et.U)(e=>({payload:e,type:"query"})))}function CD(n,t){return TP(n,t).pipe(Jn(void 0),nI(),(0,et.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=r.find(M=>M.doc.ref.isEqual(u.ref)),C=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),s}))}function $V(n,t,e){return CD(n,e).pipe(jo((i,r)=>function X$(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function eG(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return DP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return DP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return DP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Og(),(0,et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function DP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function GV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=CD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,et.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Jn(void 0),nI(),At(([i,r])=>r.length>0||!i),(0,et.U)(([i,r])=>r),$i.iC)}auditTrail(t){return this.stateChanges(t).pipe(jo((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GV(t);return $V(this.query,e,this.afs.schedulers.outsideAngular).pipe($i.iC)}valueChanges(t={}){return TP(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),$i.iC)}get(t){return(0,Ft.D)(this.query.get(t)).pipe($i.iC)}add(t){return this.ref.add(t)}doc(t){return new WV(this.ref.doc(t),this.afs)}}class WV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=YV(i,e);return new ZV(r,s,this.afs)}snapshotChanges(){return function J$(n,t){return zV(n,t).pipe(Jn(void 0),nI(),(0,et.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($i.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,et.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ft.D)(this.ref.get(t)).pipe($i.iC)}}class tG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?CD(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),At(e=>e.length>0),$i.iC):CD(this.query,this.afs.schedulers.outsideAngular).pipe($i.iC)}auditTrail(t){return this.stateChanges(t).pipe(jo((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GV(t);return $V(this.query,e,this.afs.schedulers.outsideAngular).pipe($i.iC)}valueChanges(t={}){return TP(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),$i.iC)}get(t){return(0,Ft.D)(this.query.get(t)).pipe($i.iC)}}const nG=new o.OlP("angularfire2.enableFirestorePersistence"),iG=new o.OlP("angularfire2.firestore.persistenceSettings"),rG=new o.OlP("angularfire2.firestore.settings"),oG=new o.OlP("angularfire2.firestore.use-emulator");function YV(n,t=(e=>e)){return{query:t(n),ref:n}}let sG=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S,k,N,V,W,ee,Re,Ke){this.schedulers=g;const Le=(0,is.on)(e,f,i),Ve=M;S&&HV(Le,f,k,V,W,ee,N,Re),[this.firestore,this.persistenceEnabled$]=(0,is.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const mt=f.runOutsideAngular(()=>Le.firestore());if(s&&mt.settings(s),Ve&&mt.useEmulator(...Ve),r&&!sl(u)){const yt=()=>{try{return(0,Ft.D)(mt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(an){return"undefined"!=typeof console&&console.warn(an),He(!1)}};return[mt,f.runOutsideAngular(yt)]}return[mt,He(!1)]},[s,Ve,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=YV(r,i),f=this.schedulers.ngZone.run(()=>s);return new ZV(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new tG(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new WV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(is.Dh),o.LFG(is.xv,8),o.LFG(nG,8),o.LFG(rG,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i.HU),o.LFG(iG,8),o.LFG(oG,8),o.LFG(qV,8),o.LFG(NV,8),o.LFG(LV,8),o.LFG(BV,8),o.LFG(VV,8),o.LFG(UV,8),o.LFG(jV,8),o.LFG(vD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const KV="firebasestorage.googleapis.com",QV="storageBucket";class Pi extends Qt.ZR{constructor(t,e,i=0){super(xP(t),`Firebase Storage: ${e} (${xP(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xP(n){return"storage/"+n}function SP(){return new Pi("unknown","An unknown error occurred, please check the error payload for server response.")}function JV(){return new Pi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function XV(){return new Pi("canceled","User canceled the upload/download.")}function eU(){return new Pi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mb(n){return new Pi("invalid-argument",n)}function tU(){return new Pi("app-deleted","The Firebase app was deleted.")}function nU(n){return new Pi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _C(n,t){return new Pi("invalid-format","String does not match format '"+n+"': "+t)}function bC(n){throw new Pi("internal-error","Internal error: "+n)}class Ao{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ao.makeFromUrl(t,e)}catch(r){return new Ao(t,"")}if(""===i.path)return i;throw function gG(n){return new Pi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(Ve){Ve.path_=decodeURIComponent(Ve.path)}const S=e.replace(/[.]/g,"\\."),Le=[{regex:f,indices:{bucket:1,path:3},postModify:function s(Ve){"/"===Ve.path.charAt(Ve.path.length-1)&&(Ve.path_=Ve.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${e===KV?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let Ve=0;Ve<Le.length;Ve++){const mt=Le[Ve],yt=mt.regex.exec(t);if(yt){let ar=yt[mt.indices.path];ar||(ar=""),i=new Ao(yt[mt.indices.bucket],ar),mt.postModify(i);break}}if(null==i)throw function mG(n){return new Pi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class CG{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function wD(n){return"string"==typeof n||n instanceof String}function iU(n){return OP()&&n instanceof Blob}function OP(){return"undefined"!=typeof Blob&&!(0,Qt.UG)()}function IP(n,t,e,i){if(i<t)throw Mb(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Mb(`Invalid value for '${n}'. Expected ${e} or less.`)}function Dd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function rU(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var vh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(vh||(vh={})),vh))();function oU(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class xG{constructor(t,e,i,r,s,u,f,g,C,M,S,k=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=C,this.progressCallback_=M,this.connectionFactory_=S,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function EG(n){return void 0!==n}(g)?s():s(g)}catch(g){u(g)}else if(null!==f){const g=SP();g.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(r.canceled?this.appDelete_?tU():XV():JV())};this.canceled_?e(0,new MD(!1,null,!0)):this.backoffId_=function wG(n,t,e){let i=1,r=null,s=null,u=!1,f=0;function g(){return 2===f}let C=!1;function M(...ee){C||(C=!0,t.apply(null,ee))}function S(ee){r=setTimeout(()=>{r=null,n(N,g())},ee)}function k(){s&&clearTimeout(s)}function N(ee,...Re){if(C)return void k();if(ee)return k(),void M.call(null,ee,...Re);if(g()||u)return k(),void M.call(null,ee,...Re);let Le;i<64&&(i*=2),1===f?(f=2,Le=0):Le=1e3*(i+Math.random()),S(Le)}let V=!1;function W(ee){V||(V=!0,k(),!C&&(null!==r?(ee||(f=2),clearTimeout(r),S(0)):ee||(f=1)))}return S(0),s=setTimeout(()=>{u=!0,W(!0)},e),W}((i,r)=>{if(r)return void i(!1,new MD(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const f=s.getErrorCode()===vh.NO_ERROR,g=s.getStatus();if(!f||oU(g,this.additionalRetryCodes_)&&this.retry){const M=s.getErrorCode()===vh.ABORT;return void i(!1,new MD(!1,null,M))}const C=-1!==this.successCodes_.indexOf(g);i(!0,new MD(C,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function MG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class MD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function RG(...n){const t=function kG(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(OP())return new Blob(n);throw new Pi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AP{constructor(t,e){this.data=t,this.contentType=e||null}}function PP(n,t){switch(n){case wa.RAW:return new AP(sU(t));case wa.BASE64:case wa.BASE64URL:return new AP(aU(n,t));case wa.DATA_URL:return new AP(function BG(n){const t=new lU(n);return t.base64?aU(wa.BASE64,t.rest):function LG(n){let t;try{t=decodeURIComponent(n)}catch(e){throw _C(wa.DATA_URL,"Malformed data URL.")}return sU(t)}(t.rest)}(t),function VG(n){return new lU(n).contentType}(t))}throw SP()}function sU(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function aU(n,t){switch(n){case wa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw _C(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case wa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw _C(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function NG(n){if("undefined"==typeof atob)throw function vG(n){return new Pi("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:_C(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class lU{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw _C(wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function UG(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class nu{constructor(t,e){let i=0,r="";iU(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(iU(this.data_)){const r=function FG(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new nu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new nu(i,!0)}}static getBlob(...t){if(OP()){const e=t.map(i=>i instanceof nu?i.data_:i);return new nu(RG.apply(null,e))}{const e=t.map(u=>wD(u)?PP(wa.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(u=>{for(let f=0;f<u.length;f++)r[s++]=u[f]}),new nu(r,!0)}}uploadData(){return this.data_}}function kP(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function DG(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function cU(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function qG(n,t){return t}class us{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||qG}}let ED=null;function yC(){if(ED)return ED;const n=[];n.push(new us("bucket")),n.push(new us("generation")),n.push(new us("metageneration")),n.push(new us("name","fullPath",!0));const e=new us("name");e.xform=function t(s,u){return function zG(n){return!wD(n)||n.length<2?n:cU(n)}(u)},n.push(e);const r=new us("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new us("timeCreated")),n.push(new us("updated")),n.push(new us("md5Hash",null,!0)),n.push(new us("cacheControl",null,!0)),n.push(new us("contentDisposition",null,!0)),n.push(new us("contentEncoding",null,!0)),n.push(new us("contentLanguage",null,!0)),n.push(new us("contentType",null,!0)),n.push(new us("metadata","customMetadata",!0)),ED=n,ED}function uU(n,t,e){const i=kP(t);return null===i?null:function GG(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const u=e[s];i[u.local]=u.xform(i,t[u.server])}return function $G(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Ao(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function RP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const dU="prefixes";class iu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ru(n){if(!n)throw SP()}function TD(n,t){return function e(i,r){const s=uU(n,r,t);return ru(null!==s),s}}function Eb(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function hG(){return new Pi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function fG(){return new Pi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function dG(n){return new Pi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function pG(n){return new Pi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function vC(n){const t=Eb(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function uG(n){return new Pi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function hU(n,t,e){const r=Dd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new iu(r,"GET",TD(n,e),u);return f.errorHandler=vC(t),f}function JG(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const f=Dd(t.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,M=new iu(f,"GET",function KG(n,t){return function e(i,r){const s=function YG(n,t,e){const i=kP(e);return null===i?null:function WG(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[dU])for(const r of e[dU]){const s=r.replace(/\/$/,""),u=n._makeStorageReference(new Ao(t,s));i.prefixes.push(u)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Ao(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return ru(null!==s),s}}(n,t.bucket),C);return M.urlParams=s,M.errorHandler=Eb(t),M}function mU(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function n8(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class DD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function FP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){ru(!1)}return ru(!!e&&-1!==(t||["active"]).indexOf(e)),e}const s8={STATE_CHANGED:"state_changed"},ds={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NP(n){switch(n){case"running":case"pausing":case"canceling":return ds.RUNNING;case"paused":return ds.PAUSED;case"success":return ds.SUCCESS;case"canceled":return ds.CANCELED;default:return ds.ERROR}}class a8{constructor(t,e,i){if(function TG(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Tb(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class c8 extends class l8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw bC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw bC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Wl(){return new c8}class yU{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=yC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(oU(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=JV()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function i8(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u=mU(t,i,r),f={name:u.fullPath},g=Dd(s,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=RP(u,e),V=new iu(g,"POST",function N(W){let ee;FP(W);try{ee=W.getResponseHeader("X-Goog-Upload-URL")}catch(Re){ru(!1)}return ru(wD(ee)),ee},n.maxUploadRetryTime);return V.urlParams=f,V.headers=M,V.body=S,V.errorHandler=Eb(t),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function r8(n,t,e,i){const g=new iu(e,"POST",function s(C){const M=FP(C,["active","final"]);let S=null;try{S=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(N){ru(!1)}S||ru(!1);const k=Number(S);return ru(!isNaN(k)),new DD(k,i.size(),"final"===M)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=Eb(t),g}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Wl,e,i);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new DD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let u;try{u=function o8(n,t,e,i,r,s,u,f){const g=new DD(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw function bG(){return new Pi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const C=g.total-g.current;let M=C;r>0&&(M=Math.min(M,r));const S=g.current;let N="";N=0===M?"finalize":C===M?"upload, finalize":"upload";const V={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${g.current}`},W=i.slice(S,S+M);if(null===W)throw eU();const Le=new iu(e,"POST",function ee(Ve,mt){const yt=FP(Ve,["active","final"]),an=g.current+M,ar=i.size();let Ea;return Ea="final"===yt?TD(t,s)(Ve,mt):null,new DD(an,ar,"final"===yt,Ea)},t.maxUploadRetryTime);return Le.headers=V,Le.body=W.uploadData(),Le.progressCallback=f||null,Le.errorHandler=Eb(n),Le}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Wl,r,s,!1);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=hU(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function gU(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function f(){let Le="";for(let Ve=0;Ve<2;Ve++)Le+=Math.random().toString().slice(2);return Le}();u["Content-Type"]="multipart/related; boundary="+g;const C=mU(t,i,r),M=RP(C,e),N=nu.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+g+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===N)throw eU();const V={name:C.fullPath},W=Dd(s,n.host,n._protocol),Re=n.maxUploadRetryTime,Ke=new iu(W,"POST",TD(n,e),Re);return Ke.urlParams=V,Ke.headers=u,Ke.body=N.uploadData(),Ke.errorHandler=Eb(t),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Wl,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=XV(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=NP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new a8(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(NP(this._state)){case ds.SUCCESS:Tb(this._resolve.bind(null,this.snapshot))();break;case ds.CANCELED:case ds.ERROR:Tb(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(NP(this._state)){case ds.RUNNING:case ds.PAUSED:t.next&&Tb(t.next.bind(t,this.snapshot))();break;case ds.SUCCESS:t.complete&&Tb(t.complete.bind(t))();break;default:t.error&&Tb(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Rm{constructor(t,e){this._service=t,this._location=e instanceof Ao?e:Ao.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Rm(t,e)}get root(){const t=new Ao(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cU(this._location.path)}get storage(){return this._service}get parent(){const t=function jG(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ao(this._location.bucket,t);return new Rm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw nU(t)}}function CU(n,t,e){return LP.apply(this,arguments)}function LP(){return LP=(0,ve.Z)(function*(n,t,e){const r=yield wU(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield CU(n,t,r.nextPageToken))}),LP.apply(this,arguments)}function wU(n,t){null!=t&&"number"==typeof t.maxResults&&IP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=JG(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Wl)}function C8(n){n._throwIfRoot("getDownloadURL");const t=function XG(n,t,e){const r=Dd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new iu(r,"GET",function QG(n,t){return function e(i,r){const s=uU(n,r,t);return ru(null!==s),function ZG(n,t,e,i){const r=kP(t);if(null===r||!wD(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(C=>{const S=n.fullPath;return Dd("/b/"+u(n.bucket)+"/o/"+u(S),e,i)+rU({alt:"media",token:C})})[0]}(s,r,n.host,n._protocol)}}(n,e),u);return f.errorHandler=vC(t),f}(n.storage,n._location,yC());return n.storage.makeRequestWithTokens(t,Wl).then(e=>{if(null===e)throw function yG(){return new Pi("no-download-url","The given file does not have any download URLs.")}();return e})}function MU(n,t){const e=function HG(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ao(n._location.bucket,e);return new Rm(n.storage,i)}function EU(n,t){if(n instanceof BP){const e=n;if(null==e._bucket)throw function _G(){return new Pi("no-default-bucket","No default bucket found. Did you set the '"+QV+"' property when initializing the app?")}();const i=new Rm(e,e._bucket);return null!=t?EU(i,t):i}return void 0!==t?MU(n,t):n}function T8(n,t){if(t&&function M8(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof BP)return function E8(n,t){return new Rm(n,t)}(n,t);throw Mb("To use ref(service, url), the first argument must be a Storage instance.")}return EU(n,t)}function TU(n,t){const e=null==t?void 0:t[QV];return null==e?null:Ao.makeFromBucketSpec(e,n)}class BP{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=KV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ao.makeFromBucketSpec(r,this._host):TU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ao.makeFromBucketSpec(this._url,t):TU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rm(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new CG(tU());{const u=function PG(n,t,e,i,r,s,u=!0){const f=rU(n.urlParams),g=n.url+f,C=Object.assign({},n.headers);return function IG(n,t){t&&(n["X-Firebase-GMPID"]=t)}(C,t),function SG(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(C,e),function OG(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(C,s),function AG(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(C,i),new xG(g,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var i=this;return(0,ve.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const DU="@firebase/storage";function OU(n,t){return T8(n=(0,Qt.m9)(n),t)}function F8(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new BP(e,i,r,t,Gl.SDK_VERSION)}!function N8(){(0,Gl._registerComponent)(new H_.wA("storage",F8,"PUBLIC").setMultipleInstances(!0)),(0,Gl.registerVersion)(DU,"0.10.1",""),(0,Gl.registerVersion)(DU,"0.10.1","esm2017")}();class xD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class AU{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new xD(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?u=>e(new xD(u,this,this._ref)):{next:e.next?u=>e.next(new xD(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class PU{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new xd(t,this._service))}get items(){return this._delegate.items.map(t=>new xd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function R8(n,t){return MU(n,t)}(this._delegate,t);return new xd(e,this.storage)}get root(){return new xd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new xd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new AU(function x8(n,t,e){return function g8(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new yU(n,new nu(t),e)}(n=(0,Qt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=wa.RAW,i){this._throwIfRoot("putString");const r=PP(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new AU(new yU(this._delegate,new nu(r.data,!0),s),this)}listAll(){return function A8(n){return function b8(n){const t={prefixes:[],items:[]};return CU(n,t).then(()=>t)}(n=(0,Qt.m9)(n))}(this._delegate).then(t=>new PU(t,this.storage))}list(t){return function I8(n,t){return wU(n=(0,Qt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new PU(e,this.storage))}getMetadata(){return function S8(n){return function y8(n){n._throwIfRoot("getMetadata");const t=hU(n.storage,n._location,yC());return n.storage.makeRequestWithTokens(t,Wl)}(n=(0,Qt.m9)(n))}(this._delegate)}updateMetadata(t){return function O8(n,t){return function v8(n,t){n._throwIfRoot("updateMetadata");const e=function e8(n,t,e,i){const s=Dd(t.fullServerUrl(),n.host,n._protocol),f=RP(e,i),C=n.maxOperationRetryTime,M=new iu(s,"PATCH",TD(n,i),C);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=f,M.errorHandler=vC(t),M}(n.storage,n._location,t,yC());return n.storage.makeRequestWithTokens(e,Wl)}(n=(0,Qt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function P8(n){return C8(n=(0,Qt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function k8(n){return function w8(n){n._throwIfRoot("deleteObject");const t=function t8(n,t){const i=Dd(t.fullServerUrl(),n.host,n._protocol),f=new iu(i,"DELETE",function u(g,C){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=vC(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Wl)}(n=(0,Qt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw nU(t)}}class kU{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(RU(t))throw Mb("ref() expected a child path but got a URL, use refFromURL instead.");return new xd(OU(this._delegate,t),this)}refFromURL(t){if(!RU(t))throw Mb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ao.makeFromUrl(t,this._delegate.host)}catch(e){throw Mb("refFromUrl() expected a valid full URL but got an invalid one.")}return new xd(OU(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function IU(n,t,e,i={}){!function D8(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Qt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function RU(n){return/^[A-Za-z]+:\/\//.test(n)}function U8(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new kU(e,i)}function FU(n){const t=function H8(n){return new vn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const s=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){s()}}).pipe(Fc(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,et.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function SD(n){return{getDownloadURL:()=>He(void 0).pipe($i.fc,wn(()=>n.getDownloadURL()),$i.iC),getMetadata:()=>He(void 0).pipe($i.fc,wn(()=>n.getMetadata()),$i.iC),delete:()=>(0,Ft.D)(n.delete()),child:t=>SD(n.child(t)),updateMetadata:t=>(0,Ft.D)(n.updateMetadata(t)),put:(t,e)=>FU(n.put(t,e)),putString:(t,e,i)=>FU(n.putString(t,e,i)),list:t=>(0,Ft.D)(n.list(t)),listAll:()=>(0,Ft.D)(n.listAll())}}!function j8(n){const t={TaskState:ds,TaskEvent:s8,StringFormat:wa,Storage:kU,Reference:xd};n.INTERNAL.registerComponent(new H_.wA("storage-compat",U8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.1")}(EF.Z);const q8=new o.OlP("angularfire2.storageBucket"),z8=new o.OlP("angularfire2.storage.maxUploadRetryTime"),$8=new o.OlP("angularfire2.storage.maxOperationRetryTime"),G8=new o.OlP("angularfire2.storage.use-emulator");let VP=(()=>{class n{constructor(e,i,r,s,u,f,g,C,M,S){const k=(0,is.on)(e,u,i);this.storage=(0,is.cc)(`${k.name}.storage.${r}`,"AngularFireStorage",k.name,()=>{const N=u.runOutsideAngular(()=>k.storage(r||void 0)),V=M;return V&&N.useEmulator(...V),g&&N.setMaxUploadRetryTime(g),C&&N.setMaxOperationRetryTime(C),N},[g,C])}ref(e){return SD(this.storage.ref(e))}refFromURL(e){return SD(this.storage.refFromURL(e))}upload(e,i,r){return SD(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(is.Dh),o.LFG(is.xv,8),o.LFG(q8,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG($i.HU),o.LFG(z8,8),o.LFG($8,8),o.LFG(G8,8),o.LFG(vD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),W8=(()=>{class n{constructor(){Y$.Z.registerVersion("angularfire",$i.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[VP],imports:[Z8]}),n})(),fs=(()=>{class n{constructor(e,i){this.db=e,this.storage=i,this.basePath="/qandas"}loadQandAs(){return this.db.collection("qandas2").get().pipe((0,et.U)(e=>rm(e)))}deleteQandA(e,i,r){const s=this.storage.ref(this.basePath);return s.child(i).delete(),s.child(r).delete(),(0,Ft.D)(this.db.doc(`qandas2/${e}`).delete())}updateQandA(e,i){return(0,Ft.D)(this.db.doc(`qandas2/${e}`).update(i))}createQandA(e){let i;return i=(0,Ft.D)(this.db.collection("qandas2").add(e)),i.pipe((0,et.U)(r=>Object.assign({id:r.id},e)))}loadTopics(){return this.db.collection("topics").get().pipe((0,et.U)(e=>rm(e)))}loadTopicsForSubject(e){return this.db.collection("topics",i=>i.where("subject_name","==",e).orderBy("topic_code")).get().pipe((0,et.U)(i=>rm(i)))}deleteTopic(e){return(0,Ft.D)(this.db.doc(`topics/${e}`).delete())}updateTopic(e,i){return(0,Ft.D)(this.db.doc(`topics/${e}`).update(i))}createTopic(e){let i;return i=(0,Ft.D)(this.db.collection("topics").add(e)),i.pipe((0,et.U)(r=>Object.assign({id:r.id},e)))}loadSubjects(){return this.db.collection("subjects",e=>e.orderBy("subject_code")).get().pipe((0,et.U)(e=>rm(e)))}loadSubjectsForExam(e){return this.db.collection("subjects",i=>i.where("exam_name","==",e)).get().pipe((0,et.U)(i=>rm(i)))}deleteSubject(e){return(0,Ft.D)(this.db.doc(`subjects/${e}`).delete())}updateSubject(e,i){return(0,Ft.D)(this.db.doc(`subjects/${e}`).update(i))}createSubject(e){let i;return i=(0,Ft.D)(this.db.collection("subjects").add(e)),i.pipe((0,et.U)(r=>Object.assign({id:r.id},e)))}loadUnivs(){return this.db.collection("univs").get().pipe((0,et.U)(e=>rm(e)))}deleteUniv(e){return(0,Ft.D)(this.db.doc(`univs/${e}`).delete())}updateUniv(e,i){return(0,Ft.D)(this.db.doc(`univs/${e}`).update(i))}createUniv(e){let i;return i=(0,Ft.D)(this.db.collection("univs").add(e)),i.pipe((0,et.U)(r=>Object.assign({id:r.id},e)))}loadExams(){return this.db.collection("exams").get().pipe((0,et.U)(e=>rm(e)))}deleteExam(e){return(0,Ft.D)(this.db.doc(`exams/${e}`).delete())}updateExam(e,i){return(0,Ft.D)(this.db.doc(`exams/${e}`).update(i))}createExam(e){let i;return i=(0,Ft.D)(this.db.collection("exams").add(e)),i.pipe((0,et.U)(r=>Object.assign({id:r.id},e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sG),o.LFG(VP))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NU=ed({passive:!0});let Y8=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Uo.E;const i=Eo(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ht.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,NU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,NU)}}),s}stopMonitoring(e){const i=Eo(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hi),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const K8=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),Q8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J8=0;const X8=pM(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let hs=(()=>{class n extends X8{constructor(e,i,r,s,u,f,g,C,M,S){super(f,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=C,this._formField=S,this._uid="mat-input-"+J8++,this.focused=!1,this.stateChanges=new ht.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>ZC().has(V)),this._iOSKeyupListener=V=>{const W=V.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,N=k.nodeName.toLowerCase();this._inputValueAccessor=g||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===N,this._isTextarea="textarea"===N,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Nt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(di.required))&&void 0!==s&&s}set required(e){this._required=Nt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ZC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Nt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Q8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hi),o.Y36(Xa,10),o.Y36(l0,8),o.Y36(ts,8),o.Y36(s_),o.Y36(K8,10),o.Y36(Y8),o.Y36(o.R0b),o.Y36(Yf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:Qp,useExisting:n}]),o.qOj,o.TTD]}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[s_],imports:[[LU,jv,nn],LU,jv]}),n})();function eZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Name is mandatory!"),o.qZA())}function tZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let nZ=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.form=this.fb.group({name:["",di.required]})}ngOnInit(){}save(){this.saveUnivInfo(),this.dialogRef.close()}cancel(){this.dialogRef.close()}saveUnivInfo(){let e={};e.univ_name=this.form.value.name,this.fileService.createUniv(e)}get name(){return this.form.controls.name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-univs"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Name","matInput","","formControlName","name"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Add New University"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o._UZ(4,"input",2),o.YNc(5,eZ,2,0,"mat-error",3),o.qZA(),o.qZA(),o.TgZ(6,"mat-dialog-actions"),o.YNc(7,tZ,2,0,"button",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return i.cancel()}),o._uU(9,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngIf",i.name.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,hs,ir,co,tl,Xt,xo,$l,nr],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function iZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Name is mandatory!"),o.qZA())}function rZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let oZ=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.univ=s,this.form=this.fb.group({univ_name:[s.univ_name,di.required]})}ngOnInit(){}save(){const e=this.form.value;this.fileService.updateUniv(this.univ.id,e).subscribe(()=>{this.dialogRef.close(e)})}cancel(){this.dialogRef.close()}get name(){return this.form.controls.univ_name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-univs"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Name","matInput","","formControlName","univ_name"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Edit University"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o._UZ(4,"input",2),o.YNc(5,iZ,2,0,"mat-error",3),o.qZA(),o.qZA(),o.TgZ(6,"mat-dialog-actions"),o.YNc(7,rZ,2,0,"button",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return i.cancel()}),o._uU(9,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngIf",i.name.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,hs,ir,co,tl,Xt,xo,$l,nr],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();class VU{}class UU{}class Sd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Sd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Sd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===s.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class aZ{encodeKey(t){return jU(t)}encodeValue(t){return jU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cZ=/%(\d[a-f0-9])/gi,uZ={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jU(n){return encodeURIComponent(n).replace(cZ,(t,e)=>{var i;return null!==(i=uZ[e])&&void 0!==i?i:t})}function HU(n){return`${n}`}class Ch{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lZ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,f]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],g=e.get(u)||[];g.push(f),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ch({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(HU(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(HU(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class dZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qU(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zU(n){return"undefined"!=typeof Blob&&n instanceof Blob}function $U(n){return"undefined"!=typeof FormData&&n instanceof FormData}class CC{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function fZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sd),this.context||(this.context=new dZ),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new Ch,this.urlWithParams=e}serializeBody(){return null===this.body?null:qU(this.body)||zU(this.body)||$U(this.body)||function hZ(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ch?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$U(this.body)?null:zU(this.body)?this.body.type||null:qU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ch?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,g=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,M=t.params||this.params;const S=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((k,N)=>k.set(N,t.setHeaders[N]),C)),t.setParams&&(M=Object.keys(t.setParams).reduce((k,N)=>k.set(N,t.setParams[N]),M)),new CC(i,r,u,{params:M,headers:C,context:S,reportProgress:g,responseType:s,withCredentials:f})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class UP{constructor(t,e=200,i="OK"){this.headers=t.headers||new Sd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jP extends UP{constructor(t={}){super(t),this.type=br.ResponseHeader}clone(t={}){return new jP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OD extends UP{constructor(t={}){super(t),this.type=br.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new OD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GU extends UP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function HP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof CC)s=e;else{let g,C;g=r.headers instanceof Sd?r.headers:new Sd(r.headers),r.params&&(C=r.params instanceof Ch?r.params:new Ch({fromObject:r.params})),s=new CC(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=He(s).pipe(Mn(g=>this.handler.handle(g)));if(e instanceof CC||"events"===r.observe)return u;const f=u.pipe(At(g=>g instanceof OD));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,et.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,et.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,et.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,et.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ch).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,HP(r,i))}post(e,i,r={}){return this.request("POST",e,HP(r,i))}put(e,i,r={}){return this.request("PUT",e,HP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ZU{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const WU=new o.OlP("HTTP_INTERCEPTORS");let pZ=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const mZ=/^\)\]\}',?\n/;let YU=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((N,V)=>r.setRequestHeader(N,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&r.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();r.responseType="json"!==N?N:"text"}const s=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const N=1223===r.status?204:r.status,V=r.statusText||"OK",W=new Sd(r.getAllResponseHeaders()),ee=function gZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new jP({headers:W,status:N,statusText:V,url:ee}),u},g=()=>{let{headers:N,status:V,statusText:W,url:ee}=f(),Re=null;204!==V&&(Re=void 0===r.response?r.responseText:r.response),0===V&&(V=Re?200:0);let Ke=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof Re){const Le=Re;Re=Re.replace(mZ,"");try{Re=""!==Re?JSON.parse(Re):null}catch(Ve){Re=Le,Ke&&(Ke=!1,Re={error:Ve,text:Re})}}Ke?(i.next(new OD({body:Re,headers:N,status:V,statusText:W,url:ee||void 0})),i.complete()):i.error(new GU({error:Re,headers:N,status:V,statusText:W,url:ee||void 0}))},C=N=>{const{url:V}=f(),W=new GU({error:N,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(W)};let M=!1;const S=N=>{M||(i.next(f()),M=!0);let V={type:br.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},k=N=>{let V={type:br.UploadProgress,loaded:N.loaded};N.lengthComputable&&(V.total=N.total),i.next(V)};return r.addEventListener("load",g),r.addEventListener("error",C),r.addEventListener("timeout",C),r.addEventListener("abort",C),e.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",k)),r.send(s),i.next({type:br.Sent}),()=>{r.removeEventListener("error",C),r.removeEventListener("abort",C),r.removeEventListener("load",g),r.removeEventListener("timeout",C),e.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",k)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const zP=new o.OlP("XSRF_COOKIE_NAME"),$P=new o.OlP("XSRF_HEADER_NAME");class KU{}let _Z=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=bo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(X),o.LFG(o.Lbi),o.LFG(zP))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),GP=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(KU),o.LFG($P))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),bZ=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(WU,[]);this.chain=i.reduceRight((r,s)=>new ZU(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UU),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),yZ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:GP,useClass:pZ}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:zP,useValue:e.cookieName}:[],e.headerName?{provide:$P,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GP,{provide:WU,useExisting:GP,multi:!0},{provide:KU,useClass:_Z},{provide:zP,useValue:"XSRF-TOKEN"},{provide:$P,useValue:"X-XSRF-TOKEN"}]}),n})(),vZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qP,{provide:VU,useClass:bZ},YU,{provide:UU,useExisting:YU}],imports:[[yZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const CZ=["*"];let ID;function wC(n){var t;return(null===(t=function wZ(){if(void 0===ID&&(ID=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ID=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ID}())||void 0===t?void 0:t.createHTML(n))||n}function QU(n){return Error(`Unable to find icon with the name "${n}"`)}function JU(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let AD=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Fm(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(o.q3G.HTML,r);if(!u)throw XU(r);const f=wC(u);return this._addSvgIconConfig(e,i,new Fm("",f,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Fm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw XU(i);const u=wC(s);return this._addSvgIconSetConfig(e,new Fm("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw JU(e);const r=this._cachedIconsByUrl.get(i);return r?He(PD(r)):this._loadSvgIconFromConfig(new Fm(e,null)).pipe((0,ci.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,et.U)(s=>PD(s)))}getNamedSvgIcon(e,i=""){const r=e3(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):function sZ(n,t){const e=(0,fr.m)(n)?n:()=>n,i=r=>r.error(e());return new vn.y(t?r=>t.schedule(i,0,r):i)}(QU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?He(PD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,et.U)(i=>PD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?He(r):Hv(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Xi(f=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(C)),He(null)})))).pipe((0,et.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw QU(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(u,e,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i),(0,et.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?He(null):this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(wC("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(wC("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:f}=r[s];"id"!==u&&i.setAttribute(u,f)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,u=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function MZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!f)throw JU(r);const g=this._inProgressUrlFetches.get(f);if(g)return g;const C=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,et.U)(M=>wC(M)),ni(()=>this._inProgressUrlFetches.delete(f)),(0,uV.B)());return this._inProgressUrlFetches.set(f,C),C}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(e3(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return TZ(s)?new Fm(s.url,null,s.options):new Fm(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qP,8),o.LFG(bl),o.LFG(X,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PD(n){return n.cloneNode(!0)}function e3(n,t){return n+":"+t}function TZ(n){return!(!n.url||!n.options)}const DZ=If(class{constructor(n){this._elementRef=n}}),xZ=new o.OlP("mat-icon-location",{providedIn:"root",factory:function SZ(){const n=(0,o.f3M)(X),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),t3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],OZ=t3.map(n=>`[${n}]`).join(", "),IZ=/^url\(['"]?#(.*?)['"]?\)$/;let Nm=(()=>{class n extends DZ{constructor(e,i,r,s,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Bi.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Nt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(OZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)t3.forEach(u=>{const f=i[s],g=f.getAttribute(u),C=g?g.match(IZ):null;if(C){let M=r.get(f);M||(M=[],r.set(f,M)),M.push({name:u,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,cn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(AD),o.$8M("aria-hidden"),o.Y36(xZ),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:CZ,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})(),AZ=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Jf),o.Y36(ns))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"mat-icon",2),o.NdJ("click",function(){return i.closeDialog()}),o._uU(3,"close"),o.qZA(),o.TgZ(4,"span",3),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"button",4),o._uU(7,"YES"),o.qZA(),o.TgZ(8,"button",5),o._uU(9,"NO"),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Oqu(i.data.message),o.xp6(1),o.Q6J("mat-dialog-close",!0),o.xp6(2),o.Q6J("mat-dialog-close",!1))},directives:[Nm,nr,zj],styles:[""]}),n})(),MC=(()=>{class n{constructor(e){this.dialog=e}openConfirmDialog(e){return this.dialog.open(AZ,{width:"300px",panelClass:"confirm-dialog-container",disableClose:!0,position:{top:"80px"},data:{message:e}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gd))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PZ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}function kZ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",4)),2&n){const e=o.oxw(),i=o.MAs(1);o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),o.uIk("r",e._getCircleRadius())}}const FZ=If(class{constructor(n){this._elementRef=n}},"primary"),NZ=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function LZ(){return{diameter:100}}});class Ma extends FZ{constructor(t,e,i,r,s,u,f,g){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Bi.w0.EMPTY,this.mode="determinate";const C=Ma._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),C.has(i.head)||C.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&f&&u&&g&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=gr(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=gr(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,gr(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=fy(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Ma._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ma._diameters=new WeakMap,Ma.\u0275fac=function(t){return new(t||Ma)(o.Y36(o.SBq),o.Y36(Hi),o.Y36(X,8),o.Y36(Jo,8),o.Y36(NZ),o.Y36(o.sBO),o.Y36(Hp),o.Y36(o.R0b))},Ma.\u0275cmp=o.Xpm({type:Ma,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(o.O4$(),o.TgZ(0,"svg",0,1),o.YNc(2,PZ,1,11,"circle",2),o.YNc(3,kZ,1,9,"circle",3),o.qZA()),2&t&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(2),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[ai,Mr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let r3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn,Qi],nn]}),n})();function VZ(n,t){1&n&&o._UZ(0,"mat-spinner",16),2&n&&o.Q6J("diameter",30)}function UZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().onSearchClear()}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function jZ(n,t){1&n&&(o.TgZ(0,"th",18),o._uU(1,"Name"),o.qZA())}function HZ(n,t){if(1&n&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.univ_name)}}function qZ(n,t){1&n&&o._UZ(0,"th",20)}function zZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"button",21),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().updateUniv(s)}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA(),o.qZA(),o.TgZ(4,"button",22),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteUniv(s)}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA(),o.qZA(),o.qZA()}}function $Z(n,t){1&n&&o._UZ(0,"tr",23)}const GZ=function(n){return{gray:n}};function ZZ(n,t){1&n&&o._UZ(0,"tr",24),2&n&&o.Q6J("ngClass",o.VKq(1,GZ,t.even))}const WZ=function(){return[5,10,20]};let YZ=(()=>{class n{constructor(e,i,r){this.fileService=e,this.dialog=i,this.dialogService=r,this.univs=[],this.columnsToDisplay=["univ_name","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadUnivs()}reloadUnivs(){this.loading=!0,this.fileService.loadUnivs().pipe(ni(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new Gf(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}addUniv(){const e=new js;e.disableClose=!0,e.autoFocus=!0,e.minWidth="400px",this.dialog.open(nZ,e).afterClosed().subscribe(()=>{this.reloadUnivs(),this.onSearchClear()})}updateUniv(e){const i=new js;i.disableClose=!0,i.autoFocus=!0,i.minWidth="400px",i.data=e,this.dialog.open(oZ,i).afterClosed().subscribe(()=>{this.reloadUnivs(),this.onSearchClear()})}deleteUniv(e){this.dialogService.openConfirmDialog("Are you sure you want to delete?").afterClosed().subscribe(i=>{i&&this.fileService.deleteUniv(e.id).pipe(ni(()=>this.reloadUnivs())).subscribe()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fs),o.Y36(gd),o.Y36(MC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-univs"]],viewQuery:function(e,i){if(1&e&&(o.Gf(ga,5),o.Gf(Wc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:22,vars:9,consts:[[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","univ_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","dark",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"UNIVERSITIES LIST"),o.qZA(),o.YNc(3,VZ,1,1,"mat-spinner",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.addUniv()}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA(),o._uU(8,"Add New "),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"input",5),o.NdJ("ngModelChange",function(s){return i.searchKey=s})("keyup",function(){return i.applyFilter()}),o.qZA(),o.YNc(11,UZ,3,0,"button",6),o.qZA(),o.qZA(),o.TgZ(12,"table",7),o.ynx(13,8),o.YNc(14,jZ,2,0,"th",9),o.YNc(15,HZ,2,1,"td",10),o.BQk(),o.ynx(16,11),o.YNc(17,qZ,1,0,"th",12),o.YNc(18,zZ,7,0,"td",10),o.BQk(),o.YNc(19,$Z,1,0,"tr",13),o.YNc(20,ZZ,1,3,"tr",14),o.qZA(),o._UZ(21,"mat-paginator",15),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngModel",i.searchKey),o.xp6(1),o.Q6J("ngIf",i.searchKey),o.xp6(1),o.Q6J("dataSource",i.dataSource),o.xp6(7),o.Q6J("matHeaderRowDef",i.columnsToDisplay),o.xp6(1),o.Q6J("matRowDefColumns",i.columnsToDisplay),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,WZ))("pageSize",10))},directives:[Xt,Ma,nr,Nm,Hr,hs,ir,co,im,N_,zi,ga,Hf,cd,_a,kf,Us,Hl,qf,$f,zf,ud,si,Wc],styles:[".table[_ngcontent-%COMP%]{margin:auto;padding-top:10px;width:60%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding-left:5px}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})();function KZ(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.univ_name),o.xp6(1),o.Oqu(e.univ_name)}}function QZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"University is mandatory!"),o.qZA())}function JZ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Examination is mandatory!"),o.qZA())}function XZ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let e7=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.form=this.fb.group({univ:["",di.required],exam:["",di.required]})}ngOnInit(){this.univs$=this.fileService.loadUnivs()}save(){this.saveExamInfo(),this.dialogRef.close()}cancel(){this.dialogRef.close()}saveExamInfo(){let e={};e.univ_name=this.form.value.univ,e.exam_name=`${this.form.value.univ} - ${this.form.value.exam}`,this.fileService.createExam(e)}get univ(){return this.form.controls.univ}get exam(){return this.form.controls.exam}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-exams"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Select University*","formControlName","univ"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Examination","matInput","","formControlName","exam"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Add New Examination"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,KZ,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,QZ,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,JZ,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,XZ,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.univs$)),o.xp6(2),o.Q6J("ngIf",i.univ.invalid),o.xp6(3),o.Q6J("ngIf",i.exam.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function t7(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.univ_name),o.xp6(1),o.Oqu(e.univ_name)}}function n7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"University is mandatory!"),o.qZA())}function r7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Examination is mandatory!"),o.qZA())}function o7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let s7=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.exam=s,this.form=this.fb.group({univ_name:[s.univ_name,di.required],exam_name:[s.exam_name,di.required]})}ngOnInit(){this.univs$=this.fileService.loadUnivs()}save(){const e=this.form.value;this.fileService.updateExam(this.exam.id,e).subscribe(()=>{this.dialogRef.close(e)})}cancel(){this.dialogRef.close()}get univ_name(){return this.form.controls.univ_name}get exam_name(){return this.form.controls.exam_name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-exams"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","univ_name"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Examination","matInput","","formControlName","exam_name"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Edit Examination"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,t7,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,n7,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,r7,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,o7,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.univs$)),o.xp6(2),o.Q6J("ngIf",i.univ_name.invalid),o.xp6(3),o.Q6J("ngIf",i.exam_name.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function a7(n,t){1&n&&o._UZ(0,"mat-spinner",17),2&n&&o.Q6J("diameter",30)}function l7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){return o.CHM(e),o.oxw().onSearchClear()}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function c7(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"University"),o.qZA())}function u7(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.univ_name)}}function d7(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Examination"),o.qZA())}function f7(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.exam_name)}}function h7(n,t){1&n&&o._UZ(0,"th",21)}function p7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",20),o.TgZ(1,"button",22),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().updateExam(s)}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA(),o.qZA(),o.TgZ(4,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteExam(s)}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA(),o.qZA(),o.qZA()}}function m7(n,t){1&n&&o._UZ(0,"tr",24)}const g7=function(n){return{gray:n}};function _7(n,t){1&n&&o._UZ(0,"tr",25),2&n&&o.Q6J("ngClass",o.VKq(1,g7,t.even))}const b7=function(){return[5,10,20]};let y7=(()=>{class n{constructor(e,i,r){this.fileService=e,this.dialog=i,this.dialogService=r,this.exams=[],this.columnsToDisplay=["univ_name","exam_name","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadExams()}reloadExams(){this.loading=!0,this.fileService.loadExams().pipe(ni(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new Gf(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}addExam(){const e=new js;e.disableClose=!0,e.autoFocus=!0,e.minWidth="400px",this.dialog.open(e7,e).afterClosed().subscribe(()=>{this.reloadExams(),this.onSearchClear()})}updateExam(e){const i=new js;i.disableClose=!0,i.autoFocus=!0,i.minWidth="400px",i.data=e,this.dialog.open(s7,i).afterClosed().subscribe(()=>{this.reloadExams(),this.onSearchClear()})}deleteExam(e){this.dialogService.openConfirmDialog("Are you sure you want to delete?").afterClosed().subscribe(i=>{i&&this.fileService.deleteExam(e.id).pipe(ni(()=>this.reloadExams())).subscribe()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fs),o.Y36(gd),o.Y36(MC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-exams"]],viewQuery:function(e,i){if(1&e&&(o.Gf(ga,5),o.Gf(Wc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:25,vars:9,consts:[[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","univ_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","exam_name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","dark",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"EXAMINATIONS LIST"),o.qZA(),o.YNc(3,a7,1,1,"mat-spinner",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.addExam()}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA(),o._uU(8,"Add New "),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"input",5),o.NdJ("ngModelChange",function(s){return i.searchKey=s})("keyup",function(){return i.applyFilter()}),o.qZA(),o.YNc(11,l7,3,0,"button",6),o.qZA(),o.qZA(),o.TgZ(12,"table",7),o.ynx(13,8),o.YNc(14,c7,2,0,"th",9),o.YNc(15,u7,2,1,"td",10),o.BQk(),o.ynx(16,11),o.YNc(17,d7,2,0,"th",9),o.YNc(18,f7,2,1,"td",10),o.BQk(),o.ynx(19,12),o.YNc(20,h7,1,0,"th",13),o.YNc(21,p7,7,0,"td",10),o.BQk(),o.YNc(22,m7,1,0,"tr",14),o.YNc(23,_7,1,3,"tr",15),o.qZA(),o._UZ(24,"mat-paginator",16),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngModel",i.searchKey),o.xp6(1),o.Q6J("ngIf",i.searchKey),o.xp6(1),o.Q6J("dataSource",i.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",i.columnsToDisplay),o.xp6(1),o.Q6J("matRowDefColumns",i.columnsToDisplay),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,b7))("pageSize",10))},directives:[Xt,Ma,nr,Nm,Hr,hs,ir,co,im,N_,zi,ga,Hf,cd,_a,kf,Us,Hl,qf,$f,zf,ud,si,Wc],styles:[".table[_ngcontent-%COMP%]{margin:auto;padding-top:10px;width:60%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding-left:5px}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})();function v7(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.exam_name),o.xp6(1),o.Oqu(e.exam_name)}}function C7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Examination is mandatory!"),o.qZA())}function w7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject Name is mandatory!"),o.qZA())}function M7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let E7=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.form=this.fb.group({exam_name:["",di.required],subject_name:["",di.required]})}ngOnInit(){this.exams$=this.fileService.loadExams()}save(){this.saveSubjectInfo(),this.dialogRef.close()}cancel(){this.dialogRef.close()}saveSubjectInfo(){let e={};e=this.form.value,this.fileService.createSubject(e)}get exam_name(){return this.form.controls.exam_name}get subject_name(){return this.form.controls.subject_name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-subjects"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Select Examination*","formControlName","exam_name"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Subject Name","matInput","","formControlName","subject_name"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Add New Subject"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,v7,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,C7,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,w7,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,M7,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.exams$)),o.xp6(2),o.Q6J("ngIf",i.exam_name.invalid),o.xp6(3),o.Q6J("ngIf",i.subject_name.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function T7(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.exam_name),o.xp6(1),o.Oqu(e.exam_name)}}function D7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Examination is mandatory!"),o.qZA())}function x7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject name is mandatory!"),o.qZA())}function S7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let O7=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.subject=s,this.form=this.fb.group({exam_name:[s.exam_name,di.required],subject_name:[s.subject_name,di.required]})}ngOnInit(){this.exams$=this.fileService.loadExams()}save(){const e=this.form.value;this.fileService.updateSubject(this.subject.id,e).subscribe(()=>{this.dialogRef.close(e)})}cancel(){this.dialogRef.close()}get exam_name(){return this.form.controls.exam_name}get subject_name(){return this.form.controls.subject_name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-subjects"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","exam_name"],[4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","subject_name"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Edit Subject"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,T7,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,D7,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,x7,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,S7,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.exams$)),o.xp6(2),o.Q6J("ngIf",i.exam_name.invalid),o.xp6(3),o.Q6J("ngIf",i.subject_name.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function I7(n,t){1&n&&o._UZ(0,"mat-spinner",17),2&n&&o.Q6J("diameter",30)}function A7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){return o.CHM(e),o.oxw().onSearchClear()}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function P7(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Examination"),o.qZA())}function k7(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.exam_name)}}function R7(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Subject"),o.qZA())}function F7(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.subject_name)}}function N7(n,t){1&n&&o._UZ(0,"th",21)}function L7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",20),o.TgZ(1,"button",22),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().updateSubject(s)}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA(),o.qZA(),o.TgZ(4,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteSubject(s)}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA(),o.qZA(),o.qZA()}}function B7(n,t){1&n&&o._UZ(0,"tr",24)}const V7=function(n){return{gray:n}};function U7(n,t){1&n&&o._UZ(0,"tr",25),2&n&&o.Q6J("ngClass",o.VKq(1,V7,t.even))}const j7=function(){return[5,10,20]};let H7=(()=>{class n{constructor(e,i,r){this.fileService=e,this.dialog=i,this.dialogService=r,this.subjects=[],this.columnsToDisplay=["exam_name","subject_name","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadSubjects()}reloadSubjects(){this.loading=!0,this.fileService.loadSubjects().pipe(ni(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new Gf(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}addSubject(){const e=new js;e.disableClose=!0,e.autoFocus=!0,e.minWidth="500px",this.dialog.open(E7,e).afterClosed().subscribe(()=>{this.reloadSubjects(),this.onSearchClear()})}updateSubject(e){const i=new js;i.disableClose=!0,i.autoFocus=!0,i.minWidth="500px",i.data=e,this.dialog.open(O7,i).afterClosed().subscribe(()=>{this.reloadSubjects(),this.onSearchClear()})}deleteSubject(e){this.dialogService.openConfirmDialog("Are you sure you want to delete?").afterClosed().subscribe(i=>{i&&this.fileService.deleteSubject(e.id).pipe(ni(()=>this.reloadSubjects())).subscribe()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fs),o.Y36(gd),o.Y36(MC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-subjects"]],viewQuery:function(e,i){if(1&e&&(o.Gf(ga,5),o.Gf(Wc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:25,vars:9,consts:[[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","exam_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subject_name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","dark",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"SUBJECTS LIST"),o.qZA(),o.YNc(3,I7,1,1,"mat-spinner",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.addSubject()}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA(),o._uU(8,"Add New "),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"input",5),o.NdJ("ngModelChange",function(s){return i.searchKey=s})("keyup",function(){return i.applyFilter()}),o.qZA(),o.YNc(11,A7,3,0,"button",6),o.qZA(),o.qZA(),o.TgZ(12,"table",7),o.ynx(13,8),o.YNc(14,P7,2,0,"th",9),o.YNc(15,k7,2,1,"td",10),o.BQk(),o.ynx(16,11),o.YNc(17,R7,2,0,"th",9),o.YNc(18,F7,2,1,"td",10),o.BQk(),o.ynx(19,12),o.YNc(20,N7,1,0,"th",13),o.YNc(21,L7,7,0,"td",10),o.BQk(),o.YNc(22,B7,1,0,"tr",14),o.YNc(23,U7,1,3,"tr",15),o.qZA(),o._UZ(24,"mat-paginator",16),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngModel",i.searchKey),o.xp6(1),o.Q6J("ngIf",i.searchKey),o.xp6(1),o.Q6J("dataSource",i.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",i.columnsToDisplay),o.xp6(1),o.Q6J("matRowDefColumns",i.columnsToDisplay),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,j7))("pageSize",10))},directives:[Xt,Ma,nr,Nm,Hr,hs,ir,co,im,N_,zi,ga,Hf,cd,_a,kf,Us,Hl,qf,$f,zf,ud,si,Wc],styles:[".table[_ngcontent-%COMP%]{margin:auto;padding-top:10px;width:60%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding-left:5px}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})();function q7(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.subject_name),o.xp6(1),o.Oqu(e.subject_name)}}function z7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject is mandatory!"),o.qZA())}function $7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Topic is mandatory!"),o.qZA())}function G7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let Z7=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.form=this.fb.group({subject:["",di.required],topic:["",di.required]})}ngOnInit(){this.subject$=this.fileService.loadSubjects()}save(){this.saveTopicInfo(),this.dialogRef.close()}cancel(){this.dialogRef.close()}saveTopicInfo(){let e={};e.subject_name=this.form.value.subject,e.topic_name=this.form.value.topic,e.topic_code=`${this.form.value.subject.substr(-5,4)}-${this.form.value.topic.substr(0,4)}`,this.fileService.createTopic(e)}get subject(){return this.form.controls.subject}get topic(){return this.form.controls.topic}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-topics"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Select Subject*","formControlName","subject"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Topic","matInput","","formControlName","topic"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Add New Topic"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,q7,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,z7,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,$7,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,G7,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.subject$)),o.xp6(2),o.Q6J("ngIf",i.subject.invalid),o.xp6(3),o.Q6J("ngIf",i.topic.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function W7(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",8),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.subject_name),o.xp6(1),o.Oqu(e.subject_name)}}function Y7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject is mandatory!"),o.qZA())}function K7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Topic is mandatory!"),o.qZA())}function Q7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let J7=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.currtopic=s,this.form=this.fb.group({subject:[this.currtopic.subject_name,di.required],topic:[this.currtopic.topic_name,di.required]})}ngOnInit(){this.subject$=this.fileService.loadSubjects()}save(){let e={};e.subject_name=this.form.value.subject,e.topic_name=this.form.value.topic,e.topic_code=`${this.form.value.subject.substr(-5,4)}-${this.form.value.topic.substr(0,4)}`,this.fileService.updateTopic(this.currtopic.id,e).subscribe(()=>{this.dialogRef.close(e)})}cancel(){this.dialogRef.close()}get subject(){return this.form.controls.subject}get topic(){return this.form.controls.topic}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-topics"]],decls:15,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","subject"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Topic","matInput","","formControlName","topic"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Edit Topic"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,W7,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,Y7,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",5),o.YNc(10,K7,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(11,"mat-dialog-actions"),o.YNc(12,Q7,2,0,"button",6),o.TgZ(13,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(14,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,5,i.subject$)),o.xp6(2),o.Q6J("ngIf",i.subject.invalid),o.xp6(3),o.Q6J("ngIf",i.topic.invalid),o.xp6(2),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}"]}),n})();function X7(n,t){1&n&&o._UZ(0,"mat-spinner",17),2&n&&o.Q6J("diameter",30)}function eW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){return o.CHM(e),o.oxw().onSearchClear()}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function tW(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Subject"),o.qZA())}function nW(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.subject_name)}}function iW(n,t){1&n&&(o.TgZ(0,"th",19),o._uU(1,"Topic"),o.qZA())}function rW(n,t){if(1&n&&(o.TgZ(0,"td",20),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.topic_name)}}function oW(n,t){1&n&&o._UZ(0,"th",21)}function sW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",20),o.TgZ(1,"button",22),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().updateTopic(s)}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA(),o.qZA(),o.TgZ(4,"button",23),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteTopic(s)}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA(),o.qZA(),o.qZA()}}function aW(n,t){1&n&&o._UZ(0,"tr",24)}const lW=function(n){return{gray:n}};function cW(n,t){1&n&&o._UZ(0,"tr",25),2&n&&o.Q6J("ngClass",o.VKq(1,lW,t.even))}const uW=function(){return[5,10,20]};let dW=(()=>{class n{constructor(e,i,r){this.fileService=e,this.dialog=i,this.dialogService=r,this.topics=[],this.columnsToDisplay=["subject_name","topic_name","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadTopics()}reloadTopics(){this.loading=!0,this.fileService.loadTopics().pipe(ni(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new Gf(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}addTopic(){const e=new js;e.disableClose=!0,e.autoFocus=!0,e.minWidth="500px",this.dialog.open(Z7,e).afterClosed().subscribe(()=>{this.reloadTopics(),this.onSearchClear()})}updateTopic(e){const i=new js;i.disableClose=!0,i.autoFocus=!0,i.minWidth="500px",i.data=e,this.dialog.open(J7,i).afterClosed().subscribe(()=>{this.reloadTopics(),this.onSearchClear()})}deleteTopic(e){this.dialogService.openConfirmDialog("Are you sure you want to delete?").afterClosed().subscribe(i=>{i&&this.fileService.deleteTopic(e.id).pipe(ni(()=>this.reloadTopics())).subscribe()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fs),o.Y36(gd),o.Y36(MC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-topics"]],viewQuery:function(e,i){if(1&e&&(o.Gf(ga,5),o.Gf(Wc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:25,vars:9,consts:[[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","subject_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","topic_name"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","dark",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"LIST OF SUBJECT TOPICS"),o.qZA(),o.YNc(3,X7,1,1,"mat-spinner",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.addTopic()}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA(),o._uU(8,"Add New "),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"input",5),o.NdJ("ngModelChange",function(s){return i.searchKey=s})("keyup",function(){return i.applyFilter()}),o.qZA(),o.YNc(11,eW,3,0,"button",6),o.qZA(),o.qZA(),o.TgZ(12,"table",7),o.ynx(13,8),o.YNc(14,tW,2,0,"th",9),o.YNc(15,nW,2,1,"td",10),o.BQk(),o.ynx(16,11),o.YNc(17,iW,2,0,"th",9),o.YNc(18,rW,2,1,"td",10),o.BQk(),o.ynx(19,12),o.YNc(20,oW,1,0,"th",13),o.YNc(21,sW,7,0,"td",10),o.BQk(),o.YNc(22,aW,1,0,"tr",14),o.YNc(23,cW,1,3,"tr",15),o.qZA(),o._UZ(24,"mat-paginator",16),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngModel",i.searchKey),o.xp6(1),o.Q6J("ngIf",i.searchKey),o.xp6(1),o.Q6J("dataSource",i.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",i.columnsToDisplay),o.xp6(1),o.Q6J("matRowDefColumns",i.columnsToDisplay),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,uW))("pageSize",10))},directives:[Xt,Ma,nr,Nm,Hr,hs,ir,co,im,N_,zi,ga,Hf,cd,_a,kf,Us,Hl,qf,$f,zf,ud,si,Wc],styles:[".table[_ngcontent-%COMP%]{margin:auto;padding-top:10px;width:60%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding-left:5px}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})(),fW=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Nt(e)}get inset(){return this._inset}set inset(e){this._inset=Nt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})(),pW=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}ngOnInit(){}onClose(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-qandas"]],decls:15,vars:2,consts:[["mat-dialog-title","",1,"qt"],["mat-dialog-content","",1,"qa"],["alt","question",3,"src"],["alt","answer",3,"src"],["mat-dialog-actions","",1,"qt"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h3"),o._uU(2,"QUESTION AND MARKING SCHEME"),o.qZA(),o._UZ(3,"hr"),o.qZA(),o.TgZ(4,"div",1),o.TgZ(5,"h3"),o._uU(6,"QUESTION"),o.qZA(),o._UZ(7,"img",2),o._UZ(8,"mat-divider"),o.TgZ(9,"h3"),o._uU(10,"ANSWER"),o.qZA(),o._UZ(11,"img",3),o.qZA(),o.TgZ(12,"div",4),o.TgZ(13,"button",5),o.NdJ("click",function(){return i.onClose()}),o._uU(14,"Close"),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Q6J("src",i.data.q_url,o.LSH),o.xp6(4),o.Q6J("src",i.data.a_url,o.LSH))},directives:[ql,zl,fW,$l,nr],styles:[".qa[_ngcontent-%COMP%]{padding-left:2em;width:70vw;height:100vh;margin:0 auto}.qt[_ngcontent-%COMP%]{padding-left:1.8em}"]}),n})();const mW=["primaryValueBar"],gW=If(class{constructor(n){this._elementRef=n}},"primary"),_W=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function bW(){const n=(0,o.f3M)(X),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),yW=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let vW=0,CW=(()=>{class n extends gW{constructor(e,i,r,s,u,f){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=f,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Bi.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+vW++;const g=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${g}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(e){var i;this._value=o3(gr(e)||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var i;this._bufferValue=o3(e||0),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=zc(e,"transitionend").pipe(At(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Jo,8),o.Y36(_W,8),o.Y36(yW,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(mW,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1),o.TgZ(2,"defs"),o.TgZ(3,"pattern",2),o._UZ(4,"circle",3),o.qZA(),o.qZA(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5),o._UZ(7,"div",6,7),o._UZ(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},directives:[lu],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function o3(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let s3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,nn],nn]}),n})();function wW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",16),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.exam_name),o.xp6(1),o.Oqu(e.exam_name)}}function MW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Exam is mandatory!"),o.qZA())}function EW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",16),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.subject_name),o.xp6(1),o.Oqu(e.subject_name)}}function TW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject is mandatory!"),o.qZA())}function DW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",16),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.topic_code),o.xp6(1),o.Oqu(e.topic_name)}}function xW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Year is mandatory!"),o.qZA())}function SW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Marks is mandatory!"),o.qZA())}function OW(n,t){if(1&n&&(o.TgZ(0,"p",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.questionFile)}}function IW(n,t){if(1&n&&(o.TgZ(0,"p",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.answerFile)}}function AW(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Uploading..."),o.qZA())}function PW(n,t){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"mat-progress-bar",18),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"percent"),o.qZA(),o.qZA()),2&n){const e=t.ngIf;o.xp6(1),o.Q6J("value",e),o.xp6(2),o.hij(" ",o.lcZ(4,2,e/100)," ")}}function kW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let RW=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.storage=s,this.canClose=!1,this.questionUrl="",this.answerUrl="",this.questionFile="",this.answerFile="",this.subjectSubscription=new Bi.w0,this.examSubscription=new Bi.w0,this.form=this.fb.group({exam:["",di.required],subject:["",di.required],topic:[""],year:["",di.required],marks:["",di.required]})}ngOnInit(){this.exam$=this.fileService.loadExams()}onSubChange(){this.subjectSubscription=this.form.get("subject").valueChanges.subscribe(e=>{this.topic$=this.fileService.loadTopicsForSubject(e)})}onExamChange(){this.examSubscription=this.form.get("exam").valueChanges.subscribe(e=>{this.subject$=this.fileService.loadSubjectsForExam(e)})}ngOnDestroy(){this.subjectSubscription&&this.subjectSubscription.unsubscribe(),this.examSubscription&&this.examSubscription.unsubscribe()}save(){this.saveQandAInfo(),this.dialogRef.close()}cancel(){this.dialogRef.close()}uploadQFile(e){const i=e.target.files[0];this.canClose=!1,this.questionFile=i.name,this.questionFile=this.questionFile.split(".").join("-"+Date.now()+".");const r=`/qandas/${this.questionFile}`,s=this.storage.ref(r),u=this.storage.upload(r,i);this.percentageChanges$=u.percentageChanges(),u.snapshotChanges().pipe(ni(()=>{s.getDownloadURL().subscribe(f=>{this.questionUrl=f})})).subscribe()}uploadAFile(e){const i=e.target.files[0];this.canClose=!1,this.answerFile=i.name,this.answerFile=this.answerFile.split(".").join("-"+Date.now()+".");const r=`/qandas/${this.answerFile}`,s=this.storage.ref(r),u=this.storage.upload(r,i);this.percentageChanges$=u.percentageChanges(),u.snapshotChanges().pipe(ni(()=>{s.getDownloadURL().subscribe(f=>{this.answerUrl=f,this.canClose=!0})})).subscribe()}saveQandAInfo(){let e={};e.exam_name=this.form.value.exam,e.subject_name=this.form.value.subject,e.topic_code=this.form.value.topic?this.form.value.topic:"",e.year=this.form.value.year,e.marks=+this.form.value.marks,e.q_filename=this.questionFile,e.a_filename=this.answerFile,e.q_url=this.questionUrl,e.a_url=this.answerUrl,this.fileService.createQandA(e)}get exam(){return this.form.controls.exam}get subject(){return this.form.controls.subject}get year(){return this.form.controls.year}get marks(){return this.form.controls.marks}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(VP))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-qandas2"]],decls:44,vars:21,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Select Examination","formControlName","exam",3,"focus","selectionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Subject","formControlName","subject",3,"focus","selectionChange"],["placeholder","Select Topic","formControlName","topic"],["placeholder","Year","matInput","","formControlName","year"],["placeholder","Marks","matInput","","formControlName","marks"],["mat-stroked-button","","color","primary",3,"click"],["class","dispin",4,"ngIf"],["type","file",2,"display","none",3,"change"],["question",""],["answer",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],[1,"dispin"],["mode","determinate",3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"h2",0),o._uU(1,"Add New Question"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.NdJ("focus",function(){return i.onExamChange()})("selectionChange",function(){return i.onExamChange()}),o.YNc(5,wW,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,MW,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o.TgZ(9,"mat-select",5),o.NdJ("focus",function(){return i.onSubChange()})("selectionChange",function(){return i.onSubChange()}),o.YNc(10,EW,3,2,"ng-container",3),o.ALo(11,"async"),o.qZA(),o.YNc(12,TW,2,0,"mat-error",4),o.qZA(),o.TgZ(13,"mat-form-field"),o.TgZ(14,"mat-select",6),o.YNc(15,DW,3,2,"ng-container",3),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"mat-form-field"),o._UZ(18,"input",7),o.YNc(19,xW,2,0,"mat-error",4),o.qZA(),o.TgZ(20,"mat-form-field"),o._UZ(21,"input",8),o.YNc(22,SW,2,0,"mat-error",4),o.qZA(),o.TgZ(23,"div"),o.TgZ(24,"button",9),o.NdJ("click",function(){return o.CHM(r),o.MAs(28).click()}),o._uU(25," Select Question File "),o.qZA(),o.YNc(26,OW,2,1,"p",10),o.TgZ(27,"input",11,12),o.NdJ("change",function(u){return i.uploadQFile(u)}),o.qZA(),o.qZA(),o._UZ(29,"br"),o.TgZ(30,"div"),o.TgZ(31,"button",9),o.NdJ("click",function(){return o.CHM(r),o.MAs(35).click()}),o._uU(32," Select Answer File "),o.qZA(),o.YNc(33,IW,2,1,"p",10),o.TgZ(34,"input",11,13),o.NdJ("change",function(u){return i.uploadAFile(u)}),o.qZA(),o.qZA(),o.TgZ(36,"div"),o.YNc(37,AW,2,0,"p",4),o.qZA(),o.YNc(38,PW,5,4,"div",4),o.ALo(39,"async"),o.qZA(),o.TgZ(40,"mat-dialog-actions"),o.YNc(41,kW,2,0,"button",14),o.TgZ(42,"button",15),o.NdJ("click",function(){return i.cancel()}),o._uU(43,"Cancel"),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,13,i.exam$)),o.xp6(2),o.Q6J("ngIf",i.exam.invalid),o.xp6(3),o.Q6J("ngForOf",o.lcZ(11,15,i.subject$)),o.xp6(2),o.Q6J("ngIf",i.subject.invalid),o.xp6(3),o.Q6J("ngForOf",o.lcZ(16,17,i.topic$)),o.xp6(4),o.Q6J("ngIf",i.year.invalid),o.xp6(3),o.Q6J("ngIf",i.marks.invalid),o.xp6(4),o.Q6J("ngIf",i.questionFile),o.xp6(7),o.Q6J("ngIf",i.answerFile),o.xp6(4),o.Q6J("ngIf",i.questionFile||i.answerFile),o.xp6(1),o.Q6J("ngIf",o.lcZ(39,19,i.percentageChanges$)),o.xp6(3),o.Q6J("ngIf",i.form.valid&&i.canClose))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,nr,CW,$l],pipes:[vo,bs],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.dispin[_ngcontent-%COMP%]{display:inline;padding-left:1em}"]}),n})();function FW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",12),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.exam_name),o.xp6(1),o.Oqu(e.exam_name)}}function NW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Exam is mandatory!"),o.qZA())}function LW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",12),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.subject_name),o.xp6(1),o.Oqu(e.subject_name)}}function BW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Subject is mandatory!"),o.qZA())}function VW(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"mat-option",12),o._uU(2),o.qZA(),o.BQk()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("value",e.topic_code),o.xp6(1),o.Oqu(e.topic_name)}}function UW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Year is mandatory!"),o.qZA())}function jW(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Marks is mandatory!"),o.qZA())}function HW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().save()}),o._uU(1," Save "),o.qZA()}}let qW=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.fb=i,this.fileService=r,this.canClose=!0,this.currqanda=s,this.form=this.fb.group({exam_name:[this.currqanda.exam_name,di.required],subject_name:[this.currqanda.subject_name,di.required],topic_code:[this.currqanda.topic_code],year:[this.currqanda.year,di.required],marks:[this.currqanda.marks,di.required]})}ngOnInit(){this.exam$=this.fileService.loadExams(),this.subject$=this.fileService.loadSubjects(),this.topic$=this.fileService.loadTopics()}save(){const e=this.form.value;this.currqanda.subject_name!==this.form.value.subject_name&&(e.topic_code=`${this.form.value.subject_name.substr(-5,4)}-${this.currqanda.topic_code.substring(-1,4)}`),this.fileService.updateQandA(this.currqanda.id,e).subscribe(()=>{this.dialogRef.close(e)})}cancel(){this.dialogRef.close()}get exam_name(){return this.form.controls.exam_name}get subject_name(){return this.form.controls.subject_name}get year(){return this.form.controls.year}get marks(){return this.form.controls.marks}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ns),o.Y36(Zc),o.Y36(fs),o.Y36(Jf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-qandas2"]],decls:30,vars:15,consts:[["mat-dialog-title",""],[3,"formGroup"],["placeholder","Select Examination*","formControlName","exam_name"],[4,"ngFor","ngForOf"],[4,"ngIf"],["placeholder","Select Subject*","formControlName","subject_name"],["placeholder","Select Topic*","formControlName","topic_code"],["placeholder","Year","matInput","","formControlName","year"],["placeholder","Marks","matInput","","formControlName","marks"],[1,"qamessage"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Edit Question"),o.qZA(),o.TgZ(2,"mat-dialog-content",1),o.TgZ(3,"mat-form-field"),o.TgZ(4,"mat-select",2),o.YNc(5,FW,3,2,"ng-container",3),o.ALo(6,"async"),o.qZA(),o.YNc(7,NW,2,0,"mat-error",4),o.qZA(),o.TgZ(8,"mat-form-field"),o.TgZ(9,"mat-select",5),o.YNc(10,LW,3,2,"ng-container",3),o.ALo(11,"async"),o.qZA(),o.YNc(12,BW,2,0,"mat-error",4),o.qZA(),o.TgZ(13,"mat-form-field"),o.TgZ(14,"mat-select",6),o.YNc(15,VW,3,2,"ng-container",3),o.ALo(16,"async"),o.qZA(),o.qZA(),o.TgZ(17,"mat-form-field"),o._UZ(18,"input",7),o.YNc(19,UW,2,0,"mat-error",4),o.qZA(),o.TgZ(20,"mat-form-field"),o._UZ(21,"input",8),o.YNc(22,jW,2,0,"mat-error",4),o.qZA(),o.qZA(),o.TgZ(23,"div"),o.TgZ(24,"h4",9),o._uU(25," If Question and/or Answer needs to be changed, this entry has to be deleted and entered fresh. "),o.qZA(),o.qZA(),o.TgZ(26,"mat-dialog-actions"),o.YNc(27,HW,2,0,"button",10),o.TgZ(28,"button",11),o.NdJ("click",function(){return i.cancel()}),o._uU(29,"Cancel"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("formGroup",i.form),o.xp6(3),o.Q6J("ngForOf",o.lcZ(6,9,i.exam$)),o.xp6(2),o.Q6J("ngIf",i.exam_name.invalid),o.xp6(3),o.Q6J("ngForOf",o.lcZ(11,11,i.subject$)),o.xp6(2),o.Q6J("ngIf",i.subject_name.invalid),o.xp6(3),o.Q6J("ngForOf",o.lcZ(16,13,i.topic$)),o.xp6(4),o.Q6J("ngIf",i.year.invalid),o.xp6(3),o.Q6J("ngIf",i.marks.invalid),o.xp6(5),o.Q6J("ngIf",i.form.valid))},directives:[ql,zl,el,ts,Hr,md,co,tl,On,ma,Xt,xo,hs,ir,$l,nr],pipes:[vo],styles:["mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.qamessage[_ngcontent-%COMP%]{font-style:italic}"]}),n})();function zW(n,t){1&n&&o._UZ(0,"mat-spinner",21),2&n&&o.Q6J("diameter",30)}function $W(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(){return o.CHM(e),o.oxw().onSearchClear()}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA(),o.qZA()}}function GW(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Examination"),o.qZA())}function ZW(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.exam_name)}}function WW(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Subject"),o.qZA())}function YW(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.subject_name)}}function KW(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Topic Code"),o.qZA())}function QW(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.topic_code)}}function JW(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Year"),o.qZA())}function XW(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.year)}}function eY(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Image File"),o.qZA())}function tY(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.q_filename)}}function nY(n,t){1&n&&(o.TgZ(0,"th",23),o._uU(1,"Total Marks"),o.qZA())}function iY(n,t){if(1&n&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.marks)}}function rY(n,t){1&n&&o._UZ(0,"th",25)}function oY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",24),o.TgZ(1,"button",26),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().viewQandA(s)}),o.TgZ(2,"mat-icon"),o._uU(3,"pageview"),o.qZA(),o.qZA(),o.TgZ(4,"button",26),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().updateQandA(s)}),o.TgZ(5,"mat-icon"),o._uU(6,"edit"),o.qZA(),o.qZA(),o.TgZ(7,"button",27),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().deleteQandA(s)}),o.TgZ(8,"mat-icon"),o._uU(9,"delete"),o.qZA(),o.qZA(),o.qZA()}}function sY(n,t){1&n&&o._UZ(0,"tr",28)}const aY=function(n){return{gray:n}};function lY(n,t){1&n&&o._UZ(0,"tr",29),2&n&&o.Q6J("ngClass",o.VKq(1,aY,t.even))}const cY=function(){return[5,10,20]},uY=[{path:"univs",component:YZ},{path:"exams",component:y7},{path:"subjects",component:H7},{path:"topics",component:dW},{path:"questions",component:(()=>{class n{constructor(e,i,r){this.fileService=e,this.dialog=i,this.dialogService=r,this.qandas=[],this.columnsToDisplay=["exam_name","subject_name","topic_code","year","q_filename","marks","actions"],this.loading=!1,this.searchKey=""}ngOnInit(){this.reloadQandAs()}reloadQandAs(){this.loading=!0,this.fileService.loadQandAs().pipe(ni(()=>this.loading=!1)).subscribe(e=>{this.dataSource=new Gf(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}onSearchClear(){this.searchKey="",this.applyFilter()}applyFilter(){this.dataSource.filter=this.searchKey.trim().toLowerCase()}addQandA(){const e=new js;e.disableClose=!0,e.autoFocus=!0,e.minWidth="60%",this.dialog.open(RW,e).afterClosed().subscribe(()=>{this.reloadQandAs(),this.onSearchClear()})}viewQandA(e){const i=new js;i.autoFocus=!0,i.minWidth="80%",i.data=e,this.dialog.open(pW,i).afterClosed().subscribe(()=>{this.onSearchClear()})}updateQandA(e){const i=new js;i.disableClose=!0,i.autoFocus=!0,i.minWidth="60%",i.data=e,this.dialog.open(qW,i).afterClosed().subscribe(()=>{this.reloadQandAs(),this.onSearchClear()})}deleteQandA(e){this.dialogService.openConfirmDialog("Are you sure you want to delete?").afterClosed().subscribe(i=>{i&&this.fileService.deleteQandA(e.id,e.a_filename,e.q_filename).pipe(ni(()=>this.reloadQandAs())).subscribe()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fs),o.Y36(gd),o.Y36(MC))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-qandas"]],viewQuery:function(e,i){if(1&e&&(o.Gf(ga,5),o.Gf(Wc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first),o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:37,vars:9,consts:[[1,"table","mat-elevation-z8"],["class","spinner",3,"diameter",4,"ngIf"],[1,"search-div"],["mat-raised-button","",3,"click"],["floatLabel","never",1,"search-form-field"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange","keyup"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","exam_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subject_name"],["matColumnDef","topic_code"],["matColumnDef","year"],["matColumnDef","q_filename"],["matColumnDef","marks"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[1,"spinner",3,"diameter"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","dark",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"LIST OF QUESTIONS WITH MARKING SCHEMES"),o.qZA(),o.YNc(3,zW,1,1,"mat-spinner",1),o.TgZ(4,"div",2),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.addQandA()}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA(),o._uU(8,"Add New "),o.qZA(),o.TgZ(9,"mat-form-field",4),o.TgZ(10,"input",5),o.NdJ("ngModelChange",function(s){return i.searchKey=s})("keyup",function(){return i.applyFilter()}),o.qZA(),o.YNc(11,$W,3,0,"button",6),o.qZA(),o.qZA(),o.TgZ(12,"table",7),o.ynx(13,8),o.YNc(14,GW,2,0,"th",9),o.YNc(15,ZW,2,1,"td",10),o.BQk(),o.ynx(16,11),o.YNc(17,WW,2,0,"th",9),o.YNc(18,YW,2,1,"td",10),o.BQk(),o.ynx(19,12),o.YNc(20,KW,2,0,"th",9),o.YNc(21,QW,2,1,"td",10),o.BQk(),o.ynx(22,13),o.YNc(23,JW,2,0,"th",9),o.YNc(24,XW,2,1,"td",10),o.BQk(),o.ynx(25,14),o.YNc(26,eY,2,0,"th",9),o.YNc(27,tY,2,1,"td",10),o.BQk(),o.ynx(28,15),o.YNc(29,nY,2,0,"th",9),o.YNc(30,iY,2,1,"td",10),o.BQk(),o.ynx(31,16),o.YNc(32,rY,1,0,"th",17),o.YNc(33,oY,10,0,"td",10),o.BQk(),o.YNc(34,sY,1,0,"tr",18),o.YNc(35,lY,1,3,"tr",19),o.qZA(),o._UZ(36,"mat-paginator",20),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngModel",i.searchKey),o.xp6(1),o.Q6J("ngIf",i.searchKey),o.xp6(1),o.Q6J("dataSource",i.dataSource),o.xp6(22),o.Q6J("matHeaderRowDef",i.columnsToDisplay),o.xp6(1),o.Q6J("matRowDefColumns",i.columnsToDisplay),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(8,cY))("pageSize",10))},directives:[Xt,Ma,nr,Nm,Hr,hs,ir,co,im,N_,zi,ga,Hf,cd,_a,kf,Us,Hl,qf,$f,zf,ud,si,Wc],styles:[".table[_ngcontent-%COMP%]{margin:auto;padding-top:10px;width:80%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding-left:5px}h2[_ngcontent-%COMP%]{text-align:center}"]}),n})()},{path:"",redirectTo:"/questions",pathMatch:"full"}];let dY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[y.forRoot(uY)],y]}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})();const l3=["*"],hY=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pY=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],yY=Of(Wa(class{})),vY=Wa(class{}),CY=new o.OlP("MatList"),c3=new o.OlP("MatNavList");let wY=(()=>{class n extends yY{constructor(){super(...arguments),this._stateChanges=new ht.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:c3,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:l3,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),MY=(()=>{class n extends vY{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new ht.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe($t(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Nt(e)}ngAfterContentInit(){!function _M(n,t,e="mat"){n.changes.pipe(Jn(n)).subscribe(({length:i})=>{Af(t,`${e}-2-line`,!1),Af(t,`${e}-3-line`,!1),Af(t,`${e}-multi-line`,!1),2===i||3===i?Af(t,`${e}-${i}-line`,!0):i>3&&Af(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(c3,8),o.Y36(CY,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,u3,5),o.Suo(r,d3,5),o.Suo(r,fv,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:pY,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(hY),o.TgZ(0,"span",0),o._UZ(1,"span",1),o.Hsn(2),o.TgZ(3,"span",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Ul],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bM,l_,nn,pv,Qi],bM,nn,pv,hW]}),n})();function p3(n){return(0,et.U)(()=>n)}const kD=["*"],OY=["content"];function IY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function AY(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const PY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kY=["mat-drawer","mat-drawer-content","*"];function RY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function FY(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content"),o.Hsn(1,2),o.qZA())}const NY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],LY=["mat-sidenav","mat-sidenav-content","*"],m3={transformDrawer:Or("transform",[Bn("open, open-instant",Tt({transform:"none",visibility:"visible"})),Bn("void",Tt({"box-shadow":"none",visibility:"hidden"})),Vn("void => open-instant",Ai("0ms")),Vn("void <=> open, open-instant => void",Ai("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},VY=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function UY(){return!1}}),WP=new o.OlP("MAT_DRAWER_CONTAINER");let RD=(()=>{class n extends Bf{constructor(e,i,r,s,u){super(r,s,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>_3)),o.Y36(o.SBq),o.Y36(p_),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Bf,useExisting:n}]),o.qOj],ngContentSelectors:kD,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),g3=(()=>{class n{constructor(e,i,r,s,u,f,g,C){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=u,this._interactivityChecker=f,this._doc=g,this._container=C,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ht.x,this._animationEnd=new ht.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(At(M=>M),(0,et.U)(()=>{})),this.openedStart=this._animationStarted.pipe(At(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),p3(void 0)),this._closedStream=this.openedChange.pipe(At(M=>!M),(0,et.U)(()=>{})),this.closedStart=this._animationStarted.pipe(At(M=>M.fromState!==M.toState&&"void"===M.toState),p3(void 0)),this._destroyed=new ht.x,this.onPositionChanged=new o.vpe,this._modeChanged=new ht.x,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{zc(this._elementRef.nativeElement,"keydown").pipe(At(M=>27===M.keyCode&&!this.disableClose&&!er(M)),$t(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe(Og((M,S)=>M.fromState===S.fromState&&M.toState===S.toState)).subscribe(M=>{const{fromState:S,toState:k}=M;(0===k.indexOf("open")&&"void"===S||"void"===k&&0===S.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Nt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Nt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Nt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,cn.q)(1)).subscribe(u=>s(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(by),o.Y36(Nc),o.Y36(Hi),o.Y36(o.R0b),o.Y36(gy),o.Y36(X,8),o.Y36(WP,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(OY,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:kD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},directives:[Bf],encapsulation:2,data:{animation:[m3.transformDrawer]},changeDetection:0}),n})(),_3=(()=>{class n{constructor(e,i,r,s,u,f=!1,g){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=g,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new ht.x,this._doCheckSubject=new ht.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ht.x,e&&e.change.pipe($t(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe($t(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=f}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Nt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Nt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Jn(this._allDrawers),$t(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Jn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Fc(10),$t(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(At(i=>i.fromState!==i.toState),$t(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe($t(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe($t(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,cn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe($t((0,Vs.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ua,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(Hp),o.Y36(VY),o.Y36(Jo,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,RD,5),o.Suo(r,g3,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(RD,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:WP,useExisting:n}])],ngContentSelectors:kY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(PY),o.YNc(0,IY,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,AY,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[RD,Xt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),YP=(()=>{class n extends RD{constructor(e,i,r,s,u){super(e,i,r,s,u)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>y3)),o.Y36(o.SBq),o.Y36(p_),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Bf,useExisting:n}]),o.qOj],ngContentSelectors:kD,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),b3=(()=>{class n extends g3{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Nt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=gr(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=gr(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:kD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},directives:[Bf],encapsulation:2,data:{animation:[m3.transformDrawer]},changeDetection:0}),n})(),y3=(()=>{class n extends _3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,YP,5),o.Suo(r,b3,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:WP,useExisting:n}]),o.qOj],ngContentSelectors:LY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(NY),o.YNc(0,RY,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,FY,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[YP,Xt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,nn,ad],ad,nn]}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,nn,lE,l_,vp,gw],nn]}),n})();const $Y=["*",[["mat-toolbar-row"]]],GY=["*","mat-toolbar-row"],ZY=If(class{constructor(n){this._elementRef=n}});let w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),WY=(()=>{class n extends ZY{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Hi),o.Y36(X))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,w3,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:GY,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t($Y),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),M3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[nn],nn]}),n})();const YY=[D_,a3,MF,n3,BU,h3,vF,s3,r3,eI,v3,mv,eO,C3,M3];let KY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,YY],D_,a3,MF,n3,BU,h3,vF,s3,r3,eI,v3,mv,eO,C3,M3]}),n})(),e9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,uF,XO]]}),n})(),t9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:0,consts:[["color","primary"],["mat-icon-button",""],[3,"click"],["opened","true","mode","side"],["sidenav",""],["routerLink","questions","routerLinkActive","active","mat-list-item",""],["routerLink","univs","routerLinkActive","active","mat-list-item",""],["routerLink","exams","routerLinkActive","active","mat-list-item",""],["routerLink","subjects","routerLinkActive","active","mat-list-item",""],["routerLink","topics","routerLinkActive","active","mat-list-item",""],["id","content"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"mat-toolbar",0),o.TgZ(1,"mat-toolbar-row"),o.TgZ(2,"button",1),o.TgZ(3,"mat-icon",2),o.NdJ("click",function(){return o.CHM(r),o.MAs(9).toggle()}),o._uU(4,"menu"),o.qZA(),o.qZA(),o.TgZ(5,"h1"),o._uU(6,"Assessments Creator"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"mat-sidenav-container"),o.TgZ(8,"mat-sidenav",3,4),o.TgZ(10,"mat-nav-list"),o.TgZ(11,"a",5),o._uU(12,"Questions"),o.qZA(),o.TgZ(13,"a",6),o._uU(14,"Universities"),o.qZA(),o.TgZ(15,"a",7),o._uU(16,"Examinations"),o.qZA(),o.TgZ(17,"a",8),o._uU(18,"Subjects"),o.qZA(),o.TgZ(19,"a",9),o._uU(20,"Topics"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"mat-sidenav-content"),o.TgZ(22,"div",10),o._UZ(23,"router-outlet"),o.qZA(),o.qZA(),o.qZA()}},directives:[WY,w3,nr,Nm,y3,b3,wY,ff,MY,qa,YP,lf],styles:["#content[_ngcontent-%COMP%]{height:88vh}mat-nav-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:.9rem}mat-nav-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#3f51b5;color:#fff}mat-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}mat-toolbar[_ngcontent-%COMP%]{position:relative;z-index:2;box-shadow:2px 5px 8px #0009}"]}),n})();const E3_firebase={apiKey:"AIzaSyDc4vUev1QOynOyqTFneIayqrLWyXOaNLs",authDomain:"assessments-a884f.firebaseapp.com",projectId:"assessments-a884f",storageBucket:"assessments-a884f.appspot.com",messagingSenderId:"474642554286",appId:"1:474642554286:web:8413ede532c69945da7c3f"};let n9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[t9]}),n.\u0275inj=o.cJS({providers:[],imports:[[e9,is.hO.initializeApp(E3_firebase),W8,dY,Kx,hl,uF,vZ,KY,XO]]}),n})();(0,o.G48)(),hu().bootstrapModule(n9).catch(n=>console.error(n))},8306:(rt,be,R)=>{R.d(be,{y:()=>q});var o=R(930),Q=R(727),F=R(8822),oe=R(4671);var X=R(2416),ce=R(576),fe=R(2806);let q=(()=>{class xe{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const he=new xe;return he.source=this,he.operator=qe,he}subscribe(qe,he,me){const Ae=function Ge(xe){return xe&&xe instanceof o.Lv||function ie(xe){return xe&&(0,ce.m)(xe.next)&&(0,ce.m)(xe.error)&&(0,ce.m)(xe.complete)}(xe)&&(0,Q.Nn)(xe)}(qe)?qe:new o.Hp(qe,he,me);return(0,fe.x)(()=>{const{operator:je,source:Be}=this;Ae.add(je?je.call(Ae,Be):Be?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(qe){try{return this._subscribe(qe)}catch(he){qe.error(he)}}forEach(qe,he){return new(he=G(he))((me,Ae)=>{let je;je=this.subscribe(Be=>{try{qe(Be)}catch(nt){Ae(nt),null==je||je.unsubscribe()}},Ae,me)})}_subscribe(qe){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(qe)}[F.L](){return this}pipe(...qe){return function pe(xe){return 0===xe.length?oe.y:1===xe.length?xe[0]:function(qe){return xe.reduce((he,me)=>me(he),qe)}}(qe)(this)}toPromise(qe){return new(qe=G(qe))((he,me)=>{let Ae;this.subscribe(je=>Ae=je,je=>me(je),()=>he(Ae))})}}return xe.create=Fe=>new xe(Fe),xe})();function G(xe){var Fe;return null!==(Fe=null!=xe?xe:X.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(rt,be,R)=>{R.d(be,{x:()=>X});var o=R(8306),Q=R(727);const oe=(0,R(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=R(8737),pe=R(2806);let X=(()=>{class fe extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ie=new ce(this,this);return ie.operator=G,ie}_throwIfClosed(){if(this.closed)throw new oe}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ie=this.observers.slice();for(const Ge of ie)Ge.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ie}=this;for(;ie.length;)ie.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ie,isStopped:Ge,observers:xe}=this;return ie||Ge?Q.Lc:(xe.push(G),new Q.w0(()=>(0,le.P)(xe,G)))}_checkFinalizedStatuses(G){const{hasError:ie,thrownError:Ge,isStopped:xe}=this;ie?G.error(Ge):xe&&G.complete()}asObservable(){const G=new o.y;return G.source=this,G}}return fe.create=(q,G)=>new ce(q,G),fe})();class ce extends X{constructor(q,G){super(),this.destination=q,this.source=G}next(q){var G,ie;null===(ie=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ie||ie.call(G,q)}error(q){var G,ie;null===(ie=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ie||ie.call(G,q)}complete(){var q,G;null===(G=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===G||G.call(q)}_subscribe(q){var G,ie;return null!==(ie=null===(G=this.source)||void 0===G?void 0:G.subscribe(q))&&void 0!==ie?ie:Q.Lc}}},930:(rt,be,R)=>{R.d(be,{Hp:()=>Ge,Lv:()=>ie});var o=R(576),Q=R(727),F=R(2416),oe=R(7849),le=R(5032);const pe=fe("C",void 0,void 0);function fe(me,Ae,je){return{kind:me,value:Ae,error:je}}var q=R(3410),G=R(2806);class ie extends Q.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,Q.Nn)(Ae)&&Ae.add(this)):this.destination=he}static create(Ae,je,Be){return new Ge(Ae,je,Be)}next(Ae){this.isStopped?qe(function ce(me){return fe("N",me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?qe(function X(me){return fe("E",void 0,me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?qe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ge extends ie{constructor(Ae,je,Be){let nt;if(super(),(0,o.m)(Ae))nt=Ae;else if(Ae){let Oe;({next:nt,error:je,complete:Be}=Ae),this&&F.v.useDeprecatedNextContext?(Oe=Object.create(Ae),Oe.unsubscribe=()=>this.unsubscribe()):Oe=Ae,nt=null==nt?void 0:nt.bind(Oe),je=null==je?void 0:je.bind(Oe),Be=null==Be?void 0:Be.bind(Oe)}this.destination={next:nt?xe(nt):le.Z,error:xe(null!=je?je:Fe),complete:Be?xe(Be):le.Z}}}function xe(me,Ae){return(...je)=>{try{me(...je)}catch(Be){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Be):(0,oe.h)(Be)}}}function Fe(me){throw me}function qe(me,Ae){const{onStoppedNotification:je}=F.v;je&&q.z.setTimeout(()=>je(me,Ae))}const he={closed:!0,next:le.Z,error:Fe,complete:le.Z}},727:(rt,be,R)=>{R.d(be,{Lc:()=>pe,w0:()=>le,Nn:()=>X});var o=R(576);const F=(0,R(3888).d)(fe=>function(G){fe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ie,Ge)=>`${Ge+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var oe=R(8737);class le{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const xe of G)xe.remove(this);else G.remove(this);const{initialTeardown:ie}=this;if((0,o.m)(ie))try{ie()}catch(xe){q=xe instanceof F?xe.errors:[xe]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const xe of Ge)try{ce(xe)}catch(Fe){q=null!=q?q:[],Fe instanceof F?q=[...q,...Fe.errors]:q.push(Fe)}}if(q)throw new F(q)}}add(q){var G;if(q&&q!==this)if(this.closed)ce(q);else{if(q instanceof le){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(q)}}_hasParent(q){const{_parentage:G}=this;return G===q||Array.isArray(G)&&G.includes(q)}_addParent(q){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(q),G):G?[G,q]:q}_removeParent(q){const{_parentage:G}=this;G===q?this._parentage=null:Array.isArray(G)&&(0,oe.P)(G,q)}remove(q){const{_teardowns:G}=this;G&&(0,oe.P)(G,q),q instanceof le&&q._removeParent(this)}}le.EMPTY=(()=>{const fe=new le;return fe.closed=!0,fe})();const pe=le.EMPTY;function X(fe){return fe instanceof le||fe&&"closed"in fe&&(0,o.m)(fe.remove)&&(0,o.m)(fe.add)&&(0,o.m)(fe.unsubscribe)}function ce(fe){(0,o.m)(fe)?fe():fe.unsubscribe()}},2416:(rt,be,R)=>{R.d(be,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,be,R)=>{R.d(be,{E:()=>Q});const Q=new(R(8306).y)(le=>le.complete())},8996:(rt,be,R)=>{R.d(be,{D:()=>nt});var o=R(8421),Q=R(5363),F=R(9468),pe=R(8306),ce=R(2202),fe=R(576),q=R(9672);function ie(Oe,ot){if(!Oe)throw new Error("Iterable cannot be null");return new pe.y(Xe=>{(0,q.f)(Xe,ot,()=>{const _e=Oe[Symbol.asyncIterator]();(0,q.f)(Xe,ot,()=>{_e.next().then($=>{$.done?Xe.complete():Xe.next($.value)})},0,!0)})})}var Ge=R(3670),xe=R(8239),Fe=R(1144),qe=R(6495),he=R(2206),me=R(4532),Ae=R(3260);function nt(Oe,ot){return ot?function Be(Oe,ot){if(null!=Oe){if((0,Ge.c)(Oe))return function oe(Oe,ot){return(0,o.Xf)(Oe).pipe((0,F.R)(ot),(0,Q.Q)(ot))}(Oe,ot);if((0,Fe.z)(Oe))return function X(Oe,ot){return new pe.y(Xe=>{let _e=0;return ot.schedule(function(){_e===Oe.length?Xe.complete():(Xe.next(Oe[_e++]),Xe.closed||this.schedule())})})}(Oe,ot);if((0,xe.t)(Oe))return function le(Oe,ot){return(0,o.Xf)(Oe).pipe((0,F.R)(ot),(0,Q.Q)(ot))}(Oe,ot);if((0,he.D)(Oe))return ie(Oe,ot);if((0,qe.T)(Oe))return function G(Oe,ot){return new pe.y(Xe=>{let _e;return(0,q.f)(Xe,ot,()=>{_e=Oe[ce.h](),(0,q.f)(Xe,ot,()=>{let $,te;try{({value:$,done:te}=_e.next())}catch(de){return void Xe.error(de)}te?Xe.complete():Xe.next($)},0,!0)}),()=>(0,fe.m)(null==_e?void 0:_e.return)&&_e.return()})}(Oe,ot);if((0,Ae.L)(Oe))return function je(Oe,ot){return ie((0,Ae.Q)(Oe),ot)}(Oe,ot)}throw(0,me.z)(Oe)}(Oe,ot):(0,o.Xf)(Oe)}},8421:(rt,be,R)=>{R.d(be,{Xf:()=>Ge});var o=R(5987),Q=R(1144),F=R(8239),oe=R(8306),le=R(3670),pe=R(2206),X=R(4532),ce=R(6495),fe=R(3260),q=R(576),G=R(7849),ie=R(8822);function Ge(Be){if(Be instanceof oe.y)return Be;if(null!=Be){if((0,le.c)(Be))return function xe(Be){return new oe.y(nt=>{const Oe=Be[ie.L]();if((0,q.m)(Oe.subscribe))return Oe.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,Q.z)(Be))return function Fe(Be){return new oe.y(nt=>{for(let Oe=0;Oe<Be.length&&!nt.closed;Oe++)nt.next(Be[Oe]);nt.complete()})}(Be);if((0,F.t)(Be))return function qe(Be){return new oe.y(nt=>{Be.then(Oe=>{nt.closed||(nt.next(Oe),nt.complete())},Oe=>nt.error(Oe)).then(null,G.h)})}(Be);if((0,pe.D)(Be))return me(Be);if((0,ce.T)(Be))return function he(Be){return new oe.y(nt=>{for(const Oe of Be)if(nt.next(Oe),nt.closed)return;nt.complete()})}(Be);if((0,fe.L)(Be))return function Ae(Be){return me((0,fe.Q)(Be))}(Be)}throw(0,X.z)(Be)}function me(Be){return new oe.y(nt=>{(function je(Be,nt){var Oe,ot,Xe,_e;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,o.KL)(Be);!(ot=yield Oe.next()).done;)if(nt.next(ot.value),nt.closed)return}catch($){Xe={error:$}}finally{try{ot&&!ot.done&&(_e=Oe.return)&&(yield _e.call(Oe))}finally{if(Xe)throw Xe.error}}nt.complete()})})(Be,nt).catch(Oe=>nt.error(Oe))})}},6451:(rt,be,R)=>{R.d(be,{T:()=>pe});var o=R(8189),Q=R(8421),F=R(515),oe=R(3269),le=R(8996);function pe(...X){const ce=(0,oe.yG)(X),fe=(0,oe._6)(X,1/0),q=X;return q.length?1===q.length?(0,Q.Xf)(q[0]):(0,o.J)(fe)((0,le.D)(q,ce)):F.E}},5403:(rt,be,R)=>{R.d(be,{Q:()=>Q});var o=R(930);class Q extends o.Lv{constructor(oe,le,pe,X,ce){super(oe),this.onFinalize=ce,this._next=le?function(fe){try{le(fe)}catch(q){oe.error(q)}}:super._next,this._error=X?function(fe){try{X(fe)}catch(q){oe.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(fe){oe.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;const{closed:le}=this;super.unsubscribe(),!le&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}},4004:(rt,be,R)=>{R.d(be,{U:()=>F});var o=R(4482),Q=R(5403);function F(oe,le){return(0,o.e)((pe,X)=>{let ce=0;pe.subscribe(new Q.Q(X,fe=>{X.next(oe.call(le,fe,ce++))}))})}},8189:(rt,be,R)=>{R.d(be,{J:()=>F});var o=R(5577),Q=R(4671);function F(oe=1/0){return(0,o.z)(Q.y,oe)}},5577:(rt,be,R)=>{R.d(be,{z:()=>ce});var o=R(4004),Q=R(8421),F=R(4482),oe=R(9672),le=R(5403),X=R(576);function ce(fe,q,G=1/0){return(0,X.m)(q)?ce((ie,Ge)=>(0,o.U)((xe,Fe)=>q(ie,xe,Ge,Fe))((0,Q.Xf)(fe(ie,Ge))),G):("number"==typeof q&&(G=q),(0,F.e)((ie,Ge)=>function pe(fe,q,G,ie,Ge,xe,Fe,qe){const he=[];let me=0,Ae=0,je=!1;const Be=()=>{je&&!he.length&&!me&&q.complete()},nt=ot=>me<ie?Oe(ot):he.push(ot),Oe=ot=>{xe&&q.next(ot),me++;let Xe=!1;(0,Q.Xf)(G(ot,Ae++)).subscribe(new le.Q(q,_e=>{null==Ge||Ge(_e),xe?nt(_e):q.next(_e)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(me--;he.length&&me<ie;){const _e=he.shift();Fe?(0,oe.f)(q,Fe,()=>Oe(_e)):Oe(_e)}Be()}catch(_e){q.error(_e)}}))};return fe.subscribe(new le.Q(q,nt,()=>{je=!0,Be()})),()=>{null==qe||qe()}}(ie,Ge,fe,G)))}},5363:(rt,be,R)=>{R.d(be,{Q:()=>oe});var o=R(9672),Q=R(4482),F=R(5403);function oe(le,pe=0){return(0,Q.e)((X,ce)=>{X.subscribe(new F.Q(ce,fe=>(0,o.f)(ce,le,()=>ce.next(fe),pe),()=>(0,o.f)(ce,le,()=>ce.complete(),pe),fe=>(0,o.f)(ce,le,()=>ce.error(fe),pe)))})}},3099:(rt,be,R)=>{R.d(be,{B:()=>pe});var o=R(8996),Q=R(5698),F=R(7579),oe=R(930),le=R(4482);function pe(ce={}){const{connector:fe=(()=>new F.x),resetOnError:q=!0,resetOnComplete:G=!0,resetOnRefCountZero:ie=!0}=ce;return Ge=>{let xe=null,Fe=null,qe=null,he=0,me=!1,Ae=!1;const je=()=>{null==Fe||Fe.unsubscribe(),Fe=null},Be=()=>{je(),xe=qe=null,me=Ae=!1},nt=()=>{const Oe=xe;Be(),null==Oe||Oe.unsubscribe()};return(0,le.e)((Oe,ot)=>{he++,!Ae&&!me&&je();const Xe=qe=null!=qe?qe:fe();ot.add(()=>{he--,0===he&&!Ae&&!me&&(Fe=X(nt,ie))}),Xe.subscribe(ot),xe||(xe=new oe.Hp({next:_e=>Xe.next(_e),error:_e=>{Ae=!0,je(),Fe=X(Be,q,_e),Xe.error(_e)},complete:()=>{me=!0,je(),Fe=X(Be,G),Xe.complete()}}),(0,o.D)(Oe).subscribe(xe))})(Ge)}}function X(ce,fe,...q){return!0===fe?(ce(),null):!1===fe?null:fe(...q).pipe((0,Q.q)(1)).subscribe(()=>ce())}},9468:(rt,be,R)=>{R.d(be,{R:()=>Q});var o=R(4482);function Q(F,oe=0){return(0,o.e)((le,pe)=>{pe.add(F.schedule(()=>le.subscribe(pe),oe))})}},5698:(rt,be,R)=>{R.d(be,{q:()=>oe});var o=R(515),Q=R(4482),F=R(5403);function oe(le){return le<=0?()=>o.E:(0,Q.e)((pe,X)=>{let ce=0;pe.subscribe(new F.Q(X,fe=>{++ce<=le&&(X.next(fe),le<=ce&&X.complete())}))})}},8505:(rt,be,R)=>{R.d(be,{b:()=>le});var o=R(576),Q=R(4482),F=R(5403),oe=R(4671);function le(pe,X,ce){const fe=(0,o.m)(pe)||X||ce?{next:pe,error:X,complete:ce}:pe;return fe?(0,Q.e)((q,G)=>{var ie;null===(ie=fe.subscribe)||void 0===ie||ie.call(fe);let Ge=!0;q.subscribe(new F.Q(G,xe=>{var Fe;null===(Fe=fe.next)||void 0===Fe||Fe.call(fe,xe),G.next(xe)},()=>{var xe;Ge=!1,null===(xe=fe.complete)||void 0===xe||xe.call(fe),G.complete()},xe=>{var Fe;Ge=!1,null===(Fe=fe.error)||void 0===Fe||Fe.call(fe,xe),G.error(xe)},()=>{var xe,Fe;Ge&&(null===(xe=fe.unsubscribe)||void 0===xe||xe.call(fe)),null===(Fe=fe.finalize)||void 0===Fe||Fe.call(fe)}))}):oe.y}},4408:(rt,be,R)=>{R.d(be,{o:()=>le});var o=R(727);class Q extends o.w0{constructor(X,ce){super()}schedule(X,ce=0){return this}}const F={setInterval(...pe){const{delegate:X}=F;return((null==X?void 0:X.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:X}=F;return((null==X?void 0:X.clearInterval)||clearInterval)(pe)},delegate:void 0};var oe=R(8737);class le extends Q{constructor(X,ce){super(X,ce),this.scheduler=X,this.work=ce,this.pending=!1}schedule(X,ce=0){if(this.closed)return this;this.state=X;const fe=this.id,q=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(q,fe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(q,this.id,ce),this}requestAsyncId(X,ce,fe=0){return F.setInterval(X.flush.bind(X,this),fe)}recycleAsyncId(X,ce,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ce;F.clearInterval(ce)}execute(X,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(X,ce);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,ce){let q,fe=!1;try{this.work(X)}catch(G){fe=!0,q=G||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:X,scheduler:ce}=this,{actions:fe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(fe,this),null!=X&&(this.id=this.recycleAsyncId(ce,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,be,R)=>{R.d(be,{v:()=>F});var o=R(6063);class Q{constructor(le,pe=Q.now){this.schedulerActionCtor=le,this.now=pe}schedule(le,pe=0,X){return new this.schedulerActionCtor(this,le).schedule(X,pe)}}Q.now=o.l.now;class F extends Q{constructor(le,pe=Q.now){super(le,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:pe}=this;if(this._active)return void pe.push(le);let X;this._active=!0;do{if(X=le.execute(le.state,le.delay))break}while(le=pe.shift());if(this._active=!1,X){for(;le=pe.shift();)le.unsubscribe();throw X}}}},4986:(rt,be,R)=>{R.d(be,{P:()=>oe,z:()=>F});var o=R(4408);const F=new(R(7565).v)(o.o),oe=F},6063:(rt,be,R)=>{R.d(be,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(rt,be,R)=>{R.d(be,{z:()=>o});const o={setTimeout(...Q){const{delegate:F}=o;return((null==F?void 0:F.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:F}=o;return((null==F?void 0:F.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(rt,be,R)=>{R.d(be,{h:()=>Q});const Q=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,be,R)=>{R.d(be,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,be,R)=>{R.d(be,{_6:()=>pe,jO:()=>oe,yG:()=>le});var o=R(576),Q=R(3532);function F(X){return X[X.length-1]}function oe(X){return(0,o.m)(F(X))?X.pop():void 0}function le(X){return(0,Q.K)(F(X))?X.pop():void 0}function pe(X,ce){return"number"==typeof F(X)?X.pop():ce}},8737:(rt,be,R)=>{function o(Q,F){if(Q){const oe=Q.indexOf(F);0<=oe&&Q.splice(oe,1)}}R.d(be,{P:()=>o})},3888:(rt,be,R)=>{function o(Q){const oe=Q(le=>{Error.call(le),le.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(be,{d:()=>o})},2806:(rt,be,R)=>{R.d(be,{O:()=>oe,x:()=>F});var o=R(2416);let Q=null;function F(le){if(o.v.useDeprecatedSynchronousErrorHandling){const pe=!Q;if(pe&&(Q={errorThrown:!1,error:null}),le(),pe){const{errorThrown:X,error:ce}=Q;if(Q=null,X)throw ce}}else le()}function oe(le){o.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=le)}},9672:(rt,be,R)=>{function o(Q,F,oe,le=0,pe=!1){const X=F.schedule(function(){oe(),pe?Q.add(this.schedule(null,le)):this.unsubscribe()},le);if(Q.add(X),!pe)return X}R.d(be,{f:()=>o})},4671:(rt,be,R)=>{function o(Q){return Q}R.d(be,{y:()=>o})},1144:(rt,be,R)=>{R.d(be,{z:()=>o});const o=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(rt,be,R)=>{R.d(be,{D:()=>Q});var o=R(576);function Q(F){return Symbol.asyncIterator&&(0,o.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(rt,be,R)=>{function o(Q){return"function"==typeof Q}R.d(be,{m:()=>o})},3670:(rt,be,R)=>{R.d(be,{c:()=>F});var o=R(8822),Q=R(576);function F(oe){return(0,Q.m)(oe[o.L])}},6495:(rt,be,R)=>{R.d(be,{T:()=>F});var o=R(2202),Q=R(576);function F(oe){return(0,Q.m)(null==oe?void 0:oe[o.h])}},8239:(rt,be,R)=>{R.d(be,{t:()=>Q});var o=R(576);function Q(F){return(0,o.m)(null==F?void 0:F.then)}},3260:(rt,be,R)=>{R.d(be,{L:()=>oe,Q:()=>F});var o=R(5987),Q=R(576);function F(le){return(0,o.FC)(this,arguments,function*(){const X=le.getReader();try{for(;;){const{value:ce,done:fe}=yield(0,o.qq)(X.read());if(fe)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ce)}}finally{X.releaseLock()}})}function oe(le){return(0,Q.m)(null==le?void 0:le.getReader)}},3532:(rt,be,R)=>{R.d(be,{K:()=>Q});var o=R(576);function Q(F){return F&&(0,o.m)(F.schedule)}},4482:(rt,be,R)=>{R.d(be,{A:()=>Q,e:()=>F});var o=R(576);function Q(oe){return(0,o.m)(null==oe?void 0:oe.lift)}function F(oe){return le=>{if(Q(le))return le.lift(function(pe){try{return oe(pe,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,be,R)=>{function o(){}R.d(be,{Z:()=>o})},7849:(rt,be,R)=>{R.d(be,{h:()=>F});var o=R(2416),Q=R(3410);function F(oe){Q.z.setTimeout(()=>{const{onUnhandledError:le}=o.v;if(!le)throw oe;le(oe)})}},4532:(rt,be,R)=>{function o(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(be,{z:()=>o})},5987:(rt,be,R)=>{function ce($,te,de,ye){return new(de||(de=Promise))(function(ae,kt){function Kt(Rt){try{at(ye.next(Rt))}catch(Ci){kt(Ci)}}function Ri(Rt){try{at(ye.throw(Rt))}catch(Ci){kt(Ci)}}function at(Rt){Rt.done?ae(Rt.value):function ke(ae){return ae instanceof de?ae:new de(function(kt){kt(ae)})}(Rt.value).then(Kt,Ri)}at((ye=ye.apply($,te||[])).next())})}function he($){return this instanceof he?(this.v=$,this):new he($)}function me($,te,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ye=de.apply($,te||[]),ae=[];return ke={},kt("next"),kt("throw"),kt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function kt(Jt){ye[Jt]&&(ke[Jt]=function(Fi){return new Promise(function(Sn,wi){ae.push([Jt,Fi,Sn,wi])>1||Kt(Jt,Fi)})})}function Kt(Jt,Fi){try{!function Ri(Jt){Jt.value instanceof he?Promise.resolve(Jt.value.v).then(at,Rt):Ci(ae[0][2],Jt)}(ye[Jt](Fi))}catch(Sn){Ci(ae[0][3],Sn)}}function at(Jt){Kt("next",Jt)}function Rt(Jt){Kt("throw",Jt)}function Ci(Jt,Fi){Jt(Fi),ae.shift(),ae.length&&Kt(ae[0][0],ae[0][1])}}function je($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,te=$[Symbol.asyncIterator];return te?te.call($):($=function ie($){var te="function"==typeof Symbol&&Symbol.iterator,de=te&&$[te],ye=0;if(de)return de.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ye>=$.length&&($=void 0),{value:$&&$[ye++],done:!$}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}($),de={},ye("next"),ye("throw"),ye("return"),de[Symbol.asyncIterator]=function(){return this},de);function ye(ae){de[ae]=$[ae]&&function(kt){return new Promise(function(Kt,Ri){!function ke(ae,kt,Kt,Ri){Promise.resolve(Ri).then(function(at){ae({value:at,done:Kt})},kt)}(Kt,Ri,(kt=$[ae](kt)).done,kt.value)})}}}R.d(be,{FC:()=>me,KL:()=>je,mG:()=>ce,qq:()=>he})},5e3:(rt,be,R)=>{R.d(be,{$8M:()=>wn,$Z:()=>xp,AFp:()=>cE,ALo:()=>m_,AaK:()=>ce,BQk:()=>Vy,CHM:()=>ic,CRH:()=>WS,CZH:()=>dd,CqO:()=>Zg,DdM:()=>VS,EJc:()=>Nv,EiD:()=>Zh,EpF:()=>Op,F$t:()=>kw,F4k:()=>jc,FYo:()=>u_,FiY:()=>We,G48:()=>AO,Gf:()=>Yp,GfV:()=>UM,GkF:()=>Ow,Gpc:()=>G,Gre:()=>nv,Hsn:()=>Ap,Ikx:()=>t_,JOm:()=>Wo,JVY:()=>rf,L6k:()=>Tc,LAX:()=>eg,LFG:()=>Pn,LSH:()=>Bu,Lbi:()=>dE,MAs:()=>Ug,NdJ:()=>Ip,O4$:()=>lc,OlP:()=>Mn,Oqu:()=>Rp,PXZ:()=>EO,Q6J:()=>Mf,QGY:()=>Uy,Qsj:()=>d_,R0b:()=>Xo,RDi:()=>Bd,Rgc:()=>$p,SBq:()=>Vp,Sil:()=>P_,Suo:()=>Av,TTD:()=>rl,TgZ:()=>Ny,Udp:()=>Yy,VKq:()=>ad,VLi:()=>CO,WFA:()=>Ef,X6Q:()=>SR,XFs:()=>St,Xpm:()=>jt,Y36:()=>Dp,YKP:()=>FS,YNc:()=>Vc,Yjl:()=>dn,Yz7:()=>Sn,ZZ4:()=>Jp,_Bn:()=>zc,_UZ:()=>Ly,_Vd:()=>Bp,_c5:()=>kE,_uU:()=>Yw,aQg:()=>Xp,c2e:()=>fE,cJS:()=>yr,cg1:()=>cv,d8E:()=>lv,dDg:()=>F_,deG:()=>bu,dqk:()=>Wt,eBb:()=>Pu,eFA:()=>bE,ekj:()=>Do,f3M:()=>T,g9A:()=>fO,h0i:()=>jp,hGG:()=>lo,hij:()=>Xg,iGM:()=>Wp,ifc:()=>on,ip1:()=>Kp,kL8:()=>dM,kcU:()=>Hd,lG2:()=>Bt,lcZ:()=>Mv,mCW:()=>Ru,n5z:()=>La,n_E:()=>__,oAB:()=>we,oxw:()=>Pw,pB0:()=>tg,q3G:()=>Xn,q4F:()=>jM,qLn:()=>$u,qOj:()=>Cy,qZA:()=>Sp,qzn:()=>Sl,sBO:()=>kO,sIi:()=>Or,s_b:()=>jf,soG:()=>Zf,tBr:()=>De,tb:()=>hO,tp0:()=>dt,uIk:()=>bw,vHH:()=>Fe,vpe:()=>Qa,wAp:()=>xt,xp6:()=>fp,yhl:()=>qh,ynx:()=>By,z2F:()=>xo,z3N:()=>As,zSh:()=>Ig,zs3:()=>Ls});var o=R(7579),Q=R(727),F=R(8306),oe=R(6451),le=R(3099);function pe(a){for(let l in a)if(a[l]===pe)return l;throw Error("Could not find renamed property on target object.")}function X(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function fe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=pe({__forward_ref__:pe});function G(a){return a.__forward_ref__=G,a.toString=function(){return ce(this())},a}function ie(a){return Ge(a)?a():a}function Ge(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===G}class Fe extends Error{constructor(l,c){super(function qe(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function he(a){return"string"==typeof a?a:null==a?"":String(a)}function me(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():he(a)}function nt(a,l){const c=l?` in ${l}`:"";throw new Fe(-201,`No provider for ${me(a)} found${c}`)}function at(a,l){null==a&&function Rt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function Sn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function yr(a){return{providers:a.providers||[],imports:a.imports||[]}}function ii(a){return Wr(a,ms)||Wr(a,mn)}function Wr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Yl(a){return a&&(a.hasOwnProperty(Yr)||a.hasOwnProperty(qn))?a[Yr]:null}const ms=pe({\u0275prov:pe}),Yr=pe({\u0275inj:pe}),mn=pe({ngInjectableDef:pe}),qn=pe({ngInjectorDef:pe});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let Mi;function Se(a){const l=Mi;return Mi=a,l}function Ei(a,l,c){const d=ii(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&St.Optional?null:void 0!==l?l:void nt(ce(a),"Injector")}function Ki(a){return{toString:a}.toString()}var ln=(()=>((ln=ln||{})[ln.OnPush=0]="OnPush",ln[ln.Default=1]="Default",ln))(),on=(()=>{return(a=on||(on={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",on;var a})();const ft="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,Da="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=ft||"undefined"!=typeof global&&global||vt||Da,_o={},Ct=[],Rn=pe({\u0275cmp:pe}),bt=pe({\u0275dir:pe}),Kr=pe({\u0275pipe:pe}),it=pe({\u0275mod:pe}),Ce=pe({\u0275fac:pe}),ze=pe({__NG_ELEMENT_ID__:pe});let Vt=0;function jt(a){return Ki(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ct,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||on.Emulated,id:"c",styles:a.styles||Ct,_:null,setInput:null,schemas:a.schemas||null,tView:null},h=a.directives,_=a.features,v=a.pipes;return d.id+=Vt++,d.inputs=lt(a.inputs,c),d.outputs=lt(a.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(H):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(j):null,d})}function H(a){return _n(a)||function jn(a){return a[bt]||null}(a)}function j(a){return function ri(a){return a[Kr]||null}(a)}const Z={};function we(a){return Ki(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ct,declarations:a.declarations||Ct,imports:a.imports||Ct,exports:a.exports||Ct,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Z[a.id]=a.type),l})}function lt(a,l){if(null==a)return _o;const c={};for(const d in a)if(a.hasOwnProperty(d)){let h=a[d],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),c[h]=d,l&&(l[h]=_)}return c}const Bt=jt;function dn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function _n(a){return a[Rn]||null}function Ot(a,l){const c=a[it]||null;if(!c&&!0===l)throw new Error(`Type ${ce(a)} does not have '\u0275mod' property.`);return c}function ai(a){return Array.isArray(a)&&"object"==typeof a[1]}function Mr(a){return Array.isArray(a)&&!0===a[1]}function au(a){return 0!=(8&a.flags)}function Id(a){return 2==(2&a.flags)}function No(a){return 1==(1&a.flags)}function yo(a){return null!==a.template}function lu(a){return 0!=(512&a[2])}function bs(a,l){return a.hasOwnProperty(Ce)?a[Ce]:null}class Kl{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function rl(){return Qs}function Qs(a){return a.type.prototype.ngOnChanges&&(a.setInput=Nd),Sh}function Sh(){const a=Ql(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===_o)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Nd(a,l,c,d){const h=Ql(a)||function Ia(a,l){return a[Qi]=l}(a,{previous:_o,current:null}),_=h.current||(h.current={}),v=h.previous,w=this.declaredInputs[c],E=v[w];_[w]=new Kl(E&&E.currentValue,l,v===_o),a[d]=l}rl.ngInherit=!0;const Qi="__ngSimpleChanges__";function Ql(a){return a[Qi]||null}const sl="http://www.w3.org/2000/svg";let Jr;function Bd(a){Jr=a}function Nn(a){return!!a.listen}const ys={createRenderer:(a,l)=>function al(){return void 0!==Jr?Jr:"undefined"!=typeof document?document:void 0}()};function zn(a){for(;Array.isArray(a);)a=a[0];return a}function Li(a,l){return zn(l[a])}function cr(a,l){return zn(l[a.index])}function Lo(a,l){return a.data[l]}function vs(a,l){return a[l]}function Ji(a,l){const c=l[a];return ai(c)?c:c[0]}function In(a){return 4==(4&a[2])}function Co(a){return 128==(128&a[2])}function Rr(a,l){return null==l?null:a[l]}function ws(a){a[18]=0}function Pa(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Dt={lFrame:ml(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tc(){return Dt.bindingsEnabled}function Te(){return Dt.lFrame.lView}function en(){return Dt.lFrame.tView}function ic(a){return Dt.lFrame.contextLView=a,a[8]}function Dn(){let a=cl();for(;null!==a&&64===a.type;)a=a.parent;return a}function cl(){return Dt.lFrame.currentTNode}function Tr(a,l){const c=Dt.lFrame;c.currentTNode=a,c.isParent=l}function Bo(){return Dt.lFrame.isParent}function ul(){Dt.lFrame.isParent=!1}function ka(){return Dt.isInCheckNoChangesMode}function dl(a){Dt.isInCheckNoChangesMode=a}function gi(){const a=Dt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Fr(){return Dt.lFrame.bindingIndex++}function to(a){const l=Dt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Ud(a,l){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=a,fu(l)}function fu(a){Dt.lFrame.currentDirectiveIndex=a}function Xs(a){const l=Dt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function hu(){return Dt.lFrame.currentQueryIndex}function ea(a){Dt.lFrame.currentQueryIndex=a}function hl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function pl(a,l,c){if(c&St.SkipSelf){let h=l,_=a;for(;!(h=h.parent,null!==h||c&St.Host||(h=hl(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;l=h,a=_}const d=Dt.lFrame=Oh();return d.currentTNode=l,d.lView=a,!0}function ta(a){const l=Oh(),c=a[1];Dt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Oh(){const a=Dt.lFrame,l=null===a?null:a.child;return null===l?ml(a):l}function ml(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function pu(){const a=Dt.lFrame;return Dt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const gl=pu;function ac(){const a=pu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function li(){return Dt.lFrame.selectedIndex}function xi(a){Dt.lFrame.selectedIndex=a}function Hn(){const a=Dt.lFrame;return Lo(a.tView,a.selectedIndex)}function lc(){Dt.lFrame.currentNamespace=sl}function Hd(){!function Db(){Dt.lFrame.currentNamespace=null}()}function mu(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:O,ngOnDestroy:P}=_;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),O&&((a.viewHooks||(a.viewHooks=[])).push(c,O),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,O)),null!=P&&(a.destroyHooks||(a.destroyHooks=[])).push(c,P)}}function Es(a,l,c){Ah(a,l,3,c)}function uc(a,l,c,d){(3&a[2])===c&&Ah(a,l,c,d)}function dc(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Ah(a,l,c,d){const _=null!=d?d:-1,v=l.length-1;let w=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(w=l[E],null!=d&&w>=d)break}else l[E]<0&&(a[18]+=65536),(w<_||-1==_)&&(qd(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function qd(a,l,c,d){const h=c[d]<0,_=c[d+1],w=a[h?-c[d]:c[d]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class Wn{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function pc(a,l,c){const d=Nn(a);let h=0;for(;h<c.length;){const _=c[h];if("number"==typeof _){if(0!==_)break;h++;const v=c[h++],w=c[h++],E=c[h++];d?a.setAttribute(l,w,E,v):l.setAttributeNS(v,w,E)}else{const v=_,w=c[++h];Ts(v)?d&&a.setProperty(l,v,w):d?a.setAttribute(l,v,w):l.setAttribute(v,w),h++}}return h}function Ft(a){return 3===a||4===a||6===a}function Ts(a){return 64===a.charCodeAt(0)}function He(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const h=l[d];"number"==typeof h?c=h:0===c||ht(a,c,h,null,-1===c||2===c?l[++d]:null)}}return a}function ht(a,l,c,d,h){let _=0,v=a.length;if(-1===l)v=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===l){v=-1;break}if(w>l){v=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(a[_+1]=h));if(d===a[_+1])return void(a[_+2]=h)}_++,null!==d&&_++,null!==h&&_++}-1!==v&&(a.splice(v,0,l),_=v+1),a.splice(_++,0,c),null!==d&&a.splice(_++,0,d),null!==h&&a.splice(_++,0,h)}function Si(a){return-1!==a}function vn(a){return 32767&a}function Fa(a,l){let c=function Zd(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let gu=!0;function yl(a){const l=gu;return gu=a,l}let et=0;function gc(a,l){const c=Ds(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,_c(d.data,a),_c(l,null),_c(d.blueprint,null));const h=Cn(a,l),_=a.injectorIndex;if(Si(h)){const v=vn(h),w=Fa(h,l),E=w[1].data;for(let O=0;O<8;O++)l[_+O]=w[v+O]|E[v+O]}return l[_+8]=h,_}function _c(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ds(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Cn(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,h=l;for(;null!==h;){const _=h[1],v=_.type;if(d=2===v?_.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function xs(a,l,c){!function Zm(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ze)&&(d=c[ze]),null==d&&(d=c[ze]=et++);const h=255&d;l.data[a+(h>>5)]|=1<<h}(a,l,c)}function bc(a,l,c){if(c&St.Optional)return a;nt(l,"NodeInjector")}function _u(a,l,c,d){if(c&St.Optional&&void 0===d&&(d=null),0==(c&(St.Self|St.Host))){const h=a[9],_=Se(void 0);try{return h?h.get(l,d,c&St.Optional):Ei(l,d,c&St.Optional)}finally{Se(_)}}return bc(d,l,c)}function yc(a,l,c,d=St.Default,h){if(null!==a){const _=function Cl(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ze)?a[ze]:void 0;return"number"==typeof l?l>=0?255&l:Ss:l}(c);if("function"==typeof _){if(!pl(l,a,d))return d&St.Host?bc(h,c,d):_u(l,c,d,h);try{const v=_(d);if(null!=v||d&St.Optional)return v;nt(c)}finally{gl()}}else if("number"==typeof _){let v=null,w=Ds(a,l),E=-1,O=d&St.Host?l[16][6]:null;for((-1===w||d&St.SkipSelf)&&(E=-1===w?Cn(a,l):l[w+8],-1!==E&&Bi(d,!1)?(v=l[1],w=vn(E),l=Fa(E,l)):w=-1);-1!==w;){const P=l[1];if(Uo(_,w,P.data)){const L=Fh(w,l,c,v,d,O);if(L!==na)return L}E=l[w+8],-1!==E&&Bi(d,l[1].data[w+8]===O)&&Uo(_,w,l)?(v=P,w=vn(E),l=Fa(E,l)):w=-1}}}return _u(l,c,d,h)}const na={};function Ss(){return new $n(Dn(),Te())}function Fh(a,l,c,d,h,_){const v=l[1],w=v.data[a+8],P=Nr(w,v,c,null==d?Id(w)&&gu:d!=v&&0!=(3&w.type),h&St.Host&&_===w);return null!==P?dr(l,v,P,w):na}function Nr(a,l,c,d,h){const _=a.providerIndexes,v=l.data,w=1048575&_,E=a.directiveStart,P=_>>20,z=h?w+P:a.directiveEnd;for(let K=d?w:w+P;K<z;K++){const ge=v[K];if(K<E&&c===ge||K>=E&&ge.type===c)return K}if(h){const K=v[E];if(K&&yo(K)&&K.type===c)return E}return null}function dr(a,l,c,d){let h=a[c];const _=l.data;if(function Ph(a){return a instanceof Wn}(h)){const v=h;v.resolving&&function Ae(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${a}${c}`)}(me(_[c]));const w=yl(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Se(v.injectImpl):null;pl(a,d,St.Default);try{h=a[c]=v.factory(void 0,_,a,d),l.firstCreatePass&&c>=d.directiveStart&&function xb(a,l,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:_}=l.type.prototype;if(d){const v=Qs(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,h),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==E&&Se(E),yl(w),v.resolving=!1,gl()}}return h}function Uo(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Bi(a,l){return!(a&St.Self||a&St.Host&&l)}class $n{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return yc(this._tNode,this._lView,l,d,c)}}function La(a){return Ki(()=>{const l=a.prototype.constructor,c=l[Ce]||vc(l),d=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==d;){const _=h[Ce]||vc(h);if(_&&_!==c)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function vc(a){return Ge(a)?()=>{const l=vc(ie(a));return l&&l()}:bs(a)}function wn(a){return function vl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const _=c[h];if(Ft(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(_===l)return c[h+1];h+=2}}}return null}(Dn(),a)}const Jn="__parameters__";function Xi(a,l,c){return Ki(()=>{const d=function At(a){return function(...c){if(a){const d=a(...c);for(const h in d)this[h]=d[h]}}}(l);function h(..._){if(this instanceof h)return d.apply(this,_),this;const v=new h(..._);return w.annotation=v,w;function w(E,O,P){const L=E.hasOwnProperty(Jn)?E[Jn]:Object.defineProperty(E,Jn,{value:[]})[Jn];for(;L.length<=P;)L.push(null);return(L[P]=L[P]||[]).push(v),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}class Mn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bu=new Mn("AnalyzeForEntryComponents");function hr(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),hr(d,l)):l!==a&&l.push(d)}return l}function wo(a,l){a.forEach(c=>Array.isArray(c)?wo(c,l):l(c))}function Wd(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function vu(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function io(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function wt(a,l,c){let d=Dr(a,l);return d>=0?a[1|d]=c:(d=~d,function Ym(a,l,c,d){let h=a.length;if(h==l)a.push(c,d);else if(1===h)a.push(d,a[0]),a[0]=c;else{for(h--,a.push(a[h-1],a[h]);h>l;)a[h]=a[h-2],h--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function wu(a,l){const c=Dr(a,l);if(c>=0)return a[1|c]}function Dr(a,l){return function Va(a,l,c){let d=0,h=a.length>>c;for(;h!==d;){const _=d+(h-d>>1),v=a[_<<c];if(l===v)return _<<c;v>l?h=_:d=_+1}return~(h<<c)}(a,l,1)}const ui={},wc="__NG_DI_FLAG__",Mc="ngTempTokenPath",Is=/\n/gm,qo="__source",Su=pe({provide:String,useValue:pe});let El;function Ua(a){const l=El;return El=a,l}function oa(a,l=St.Default){if(void 0===El)throw new Fe(203,"");return null===El?Ei(a,void 0,l):El.get(a,l&St.Optional?null:void 0,l)}function Pn(a,l=St.Default){return(function Un(){return Mi}()||oa)(ie(a),l)}const T=Pn;function x(a){const l=[];for(let c=0;c<a.length;c++){const d=ie(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Fe(900,"");let h,_=St.Default;for(let v=0;v<d.length;v++){const w=d[v],E=B(w);"number"==typeof E?-1===E?h=w.token:_|=E:h=w}l.push(Pn(h,_))}else l.push(Pn(d))}return l}function A(a,l){return a[wc]=l,a.prototype[wc]=l,a}function B(a){return a[wc]}const De=A(Xi("Inject",a=>({token:a})),-1),We=A(Xi("Optional"),8),dt=A(Xi("SkipSelf"),4);let Dl;function $o(a){var l;return(null===(l=function zo(){if(void 0===Dl&&(Dl=null,Wt.trustedTypes))try{Dl=Wt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Dl}())||void 0===l?void 0:l.createHTML(a))||a}class Zo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ou extends Zo{getTypeName(){return"HTML"}}class Iu extends Zo{getTypeName(){return"Style"}}class nf extends Zo{getTypeName(){return"Script"}}class Hh extends Zo{getTypeName(){return"URL"}}class Au extends Zo{getTypeName(){return"ResourceURL"}}function As(a){return a instanceof Zo?a.changingThisBreaksApplicationSecurity:a}function Sl(a,l){const c=qh(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function qh(a){return a instanceof Zo&&a.getTypeName()||null}function rf(a){return new Ou(a)}function Tc(a){return new Iu(a)}function Pu(a){return new nf(a)}function eg(a){return new Hh(a)}function tg(a){return new Au(a)}class ku{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString($o(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Ib{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=$o(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=$o(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const ig=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ol=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ru(a){return(a=String(a)).match(ig)||a.match(Ol)?a:"unsafe:"+a}function Ps(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Dc(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const zh=Ps("area,br,col,hr,img,wbr"),rg=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),og=Ps("rp,rt"),$h=Dc(zh,Dc(rg,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dc(og,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dc(og,rg)),aa=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gh=Ps("srcset"),sg=Dc(aa,Gh,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fu=Ps("script,style,template");class Nu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!$h.hasOwnProperty(c))return this.sanitizedSomething=!0,!Fu.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let h=0;h<d.length;h++){const _=d.item(h),v=_.name,w=v.toLowerCase();if(!sg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=_.value;aa[w]&&(E=Ru(E)),Gh[w]&&(a=E,E=(a=String(a)).split(",").map(l=>Ru(l.trim())).join(", ")),this.buf.push(" ",v,'="',lf(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();$h.hasOwnProperty(c)&&!zh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(lf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Rb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function lf(a){return a.replace(/&/g,"&amp;").replace(Rb,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xc;function Zh(a,l){let c=null;try{xc=xc||function ng(a){const l=new Ib(a);return function Ab(){try{return!!(new window.DOMParser).parseFromString($o(""),"text/html")}catch(a){return!1}}()?new ku(l):l}(a);let d=l?String(l):"";c=xc.getInertBodyElement(d);let h=5,_=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=_,_=c.innerHTML,c=xc.getInertBodyElement(d)}while(d!==_);return $o((new Nu).sanitizeChildren(Lu(c)||c))}finally{if(c){const d=Lu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Lu(a){return"content"in a&&function Fb(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function Bu(a){const l=function Mo(){const a=Te();return a&&a[12]}();return l?l.sanitize(Xn.URL,a)||"":Sl(a,"URL")?As(a):Ru(he(a))}const Uu="__ngContext__";function Ii(a,l){a[Uu]=l}function Kh(a){const l=function ju(a){return a[Uu]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Xh(a){return a.ngOriginalError}function Rl(a,...l){a.error(...l)}class $u{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function ep(a){return a&&a.ngErrorLogger||Rl}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Xh(l);for(;c&&Xh(c);)c=Xh(c);return c||null}}const Sc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function la(a){return a instanceof Function?a():a}var Wo=(()=>((Wo=Wo||{})[Wo.Important=1]="Important",Wo[Wo.DashCase=2]="DashCase",Wo))();function Zu(a,l){return undefined(a,l)}function Yo(a){const l=a[3];return Mr(l)?l[3]:l}function Wu(a){return op(a[13])}function Nl(a){return op(a[4])}function op(a){for(;null!==a&&!Mr(a);)a=a[4];return a}function Oc(a,l,c,d,h){if(null!=d){let _,v=!1;Mr(d)?_=d:ai(d)&&(v=!0,d=d[0]);const w=zn(d);0===a&&null!==c?null==h?za(l,c,w):Ac(l,c,w,h||null,!0):1===a&&null!==c?Ac(l,c,w,h||null,!0):2===a?function ei(a,l,c){const d=m(a,l);d&&function p(a,l,c,d){Nn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,w,v):3===a&&l.destroyNode(w),null!=_&&function gr(a,l,c,d,h){const _=c[7];_!==zn(c)&&Oc(l,a,d,_,h);for(let w=10;w<c.length;w++){const E=c[w];Sr(E[1],E,a,l,d,_)}}(l,a,_,c,h)}}function ap(a,l,c){return Nn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function xr(a,l){const c=a[9],d=c.indexOf(l),h=l[3];1024&l[2]&&(l[2]&=-1025,Pa(h,-1)),c.splice(d,1)}function qa(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const h=d[17];null!==h&&h!==a&&xr(h,d),l>0&&(a[c-1][4]=d[4]);const _=vu(a,10+l);!function Xb(a,l){Sr(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=_[19];null!==v&&v.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function lp(a,l){if(!(256&l[2])){const c=l[11];Nn(c)&&c.destroyNode&&Sr(a,l,c,3,null,null),function Ic(a){let l=a[13];if(!l)return Ku(a[1],a);for(;l;){let c=null;if(ai(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ai(l)&&Ku(l[1],l),l=l[3];null===l&&(l=a),ai(l)&&Ku(l[1],l),c=l&&l[4]}l=c}}(l)}}function Ku(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function hf(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const h=l[c[d]];if(!(h instanceof Wn)){const _=c[d+1];if(Array.isArray(_))for(let v=0;v<_.length;v+=2){const w=h[_[v]],E=_[v+1];try{E.call(w)}finally{}}else try{_.call(h)}finally{}}}}(a,l),function ey(a,l){const c=a.cleanup,d=l[7];let h=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const v=c[_+1],w="function"==typeof v?v(l):zn(l[v]),E=d[h=c[_+2]],O=c[_+3];"boolean"==typeof O?w.removeEventListener(c[_],E,O):O>=0?d[h=O]():d[h=-O].unsubscribe(),_+=2}else{const v=d[h=c[_+1]];c[_].call(v)}if(null!==d){for(let _=h+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&Nn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Mr(l[3])){c!==l[3]&&xr(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function cp(a,l,c){return function pf(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const h=a.data[d.directiveStart].encapsulation;if(h===on.None||h===on.Emulated)return null}return cr(d,c)}(a,l.parent,c)}function Ac(a,l,c,d,h){Nn(a)?a.insertBefore(l,c,d,h):l.insertBefore(c,d,h)}function za(a,l,c){Nn(a)?a.appendChild(l,c):l.appendChild(c)}function b(a,l,c,d,h){null!==d?Ac(a,l,c,d,h):za(a,l,c)}function m(a,l){return Nn(a)?a.parentNode(l):l.parentNode}function D(a,l,c){return U(a,l,c)}let U=function I(a,l,c){return 40&a.type?cr(a,c):null};function Me(a,l,c,d){const h=cp(a,d,l),_=l[11],w=D(d.parent||l[6],d,l);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)b(_,h,c[E],w,!1);else b(_,h,c,w,!1)}function Ye(a,l){if(null!==l){const c=l.type;if(3&c)return cr(l,a);if(4&c)return zt(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Ye(a,d);{const h=a[l.index];return Mr(h)?zt(-1,h):zn(h)}}if(32&c)return Zu(l,a)()||zn(a[l.index]);{const d=Qe(a,l);return null!==d?Array.isArray(d)?d[0]:Ye(Yo(a[16]),d):Ye(a,l.next)}}return null}function Qe(a,l){return null!==l?a[16][6].projection[l.projection]:null}function zt(a,l){const c=10+a+1;if(c<l.length){const d=l[c],h=d[1].firstChild;if(null!==h)return Ye(d,h)}return l[7]}function mr(a,l,c,d,h,_,v){for(;null!=c;){const w=d[c.index],E=c.type;if(v&&0===l&&(w&&Ii(zn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)mr(a,l,c.child,d,h,_,!1),Oc(l,a,h,w,_);else if(32&E){const O=Zu(c,d);let P;for(;P=O();)Oc(l,a,h,P,_);Oc(l,a,h,w,_)}else 16&E?Nt(a,l,d,c,h,_):Oc(l,a,h,w,_);c=v?c.projectionNext:c.next}}function Sr(a,l,c,d,h,_){mr(c,d,a.firstChild,l,h,_,!1)}function Nt(a,l,c,d,h,_){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let O=0;O<E.length;O++)Oc(l,a,h,E[O],_);else mr(a,l,E,v[3],h,_,!0)}function Pc(a,l,c){Nn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function ti(a,l,c){Nn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function Eo(a,l,c){let d=a.length;for(;;){const h=a.indexOf(l,c);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const _=l.length;if(h+_===d||a.charCodeAt(h+_)<=32)return h}c=h+1}}const ty="ng-template";function _g(a,l,c){let d=0;for(;d<a.length;){let h=a[d++];if(c&&"class"===h){if(h=a[d],-1!==Eo(h.toLowerCase(),l,0))return!0}else if(1===h){for(;d<a.length&&"string"==typeof(h=a[d++]);)if(h.toLowerCase()===l)return!0;return!1}}return!1}function bg(a){return 4===a.type&&a.value!==ty}function QP(a,l,c){return l===(4!==a.type||c?a.value:ty)}function up(a,l,c){let d=4;const h=a.attrs||[],_=function XP(a){for(let l=0;l<a.length;l++)if(Ft(a[l]))return l;return a.length}(h);let v=!1;for(let w=0;w<l.length;w++){const E=l[w];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!QP(a,E,c)||""===E&&1===l.length){if(ca(d))return!1;v=!0}}else{const O=8&d?E:l[++w];if(8&d&&null!==a.attrs){if(!_g(a.attrs,O,c)){if(ca(d))return!1;v=!0}continue}const L=FD(8&d?"class":E,h,bg(a),c);if(-1===L){if(ca(d))return!1;v=!0;continue}if(""!==O){let z;z=L>_?"":h[L+1].toLowerCase();const K=8&d?z:null;if(K&&-1!==Eo(K,O,0)||2&d&&O!==z){if(ca(d))return!1;v=!0}}}}else{if(!v&&!ca(d)&&!ca(E))return!1;if(v&&ca(E))continue;v=!1,d=E|1&d}}return ca(d)||v}function ca(a){return 0==(1&a)}function FD(a,l,c,d){if(null===l)return-1;let h=0;if(d||!c){let _=!1;for(;h<l.length;){const v=l[h];if(v===a)return h;if(3===v||6===v)_=!0;else{if(1===v||2===v){let w=l[++h];for(;"string"==typeof w;)w=l[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=_?1:2}return-1}return function yg(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function AC(a,l,c=!1){for(let d=0;d<l.length;d++)if(up(a,l[d],c))return!0;return!1}function dp(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let h=0;h<a.length;h++)if(a[h]!==d[h])continue e;return!0}}return!1}function ND(a,l){return a?":not("+l.trim()+")":l}function ek(a){let l=a[0],c=1,d=2,h="",_=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const w=a[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ca(v)&&(l+=ND(_,h),h=""),d=v,_=_||!ca(d);c++}return""!==h&&(l+=ND(_,h)),l}const Ut={};function fp(a){ny(en(),Te(),li()+a,ka())}function ny(a,l,c,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Es(l,_,c)}else{const _=a.preOrderHooks;null!==_&&uc(l,_,0,c)}xi(c)}function iy(a,l){return a<<17|l<<2}function $a(a){return a>>17&32767}function ry(a){return 2|a}function kc(a){return(131068&a)>>2}function PC(a,l){return-131069&a|l<<2}function kC(a){return 1|a}function ZD(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],_=c[d+1];if(-1!==_){const v=a.data[_];ea(h),v.contentQueries(2,l[_],_)}}}function Cg(a,l,c,d,h,_,v,w,E,O){const P=l.blueprint.slice();return P[0]=h,P[2]=140|d,ws(P),P[3]=P[15]=a,P[8]=c,P[10]=v||a&&a[10],P[11]=w||a&&a[11],P[12]=E||a&&a[12]||null,P[9]=O||a&&a[9]||null,P[6]=_,P[16]=2==l.type?a[16]:P,P}function pp(a,l,c,d,h){let _=a.data[l];if(null===_)_=function HC(a,l,c,d,h){const _=cl(),v=Bo(),E=a.data[l]=function mk(a,l,c,d,h,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?_:_&&_.parent,c,l,d,h);return null===a.firstChild&&(a.firstChild=E),null!==_&&(v?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}(a,l,c,d,h),function du(){return Dt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=h;const v=function Js(){const a=Dt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===v?-1:v.injectorIndex}return Tr(_,!0),_}function mp(a,l,c,d){if(0===c)return-1;const h=l.length;for(let _=0;_<c;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return h}function wg(a,l,c){ta(l);try{const d=a.viewQuery;null!==d&&Tg(1,d,c);const h=a.template;null!==h&&WD(a,l,h,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&ZD(a,l),a.staticViewQueries&&Tg(2,a.viewQuery,c);const _=a.components;null!==_&&function fk(a,l){for(let c=0;c<l.length;c++)Hi(a,l[c])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,ac()}}function gp(a,l,c,d){const h=l[2];if(256==(256&h))return;ta(l);const _=ka();try{ws(l),function sc(a){return Dt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&WD(a,l,c,2,d);const v=3==(3&h);if(!_)if(v){const O=a.preOrderCheckHooks;null!==O&&Es(l,O,null)}else{const O=a.preOrderHooks;null!==O&&uc(l,O,0,null),dc(l,0)}if(function _p(a){for(let l=Wu(a);null!==l;l=Nl(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const h=c[d],_=h[3];0==(1024&h[2])&&Pa(_,1),h[2]|=1024}}}(l),function Sk(a){for(let l=Wu(a);null!==l;l=Nl(l))for(let c=10;c<l.length;c++){const d=l[c],h=d[1];Co(d)&&gp(h,d,h.template,d[8])}}(l),null!==a.contentQueries&&ZD(a,l),!_)if(v){const O=a.contentCheckHooks;null!==O&&Es(l,O)}else{const O=a.contentHooks;null!==O&&uc(l,O,1),dc(l,1)}!function uk(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)xi(~h);else{const _=h,v=c[++d],w=c[++d];Ud(v,_),w(2,l[_])}}}finally{xi(-1)}}(a,l);const w=a.components;null!==w&&function dk(a,l){for(let c=0;c<l.length;c++)GC(a,l[c])}(l,w);const E=a.viewQuery;if(null!==E&&Tg(2,E,d),!_)if(v){const O=a.viewCheckHooks;null!==O&&Es(l,O)}else{const O=a.viewHooks;null!==O&&uc(l,O,2),dc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Pa(l[3],-1))}finally{ac()}}function hk(a,l,c,d){const h=l[10],_=!ka(),v=In(l);try{_&&!v&&h.begin&&h.begin(),v&&wg(a,l,d),gp(a,l,c,d)}finally{_&&!v&&h.end&&h.end()}}function WD(a,l,c,d,h){const _=li(),v=2&d;try{xi(-1),v&&l.length>20&&ny(a,l,20,ka()),c(d,h)}finally{xi(_)}}function YD(a,l,c){if(au(l)){const h=l.directiveEnd;for(let _=l.directiveStart;_<h;_++){const v=a.data[_];v.contentQueries&&v.contentQueries(1,c[_],_)}}}function qC(a,l,c){!tc()||(function wk(a,l,c,d){const h=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||gc(c,l),Ii(d,l);const v=c.initialInputs;for(let w=h;w<_;w++){const E=a.data[w],O=yo(E);O&&ax(l,c,E);const P=dr(l,a,w,c);Ii(P,l),null!==v&&lx(0,w-h,P,E,0,v),O&&(Ji(c.index,l)[8]=P)}}(a,l,c,cr(c,l)),128==(128&c.flags)&&function Mk(a,l,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,w=function fl(){return Dt.lFrame.currentDirectiveIndex}();try{xi(v);for(let E=d;E<h;E++){const O=a.data[E],P=l[E];fu(E),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&ix(O,P)}}finally{xi(-1),fu(w)}}(a,l,c))}function zC(a,l,c=cr){const d=l.localNames;if(null!==d){let h=l.index+1;for(let _=0;_<d.length;_+=2){const v=d[_+1],w=-1===v?c(l,a):a[v];a[h++]=w}}}function KD(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=ly(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function ly(a,l,c,d,h,_,v,w,E,O){const P=20+d,L=P+h,z=function pk(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ut);return c}(P,L),K="function"==typeof O?O():O;return z[1]={type:a,blueprint:z,template:c,queries:null,viewQuery:w,declTNode:l,data:z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1}}function XD(a,l,c,d){const h=WC(l);null===c?h.push(d):(h.push(c),a.firstCreatePass&&fy(a).push(d,h.length-1))}function ex(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const h=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,h):c[d]=[l,h]}return c}function Fs(a,l,c,d,h,_,v,w){const E=cr(l,c);let P,O=l.inputs;!w&&null!=O&&(P=O[d])?(Sg(a,c,P,d,h),Id(l)&&function bk(a,l){const c=Ji(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function _k(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),h=null!=v?v(h,l.value||"",d):h,Nn(_)?_.setProperty(E,d,h):Ts(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function $C(a,l,c,d){let h=!1;if(tc()){const _=function Ek(a,l,c){const d=a.directiveRegistry;let h=null;if(d)for(let _=0;_<d.length;_++){const v=d[_];AC(c,v.selectors,!1)&&(h||(h=[]),xs(gc(c,l),a,v.type),yo(v)?(rx(a,c),h.unshift(v)):h.push(v))}return h}(a,l,c),v=null===d?null:{"":-1};if(null!==_){h=!0,ox(c,a.data.length,_.length);for(let P=0;P<_.length;P++){const L=_[P];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,O=mp(a,l,_.length,null);for(let P=0;P<_.length;P++){const L=_[P];c.mergedAttrs=He(c.mergedAttrs,L.hostAttrs),sx(a,c,l,O,L),Dk(O,L,v),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const z=L.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),O++}!function gk(a,l){const d=l.directiveEnd,h=a.data,_=l.attrs,v=[];let w=null,E=null;for(let O=l.directiveStart;O<d;O++){const P=h[O],L=P.inputs,z=null===_||bg(l)?null:cx(L,_);v.push(z),w=ex(L,O,w),E=ex(P.outputs,O,E)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=w,l.outputs=E}(a,c)}v&&function Tk(a,l,c){if(l){const d=a.localNames=[];for(let h=0;h<l.length;h+=2){const _=c[l[h+1]];if(null==_)throw new Fe(-301,`Export of name '${l[h+1]}' not found!`);d.push(l[h],_)}}}(c,d,v)}return c.mergedAttrs=He(c.mergedAttrs,c.attrs),h}function nx(a,l,c,d,h,_){const v=_.hostBindings;if(v){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const E=~l.index;(function Ck(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,h,v)}}function ix(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function rx(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Dk(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;yo(l)&&(c[""]=a)}}function ox(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function sx(a,l,c,d,h){a.data[d]=h;const _=h.factory||(h.factory=bs(h.type)),v=new Wn(_,yo(h),null);a.blueprint[d]=v,c[d]=v,nx(a,l,0,d,mp(a,c,h.hostVars,Ut),h)}function ax(a,l,c){const d=cr(l,a),h=KD(c),_=a[10],v=Ll(a,Cg(a,h,null,c.onPush?64:16,d,l,_,_.createRenderer(d,c),null,null));a[l.index]=v}function er(a,l,c,d,h,_){const v=cr(a,l);!function cy(a,l,c,d,h,_,v){if(null==_)Nn(a)?a.removeAttribute(l,h,c):l.removeAttribute(h);else{const w=null==v?he(_):v(_,d||"",h);Nn(a)?a.setAttribute(l,h,w,c):c?l.setAttributeNS(c,h,w):l.setAttribute(h,w)}}(l[11],v,_,a.value,c,d,h)}function lx(a,l,c,d,h,_){const v=_[l];if(null!==v){const w=d.setInput;for(let E=0;E<v.length;){const O=v[E++],P=v[E++],L=v[E++];null!==w?d.setInput(c,L,O,P):c[P]=L}}}function cx(a,l){let c=null,d=0;for(;d<l.length;){const h=l[d];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,a[h],l[d+1])),d+=2}else d+=2;else d+=4}return c}function ua(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function GC(a,l){const c=Ji(l,a);if(Co(c)){const d=c[1];80&c[2]?gp(d,c,d.template,c[8]):c[5]>0&&bp(c)}}function bp(a){for(let d=Wu(a);null!==d;d=Nl(d))for(let h=10;h<d.length;h++){const _=d[h];if(1024&_[2]){const v=_[1];gp(v,_,v.template,_[8])}else _[5]>0&&bp(_)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Ji(c[d],a);Co(h)&&h[5]>0&&bp(h)}}function Hi(a,l){const c=Ji(l,a),d=c[1];(function Ok(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),wg(d,c,c[8])}function Ll(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Mg(a){for(;a;){a[2]|=64;const l=Yo(a);if(lu(a)&&!l)return a;a=l}return null}function uy(a,l,c){const d=l[10];d.begin&&d.begin();try{gp(a,l,a.template,c)}catch(h){throw Rc(l,h),h}finally{d.end&&d.end()}}function ed(a){!function Xu(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Kh(c),h=d[1];hk(h,d,h.template,c)}}(a[8])}function Tg(a,l,c){ea(0),l(a,c)}const dy=(()=>Promise.resolve(null))();function WC(a){return a[7]||(a[7]=[])}function fy(a){return a.cleanup||(a.cleanup=[])}function xg(a,l,c){return(null===a||yo(a))&&(c=function Vd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Rc(a,l){const c=a[9],d=c?c.get($u,null):null;d&&d.handleError(l)}function Sg(a,l,c,d,h){for(let _=0;_<c.length;){const v=c[_++],w=c[_++],E=l[v],O=a.data[v];null!==O.setInput?O.setInput(E,h,d,w):E[w]=h}}function Ns(a,l,c){const d=Li(l,a);!function sp(a,l,c){Nn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function Fc(a,l,c){let d=c?a.styles:null,h=c?a.classes:null,_=0;if(null!==l)for(let v=0;v<l.length;v++){const w=l[v];"number"==typeof w?_=w:1==_?h=fe(h,w):2==_&&(d=fe(d,w+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=h:a.classesWithoutHost=h}const hy=new Mn("INJECTOR",-1);class $t{get(l,c=ui){if(c===ui){const d=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw d.name="NullInjectorError",d}return c}}const Ig=new Mn("Set Injector scope."),yp={},ux={};let vp;function py(){return void 0===vp&&(vp=new $t),vp}function KC(a,l=null,c=null,d){const h=QC(a,l,c,d);return h._resolveInjectorDefTypes(),h}function QC(a,l=null,c=null,d){return new Ag(a,c,l||py(),d)}class Ag{constructor(l,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&wo(c,w=>this.processProvider(w,l,c)),wo([l],w=>this.processInjectorType(w,[],_)),this.records.set(hy,nd(void 0,this));const v=this.records.get(Ig);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof l?null:ce(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=ui,d=St.Default){this.assertNotDestroyed();const h=Ua(this),_=Se(void 0);try{if(!(d&St.SkipSelf)){let w=this.records.get(l);if(void 0===w){const E=function fx(a){return"function"==typeof a||"object"==typeof a&&a instanceof Mn}(l)&&ii(l);w=E&&this.injectableDefInScope(E)?nd(JC(l),yp):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&St.Self?py():this.parent).get(l,c=d&St.Optional&&c===ui?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Mc]=v[Mc]||[]).unshift(ce(l)),h)throw v;return function Y(a,l,c,d){const h=a[Mc];throw l[qo]&&h.unshift(l[qo]),a.message=function ne(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let h=ce(l);if(Array.isArray(l))h=l.map(ce).join(" -> ");else if("object"==typeof l){let _=[];for(let v in l)if(l.hasOwnProperty(v)){let w=l[v];_.push(v+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${a.replace(Is,"\n  ")}`}("\n"+a.message,h,c,d),a.ngTokenPath=h,a[Mc]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Se(_),Ua(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,h)=>l.push(ce(h))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,"")}processInjectorType(l,c,d){if(!(l=ie(l)))return!1;let h=Yl(l);const _=null==h&&l.ngModule||void 0,v=void 0===_?l:_,w=-1!==d.indexOf(v);if(void 0!==_&&(h=Yl(_)),null==h)return!1;if(null!=h.imports&&!w){let P;d.push(v);try{wo(h.imports,L=>{this.processInjectorType(L,c,d)&&(void 0===P&&(P=[]),P.push(L))})}finally{}if(void 0!==P)for(let L=0;L<P.length;L++){const{ngModule:z,providers:K}=P[L];wo(K,ge=>this.processProvider(ge,z,K||Ct))}}this.injectorDefTypes.add(v);const E=bs(v)||(()=>new v);this.records.set(v,nd(E,yp));const O=h.providers;if(null!=O&&!w){const P=l;wo(O,L=>this.processProvider(L,P,O))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,d){let h=gf(l=ie(l))?l:ie(l&&l.provide);const _=function Pg(a,l,c){return kg(a)?nd(void 0,a.useValue):nd(my(a),yp)}(l);if(gf(l)||!0!==l.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=nd(void 0,yp,!0),v.factory=()=>x(v.multi),this.records.set(h,v)),h=l,v.multi.push(l)}this.records.set(h,_)}hydrate(l,c){return c.value===yp&&(c.value=ux,c.value=c.factory()),"object"==typeof c.value&&c.value&&function gy(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ie(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function JC(a){const l=ii(a),c=null!==l?l.factory:bs(a);if(null!==c)return c;if(a instanceof Mn)throw new Fe(204,"");if(a instanceof Function)return function XC(a){const l=a.length;if(l>0)throw io(l,"?"),new Fe(204,"");const c=function Po(a){const l=a&&(a[ms]||a[mn]);if(l){const c=function vr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Fe(204,"")}function my(a,l,c){let d;if(gf(a)){const h=ie(a);return bs(h)||JC(h)}if(kg(a))d=()=>ie(a.useValue);else if(function tw(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...x(a.deps||[]));else if(function ew(a){return!(!a||!a.useExisting)}(a))d=()=>Pn(ie(a.useExisting));else{const h=ie(a&&(a.useClass||a.provide));if(!function Ak(a){return!!a.deps}(a))return bs(h)||JC(h);d=()=>new h(...x(a.deps))}return d}function nd(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function kg(a){return null!==a&&"object"==typeof a&&Su in a}function gf(a){return"function"==typeof a}let Ls=(()=>{class a{static create(c,d){var h;if(Array.isArray(c))return KC({name:""},d,c,"");{const _=null!==(h=c.name)&&void 0!==h?h:"";return KC({name:_},c.parent,c.providers,_)}}}return a.THROW_IF_NOT_FOUND=ui,a.NULL=new $t,a.\u0275prov=Sn({token:a,providedIn:"any",factory:()=>Pn(hy)}),a.__NG_ELEMENT_ID__=-1,a})();function gx(a,l){mu(Kh(a)[1],Dn())}function Cy(a){let l=function _x(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let h;if(yo(a))h=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Fe(903,"");h=l.\u0275dir}if(h){if(c){d.push(h);const v=a;v.inputs=Nc(a.inputs),v.declaredInputs=Nc(a.declaredInputs),v.outputs=Nc(a.outputs);const w=h.hostBindings;w&&pw(a,w);const E=h.viewQuery,O=h.contentQueries;if(E&&Bk(a,E),O&&hw(a,O),X(a.inputs,h.inputs),X(a.declaredInputs,h.declaredInputs),X(a.outputs,h.outputs),yo(h)&&h.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let v=0;v<_.length;v++){const w=_[v];w&&w.ngInherit&&w(a),w===Cy&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Rg(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const h=a[d];h.hostVars=l+=h.hostVars,h.hostAttrs=He(h.hostAttrs,c=He(c,h.hostAttrs))}}(d)}function Nc(a){return a===_o?{}:a===Ct?[]:a}function Bk(a,l){const c=a.viewQuery;a.viewQuery=c?(d,h)=>{l(d,h),c(d,h)}:l}function hw(a,l){const c=a.contentQueries;a.contentQueries=c?(d,h,_)=>{l(d,h,_),c(d,h,_)}:l}function pw(a,l){const c=a.hostBindings;a.hostBindings=c?(d,h)=>{l(d,h),c(d,h)}:l}let wp=null;function _f(){if(!wp){const a=Wt.Symbol;if(a&&a.iterator)wp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(wp=d)}}}return wp}function Or(a){return!!Fg(a)&&(Array.isArray(a)||!(a instanceof Map)&&_f()in a)}function Fg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Tt(a,l,c){return a[l]=c}function qi(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function bw(a,l,c,d){const h=Te();return qi(h,Fr(),l)&&(en(),er(Hn(),h,a,l,c,d)),bw}function Mp(a,l,c,d){return qi(a,Fr(),c)?l+he(c)+d:Ut}function Vc(a,l,c,d,h,_,v,w){const E=Te(),O=en(),P=a+20,L=O.firstCreatePass?function yx(a,l,c,d,h,_,v,w,E){const O=l.consts,P=pp(l,a,4,v||null,Rr(O,w));$C(l,c,P,Rr(O,E)),mu(l,P);const L=P.tViews=ly(2,P,d,h,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,O);return null!==l.queries&&(l.queries.template(l,P),L.queries=l.queries.embeddedTView(P)),P}(P,O,E,l,c,d,h,_,v):O.data[P];Tr(L,!1);const z=E[11].createComment("");Me(O,E,z,L),Ii(z,E),Ll(E,E[P]=ua(z,E,z,L)),No(L)&&qC(O,E,L),null!=v&&zC(E,L,w)}function Ug(a){return vs(function oc(){return Dt.lFrame.contextLView}(),20+a)}function Dp(a,l=St.Default){const c=Te();return null===c?Pn(a,l):yc(Dn(),c,ie(a),l)}function xp(){throw new Error("invalid")}function Mf(a,l,c){const d=Te();return qi(d,Fr(),l)&&Fs(en(),Hn(),d,a,l,d[11],c,!1),Mf}function Gg(a,l,c,d,h){const v=h?"class":"style";Sg(a,c,l.inputs[v],v,d)}function Ny(a,l,c,d){const h=Te(),_=en(),v=20+a,w=h[11],E=h[v]=ap(w,l,function cc(){return Dt.lFrame.currentNamespace}()),O=_.firstCreatePass?function Sw(a,l,c,d,h,_,v){const w=l.consts,O=pp(l,a,2,h,Rr(w,_));return $C(l,c,O,Rr(w,v)),null!==O.attrs&&Fc(O,O.attrs,!1),null!==O.mergedAttrs&&Fc(O,O.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,O),O}(v,_,h,0,l,c,d):_.data[v];Tr(O,!0);const P=O.mergedAttrs;null!==P&&pc(w,E,P);const L=O.classes;null!==L&&ti(w,E,L);const z=O.styles;null!==z&&Pc(w,E,z),64!=(64&O.flags)&&Me(_,h,E,O),0===function ec(){return Dt.lFrame.elementDepthCount}()&&Ii(E,h),function Ms(){Dt.lFrame.elementDepthCount++}(),No(O)&&(qC(_,h,O),YD(_,O,h)),null!==d&&zC(h,O)}function Sp(){let a=Dn();Bo()?ul():(a=a.parent,Tr(a,!1));const l=a;!function ll(){Dt.lFrame.elementDepthCount--}();const c=en();c.firstCreatePass&&(mu(c,a),au(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function $d(a){return 0!=(16&a.flags)}(l)&&Gg(c,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function bl(a){return 0!=(32&a.flags)}(l)&&Gg(c,l,Te(),l.stylesWithoutHost,!1)}function Ly(a,l,c,d){Ny(a,l,c,d),Sp()}function By(a,l,c){const d=Te(),h=en(),_=a+20,v=h.firstCreatePass?function Tx(a,l,c,d,h){const _=l.consts,v=Rr(_,d),w=pp(l,a,8,"ng-container",v);return null!==v&&Fc(w,v,!0),$C(l,c,w,Rr(_,h)),null!==l.queries&&l.queries.elementStart(l,w),w}(_,h,d,l,c):h.data[_];Tr(v,!0);const w=d[_]=d[11].createComment("");Me(h,d,w,v),Ii(w,d),No(v)&&(qC(h,d,v),YD(h,v,d)),null!=c&&zC(d,v)}function Vy(){let a=Dn();const l=en();Bo()?ul():(a=a.parent,Tr(a,!1)),l.firstCreatePass&&(mu(l,a),au(a)&&l.queries.elementEnd(a))}function Ow(a,l,c){By(a,l,c),Vy()}function Op(){return Te()}function Uy(a){return!!a&&"function"==typeof a.then}function jc(a){return!!a&&"function"==typeof a.subscribe}const Zg=jc;function Ip(a,l,c,d){const h=Te(),_=en(),v=Dn();return Iw(_,h,h[11],v,a,l,!!c,d),Ip}function Ef(a,l){const c=Dn(),d=Te(),h=en();return Iw(h,d,xg(Xs(h.data),c,d),c,a,l,!1),Ef}function Iw(a,l,c,d,h,_,v,w){const E=No(d),P=a.firstCreatePass&&fy(a),L=l[8],z=WC(l);let K=!0;if(3&d.type||w){const $e=cr(d,l),st=w?w($e):$e,Ee=z.length,Mt=w?sn=>w(zn(sn[d.index])):d.index;if(Nn(c)){let sn=null;if(!w&&E&&(sn=function Dx(a,l,c,d){const h=a.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const v=h[_];if(v===c&&h[_+1]===d){const w=l[7],E=h[_+2];return w.length>E?w[E]:null}"string"==typeof v&&(_+=2)}return null}(a,l,h,d.index)),null!==sn)(sn.__ngLastListenerFn__||sn).__ngNextListenerFn__=_,sn.__ngLastListenerFn__=_,K=!1;else{_=jy(d,l,L,_,!1);const kn=c.listen(st,h,_);z.push(_,kn),P&&P.push(h,Mt,Ee,Ee+1)}}else _=jy(d,l,L,_,!0),st.addEventListener(h,_,v),z.push(_),P&&P.push(h,Mt,Ee,v)}else _=jy(d,l,L,_,!1);const ge=d.outputs;let Ue;if(K&&null!==ge&&(Ue=ge[h])){const $e=Ue.length;if($e)for(let st=0;st<$e;st+=2){const So=l[Ue[st]][Ue[st+1]].subscribe(_),pd=z.length;z.push(_,So),P&&P.push(h,d.index,pd,-(pd+1))}}}function Aw(a,l,c,d){try{return!1!==c(d)}catch(h){return Rc(a,h),!1}}function jy(a,l,c,d,h){return function _(v){if(v===Function)return d;const w=2&a.flags?Ji(a.index,l):l;0==(32&l[2])&&Mg(w);let E=Aw(l,0,d,v),O=_.__ngNextListenerFn__;for(;O;)E=Aw(l,0,O,v)&&E,O=O.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Pw(a=1){return function jd(a){return(Dt.lFrame.contextLView=function Ih(a,l){for(;a>0;)l=l[15],a--;return l}(a,Dt.lFrame.contextLView))[8]}(a)}function Hy(a,l){let c=null;const d=function JP(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let h=0;h<l.length;h++){const _=l[h];if("*"!==_){if(null===d?AC(a,_,!0):dp(d,_))return h}else c=h}return c}function kw(a){const l=Te()[16][6];if(!l.projection){const d=l.projection=io(a?a.length:1,null),h=d.slice();let _=l.child;for(;null!==_;){const v=a?Hy(_,a):0;null!==v&&(h[v]?h[v].projectionNext=_:d[v]=_,h[v]=_),_=_.next}}}function Ap(a,l=0,c){const d=Te(),h=en(),_=pp(h,20+a,16,null,c||null);null===_.projection&&(_.projection=l),ul(),64!=(64&_.flags)&&function Rs(a,l,c){Nt(l[11],0,l,c,cp(a,c,l),D(c.parent||l[6],c,l))}(h,d,_)}function $y(a,l,c,d,h){const _=a[c+1],v=null===l;let w=d?$a(_):kc(_),E=!1;for(;0!==w&&(!1===E||v);){const P=a[w+1];Ox(a[w],l)&&(E=!0,a[w+1]=d?kC(P):ry(P)),w=d?$a(P):kc(P)}E&&(a[c+1]=d?ry(_):kC(_))}function Ox(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Dr(a,l)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vw(a){return a.substring(tr.key,tr.keyEnd)}function Gy(a,l){const c=tr.textEnd;return c===l?-1:(l=tr.keyEnd=function Wy(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,tr.key=l,c),Df(a,l,c))}function Df(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Yy(a,l,c){return pa(a,l,c,!1),Yy}function Do(a,l){return pa(a,l,null,!0),Do}function Za(a,l){for(let c=function Ax(a){return function Zy(a){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=a.length}(a),Gy(a,Df(a,0,tr.textEnd))}(l);c>=0;c=Gy(l,c))wt(a,Vw(l),!0)}function pa(a,l,c,d){const h=Te(),_=en(),v=to(2);_.firstUpdatePass&&zw(_,a,v,d),l!==Ut&&qi(h,v,l)&&Qy(_,_.data[li()],h,h[11],a,h[v+1]=function Jg(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ce(As(a)))),a}(l,c),d,v)}function qw(a,l){return l>=a.expandoStartIndex}function zw(a,l,c,d){const h=a.data;if(null===h[c+1]){const _=h[li()],v=qw(a,c);Jy(_,d)&&null===l&&!v&&(l=!1),l=function Kg(a,l,c,d){const h=Xs(a);let _=d?l.residualClasses:l.residualStyles;if(null===h)0===(d?l.classBindings:l.styleBindings)&&(c=jr(c=Qg(null,a,l,c,d),l.attrs,d),_=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==h)if(c=Qg(h,a,l,c,d),null===_){let E=function Nx(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==kc(d))return a[$a(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=Qg(null,a,l,E[1],d),E=jr(E,l.attrs,d),function $w(a,l,c,d){a[$a(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else _=function Gw(a,l,c){let d;const h=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<h;_++)d=jr(d,a[_].hostAttrs,c);return jr(d,l.attrs,c)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(h,_,l,d),function Bw(a,l,c,d,h,_){let v=_?l.classBindings:l.styleBindings,w=$a(v),E=kc(v);a[d]=c;let P,O=!1;if(Array.isArray(c)){const L=c;P=L[1],(null===P||Dr(L,P)>0)&&(O=!0)}else P=c;if(h)if(0!==E){const z=$a(a[w+1]);a[d+1]=iy(z,w),0!==z&&(a[z+1]=PC(a[z+1],d)),a[w+1]=function tk(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=iy(w,0),0!==w&&(a[w+1]=PC(a[w+1],d)),w=d;else a[d+1]=iy(E,0),0===w?w=d:a[E+1]=PC(a[E+1],d),E=d;O&&(a[d+1]=ry(a[d+1])),$y(a,P,d,!0),$y(a,P,d,!1),function zy(a,l,c,d,h){const _=h?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Dr(_,l)>=0&&(c[d+1]=kC(c[d+1]))}(l,P,a,d,_),v=iy(w,E),_?l.classBindings=v:l.styleBindings=v}(h,_,l,c,v,d)}}function Qg(a,l,c,d,h){let _=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(_=l[w],d=jr(d,_.hostAttrs,h),_!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function jr(a,l,c){const d=c?1:2;let h=-1;if(null!==l)for(let _=0;_<l.length;_++){const v=l[_];"number"==typeof v?h=v:h===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),wt(a,v,!!c||l[++_]))}return void 0===a?null:a}function Qy(a,l,c,d,h,_,v,w){if(!(3&l.type))return;const E=a.data,O=E[w+1];kp(function UD(a){return 1==(1&a)}(O)?Ww(E,l,c,h,kc(O),v):void 0)||(kp(_)||function VD(a){return 2==(2&a)}(O)&&(_=Ww(E,null,c,h,w,v)),function mf(a,l,c,d,h){const _=Nn(a);if(l)h?_?a.addClass(c,d):c.classList.add(d):_?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Wo.DashCase;if(null==h)_?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),v|=Wo.Important),_?a.setStyle(c,d,h,v):c.style.setProperty(d,h,w?"important":"")}}}(d,v,Li(li(),c),h,_))}function Ww(a,l,c,d,h,_){const v=null===l;let w;for(;h>0;){const E=a[h],O=Array.isArray(E),P=O?E[1]:E,L=null===P;let z=c[h+1];z===Ut&&(z=L?Ct:void 0);let K=L?wu(z,d):P===d?z:void 0;if(O&&!kp(K)&&(K=wu(E,d)),kp(K)&&(w=K,v))return w;const ge=a[h+1];h=v?$a(ge):kc(ge)}if(null!==l){let E=_?l.residualClasses:l.residualStyles;null!=E&&(w=wu(E,d))}return w}function kp(a){return void 0!==a}function Jy(a,l){return 0!=(a.flags&(l?16:32))}function Yw(a,l=""){const c=Te(),d=en(),h=a+20,_=d.firstCreatePass?pp(d,h,1,l,null):d.data[h],v=c[h]=function ks(a,l){return Nn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);Me(d,c,v,_),Tr(_,!1)}function Rp(a){return Xg("",a,""),Rp}function Xg(a,l,c){const d=Te(),h=Mp(d,a,l,c);return h!==Ut&&Ns(d,li(),h),Xg}function nv(a,l,c){!function Qo(a,l,c,d){const h=en(),_=to(2);h.firstUpdatePass&&zw(h,null,_,d);const v=Te();if(c!==Ut&&qi(v,_,c)){const w=h.data[li()];if(Jy(w,d)&&!qw(h,_)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=fe(E,c||"")),Gg(h,w,v,c,d)}else!function Lx(a,l,c,d,h,_,v,w){h===Ut&&(h=Ct);let E=0,O=0,P=0<h.length?h[0]:null,L=0<_.length?_[0]:null;for(;null!==P||null!==L;){const z=E<h.length?h[E+1]:void 0,K=O<_.length?_[O+1]:void 0;let Ue,ge=null;P===L?(E+=2,O+=2,z!==K&&(ge=L,Ue=K)):null===L||null!==P&&P<L?(E+=2,ge=P):(O+=2,ge=L,Ue=K),null!==ge&&Qy(a,l,c,d,ge,Ue,v,w),P=E<h.length?h[E]:null,L=O<_.length?_[O]:null}}(h,w,v,v[11],v[_+1],v[_+1]=function xf(a,l,c){if(null==c||""===c)return Ct;const d=[],h=As(c);if(Array.isArray(h))for(let _=0;_<h.length;_++)a(d,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&a(d,_,h[_]);else"string"==typeof h&&l(d,h);return d}(a,l,c),d,_)}}(wt,Za,Mp(Te(),a,l,c),!0)}function t_(a,l,c){const d=Te();return qi(d,Fr(),l)&&Fs(en(),Hn(),d,a,l,d[11],c,!0),t_}function lv(a,l,c){const d=Te();if(qi(d,Fr(),l)){const _=en(),v=Hn();Fs(_,v,d,a,l,xg(Xs(_.data),v,d),c,!0)}return lv}const Hc=void 0;var Zx=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gx(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Sf={};function cv(a){const l=function Yx(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Jo(l);if(c)return c;const d=l.split("-")[0];if(c=Jo(d),c)return c;if("en"===d)return Zx;throw new Error(`Missing locale data for the locale "${a}".`)}function dM(a){return cv(a)[xt.PluralCase]}function Jo(a){return a in Sf||(Sf[a]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[a]),Sf[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const uv="en-US";let fM=uv;function kM(a,l,c,d,h){if(a=ie(a),Array.isArray(a))for(let _=0;_<a.length;_++)kM(a[_],l,c,d,h);else{const _=en(),v=Te();let w=gf(a)?a:ie(a.provide),E=my(a);const O=Dn(),P=1048575&O.providerIndexes,L=O.directiveStart,z=O.providerIndexes>>20;if(gf(a)||!a.multi){const K=new Wn(E,h,Dp),ge=bv(w,l,h?P:P+z,L);-1===ge?(xs(gc(O,v),_,w),RM(_,a,l.length),l.push(w),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),c.push(K),v.push(K)):(c[ge]=K,v[ge]=K)}else{const K=bv(w,l,P+z,L),ge=bv(w,l,P,P+z),Ue=K>=0&&c[K],$e=ge>=0&&c[ge];if(h&&!$e||!h&&!Ue){xs(gc(O,v),_,w);const st=function DS(a,l,c,d,h){const _=new Wn(a,c,Dp);return _.multi=[],_.index=l,_.componentProviders=0,Rf(_,h,d&&!c),_}(h?TS:ES,c.length,h,d,E);!h&&$e&&(c[ge].providerFactory=st),RM(_,a,l.length,0),l.push(w),O.directiveStart++,O.directiveEnd++,h&&(O.providerIndexes+=1048576),c.push(st),v.push(st)}else RM(_,a,K>-1?K:ge,Rf(c[h?ge:K],E,!h&&d));!h&&d&&$e&&c[ge].componentProviders++}}}function RM(a,l,c,d){const h=gf(l),_=function dx(a){return!!a.useClass}(l);if(h||_){const E=(_?ie(l.useClass):l).prototype.ngOnDestroy;if(E){const O=a.destroyHooks||(a.destroyHooks=[]);if(!h&&l.multi){const P=O.indexOf(c);-1===P?O.push(c,[d,E]):O[P+1].push(d,E)}else O.push(c,E)}}}function Rf(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function bv(a,l,c,d){for(let h=c;h<d;h++)if(l[h]===a)return h;return-1}function ES(a,l,c,d){return yv(this.multi,[])}function TS(a,l,c,d){const h=this.multi;let _;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=dr(c,c[1],this.providerFactory.index,d);_=w.slice(0,v),yv(h,_);for(let E=v;E<w.length;E++)_.push(w[E])}else _=[],yv(h,_);return _}function yv(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function zc(a,l=[]){return c=>{c.providersResolver=(d,h)=>function _v(a,l,c){const d=en();if(d.firstCreatePass){const h=yo(a);kM(c,d.data,d.blueprint,h,!0),kM(l,d.data,d.blueprint,h,!1)}}(d,h?h(a):a,l)}}class NM{}class Lp{resolveComponentFactory(l){throw function xS(a){const l=Error(`No component factory found for ${ce(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Bp=(()=>{class a{}return a.NULL=new Lp,a})();function BM(){return Ff(Dn(),Te())}function Ff(a,l){return new Vp(cr(a,l))}let Vp=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=BM,a})();function oR(a){return a instanceof Vp?a.nativeElement:a}class u_{}let d_=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function OS(){const a=Te(),c=Ji(Dn().index,a);return function VM(a){return a[11]}(ai(c)?c:a)}(),a})(),aR=(()=>{class a{}return a.\u0275prov=Sn({token:a,providedIn:"root",factory:()=>null}),a})();class UM{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const jM=new UM("13.1.3"),Nf={};function f_(a,l,c,d,h=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(zn(_)),Mr(_))for(let w=10;w<_.length;w++){const E=_[w],O=E[1].firstChild;null!==O&&f_(E[1],E,O,d)}const v=c.type;if(8&v)f_(a,l,c.child,d);else if(32&v){const w=Zu(c,l);let E;for(;E=w();)d.push(E)}else if(16&v){const w=Qe(l,c);if(Array.isArray(w))d.push(...w);else{const E=Yo(l[16]);f_(E[1],E,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class Up{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return f_(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Mr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(qa(l,d),vu(c,d))}this._attachedToViewContainer=!1}lp(this._lView[1],this._lView)}onDestroy(l){XD(this._lView[1],this._lView,null,l)}markForCheck(){Mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Eg(a,l,c){dl(!0);try{uy(a,l,c)}finally{dl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ur(a,l){Sr(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=l}}class IS extends Up{constructor(l){super(l),this._view=l}detectChanges(){ed(this._view)}checkNoChanges(){!function td(a){dl(!0);try{ed(a)}finally{dl(!1)}}(this._view)}get context(){return null}}class AS extends Bp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=_n(l);return new h_(c,this.ngModule)}}function HM(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const kS=new Mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sc});class h_ extends NM{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function LD(a){return a.map(ek).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return HM(this.componentDef.inputs)}get outputs(){return HM(this.componentDef.outputs)}create(l,c,d,h){const _=(h=h||this.ngModule)?function RS(a,l){return{get:(c,d,h)=>{const _=a.get(c,Nf,h);return _!==Nf||d===Nf?_:l.get(c,d,h)}}}(l,h.injector):l,v=_.get(u_,ys),w=_.get(aR,null),E=v.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",P=d?function JD(a,l,c){if(Nn(a))return a.selectRootElement(l,c===on.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):ap(v.createRenderer(null,this.componentDef),O,function PS(a){const l=a.toLowerCase();return"svg"===l?sl:"math"===l?"http://www.w3.org/1998/MathML/":null}(O)),L=this.componentDef.onPush?576:528,z=function fw(a,l){return{components:[],scheduler:a||Sc,clean:dy,playerHandler:l||null,flags:0}}(),K=ly(0,null,null,1,0,null,null,null,null,null),ge=Cg(null,K,z,L,null,null,v,E,w,_);let Ue,$e;ta(ge);try{const st=function uw(a,l,c,d,h,_){const v=c[1];c[20]=a;const E=pp(v,20,2,"#host",null),O=E.mergedAttrs=l.hostAttrs;null!==O&&(Fc(E,O,!0),null!==a&&(pc(h,a,O),null!==E.classes&&ti(h,a,E.classes),null!==E.styles&&Pc(h,a,E.styles)));const P=d.createRenderer(a,l),L=Cg(c,KD(l),null,l.onPush?64:16,c[20],E,d,P,_||null,null);return v.firstCreatePass&&(xs(gc(E,c),v,l.type),rx(v,E),ox(E,c.length,1)),Ll(c,L),c[20]=L}(P,this.componentDef,ge,v,E);if(P)if(d)pc(E,P,["ng-version",jM.full]);else{const{attrs:Ee,classes:Mt}=function BD(a){const l=[],c=[];let d=1,h=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===h?""!==_&&l.push(_,a[++d]):8===h&&c.push(_);else{if(!ca(h))break;h=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ee&&pc(E,P,Ee),Mt&&Mt.length>0&&ti(E,P,Mt.join(" "))}if($e=Lo(K,20),void 0!==c){const Ee=$e.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const sn=c[Mt];Ee.push(null!=sn?Array.from(sn):null)}}Ue=function dw(a,l,c,d,h){const _=c[1],v=function vk(a,l,c){const d=Dn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),sx(a,d,l,mp(a,l,1,null),c));const h=dr(l,a,d.directiveStart,d);Ii(h,l);const _=cr(d,l);return _&&Ii(_,l),h}(_,c,l);if(d.components.push(v),a[8]=v,h&&h.forEach(E=>E(v,l)),l.contentQueries){const E=Dn();l.contentQueries(1,v,E.directiveStart)}const w=Dn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(xi(w.index),nx(c[1],w,0,w.directiveStart,w.directiveEnd,l),ix(l,v)),v}(st,this.componentDef,ge,z,[gx]),wg(K,ge,null)}finally{ac()}return new cR(this.componentType,Ue,Ff($e,ge),ge,$e)}}class cR extends class FM{}{constructor(l,c,d,h,_){super(),this.location=d,this._rootLView=h,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new IS(h),this.componentType=l}get injector(){return new $n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class jp{}class FS{}const Lf=new Map;class BS extends jp{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AS(this);const d=Ot(l);this._bootstrapComponents=la(d.bootstrap),this._r3Injector=QC(l,c,[{provide:jp,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver}],ce(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ls.THROW_IF_NOT_FOUND,d=St.Default){return l===Ls||l===jp||l===hy?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class qM extends FS{constructor(l){super(),this.moduleType=l,null!==Ot(l)&&function NS(a){const l=new Set;!function c(d){const h=Ot(d,!0),_=h.id;null!==_&&(function Bf(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${ce(l)} vs ${ce(l.name)}`)}(_,Lf.get(_),d),Lf.set(_,d));const v=la(h.imports);for(const w of v)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new BS(this.moduleType,l)}}function VS(a,l,c){const d=gi()+a,h=Te();return h[d]===Ut?Tt(h,d,c?l.call(c):l()):function Bn(a,l){return a[l]}(h,d)}function ad(a,l,c,d){return ld(Te(),gi(),a,l,c,d)}function ld(a,l,c,d,h,_){const v=l+c;return qi(a,v,h)?Tt(a,v+1,_?d.call(_,h):d(h)):function Ya(a,l){const c=a[l];return c===Ut?void 0:c}(a,v+1)}function m_(a,l){const c=en();let d;const h=a+20;c.firstCreatePass?(d=function wv(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const _=d.factory||(d.factory=bs(d.type)),v=Se(Dp);try{const w=yl(!1),E=_();return yl(w),function yw(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Te(),h,E),E}finally{Se(v)}}function Mv(a,l,c){const d=a+20,h=Te(),_=vs(h,d);return function g_(a,l){return a[1].data[l].pure}(h,d)?ld(h,gi(),l,_.transform,c,_):_.transform(c)}function xv(a){return l=>{setTimeout(a,void 0,l)}}const Qa=class Dv extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var h,_,v;let w=l,E=c||(()=>null),O=d;if(l&&"object"==typeof l){const L=l;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),E=null===(_=L.error)||void 0===_?void 0:_.bind(L),O=null===(v=L.complete)||void 0===v?void 0:v.bind(L)}this.__isAsync&&(E=xv(E),w&&(w=xv(w)),O&&(O=xv(O)));const P=super.subscribe({next:w,error:E,complete:O});return l instanceof Q.w0&&l.add(P),P}};function zp(){return this._results[_f()]()}class __{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=_f(),d=__.prototype;d[c]||(d[c]=zp)}get changes(){return this._changes||(this._changes=new Qa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const h=hr(l);(this._changesDetected=!function Cc(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let h=a[d],_=l[d];if(c&&(h=c(h),_=c(_)),_!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $p=(()=>{class a{}return a.__NG_ELEMENT_ID__=jl,a})();const Gp=$p,b_=class extends Gp{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=Cg(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),wg(c,d,l),new Up(d)}};function jl(){return Uf(Dn(),Te())}function Uf(a,l){return 4&a.type?new b_(l,a,Ff(a,l)):null}let jf=(()=>{class a{}return a.__NG_ELEMENT_ID__=Sv,a})();function Sv(){return $S(Dn(),Te())}const y_=jf,Ov=class extends y_{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Ff(this._hostTNode,this._hostLView)}get injector(){return new $n(this._hostTNode,this._hostLView)}get parentInjector(){const l=Cn(this._hostTNode,this._hostLView);if(Si(l)){const c=Fa(l,this._hostLView),d=vn(l);return new $n(c[1].data[d+8],c)}return new $n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=WM(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const h=l.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(l,c,d,h,_){const v=l&&!function Os(a){return"function"==typeof a}(l);let w;if(v)w=c;else{const L=c||{};w=L.index,d=L.injector,h=L.projectableNodes,_=L.ngModuleRef}const E=v?l:new h_(_n(l)),O=d||this.parentInjector;if(!_&&null==E.ngModule&&O){const L=O.get(jp,null);L&&(_=L)}const P=E.create(O,h,void 0,_);return this.insert(P.hostView,w),P}insert(l,c){const d=l._lView,h=d[1];if(function Cs(a){return Mr(a[3])}(d)){const P=this.indexOf(l);if(-1!==P)this.detach(P);else{const L=d[3],z=new Ov(L,L[6],L[3]);z.detach(z.indexOf(l))}}const _=this._adjustIndex(c),v=this._lContainer;!function Yu(a,l,c,d){const h=10+d,_=c.length;d>0&&(c[h-1][4]=l),d<_-10?(l[4]=c[h],Wd(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function ff(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(h,d,v,_);const w=zt(_,v),E=d[11],O=m(E,v[7]);return null!==O&&function Vr(a,l,c,d,h,_){d[0]=h,d[6]=l,Sr(a,d,c,1,h,_)}(h,v[6],E,d,O,w),l.attachToViewContainerRef(),Wd(YM(v),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=WM(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=qa(this._lContainer,c);d&&(vu(YM(this._lContainer),c),lp(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=qa(this._lContainer,c);return d&&null!=vu(YM(this._lContainer),c)?new Up(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function WM(a){return a[8]}function YM(a){return a[8]||(a[8]=[])}function $S(a,l){let c;const d=l[a.index];if(Mr(d))c=d;else{let h;if(8&a.type)h=zn(d);else{const _=l[11];h=_.createComment("");const v=cr(a,l);Ac(_,m(_,v),h,function y(a,l){return Nn(a)?a.nextSibling(l):l.nextSibling}(_,v),!1)}l[a.index]=c=ua(d,l,h,a),Ll(l,c)}return new Ov(c,a,l)}class KM{constructor(l){this.queryList=l,this.matches=null}clone(){return new KM(this.queryList)}setDirty(){this.queryList.setDirty()}}class QM{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,h=[];for(let _=0;_<d;_++){const v=c.getByIndex(_);h.push(this.queries[v.indexInDeclarationView].clone())}return new QM(h)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==tE(l,c).matches&&this.queries[c].setDirty()}}class GS{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Zp{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,h);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new Zp(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Iv{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Iv(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const _=d[h];this.matchTNodeWithReadOption(l,c,v_(c,_)),this.matchTNodeWithReadOption(l,c,Nr(c,l,_,!1,!1))}else d===$p?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Nr(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Vp||h===jf||h===$p&&4&c.type)this.addMatch(c.index,-2);else{const _=Nr(c,l,h,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function v_(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function w_(a,l,c,d){return-1===c?function C_(a,l){return 11&a.type?Ff(a,l):4&a.type?Uf(a,l):null}(l,a):-2===c?function M_(a,l,c){return c===Vp?Ff(l,a):c===$p?Uf(l,a):c===jf?$S(l,a):void 0}(a,l,d):dr(a,a[1],c,l)}function ZS(a,l,c,d){const h=l[19].queries[d];if(null===h.matches){const _=a.data,v=c.matches,w=[];for(let E=0;E<v.length;E+=2){const O=v[E];w.push(O<0?null:w_(l,_[O],v[E+1],c.metadata.read))}h.matches=w}return h.matches}function JM(a,l,c,d){const h=a.queries.getByIndex(c),_=h.matches;if(null!==_){const v=ZS(a,l,h,c);for(let w=0;w<_.length;w+=2){const E=_[w];if(E>0)d.push(v[w/2]);else{const O=_[w+1],P=l[-E];for(let L=10;L<P.length;L++){const z=P[L];z[17]===z[3]&&JM(z[1],z,O,d)}if(null!==P[9]){const L=P[9];for(let z=0;z<L.length;z++){const K=L[z];JM(K[1],K,O,d)}}}}}return d}function Wp(a){const l=Te(),c=en(),d=hu();ea(d+1);const h=tE(c,d);if(a.dirty&&In(l)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const _=h.crossesNgTemplate?JM(c,l,d,[]):ZS(c,l,h,d);a.reset(_,oR),a.notifyOnChanges()}return!0}return!1}function Yp(a,l,c){const d=en();d.firstCreatePass&&(eE(d,new GS(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),XM(d,Te(),l)}function Av(a,l,c,d){const h=en();if(h.firstCreatePass){const _=Dn();eE(h,new GS(l,c,d),_.index),function KS(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(h,a),2==(2&c)&&(h.staticContentQueries=!0)}XM(h,Te(),c)}function WS(){return function YS(a,l){return a[19].queries[l].queryList}(Te(),hu())}function XM(a,l,c){const d=new __(4==(4&c));XD(a,l,d,d.destroy),null===l[19]&&(l[19]=new QM),l[19].queries.push(new KM(d))}function eE(a,l,c){null===a.queries&&(a.queries=new Zp),a.queries.track(new Iv(l,c))}function tE(a,l){return a.queries.getByIndex(l)}function A_(...a){}const Kp=new Mn("Application Initializer");let dd=(()=>{class a{constructor(c){this.appInits=c,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(Uy(_))c.push(_);else if(Zg(_)){const v=new Promise((w,E)=>{_.subscribe({complete:w,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Pn(Kp,8))},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();const cE=new Mn("AppId"),Fv={provide:cE,useFactory:function dO(){return`${uE()}${uE()}${uE()}`},deps:[]};function uE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fO=new Mn("Platform Initializer"),dE=new Mn("Platform ID"),hO=new Mn("appBootstrapListener");let fE=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();const Zf=new Mn("LocaleId"),Nv=new Mn("DefaultCurrencyCode");class hE{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let P_=(()=>{class a{compileModuleSync(c){return new qM(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),_=la(Ot(c).declarations).reduce((v,w)=>{const E=_n(w);return E&&v.push(new h_(E)),v},[]);return new hE(d,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();const pO=(()=>Promise.resolve(0))();function k_(a){"undefined"==typeof Zone?pO.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Xo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function mO(){let a=Wt.requestAnimationFrame,l=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function mE(a){const l=()=>{!function _O(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Wt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,R_(a),a.isCheckStableRunning=!0,Ja(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),R_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,_,v,w)=>{try{return Lv(a),c.invokeTask(h,_,v,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),gE(a)}},onInvoke:(c,d,h,_,v,w,E)=>{try{return Lv(a),c.invoke(h,_,v,w,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),gE(a)}},onHasTask:(c,d,h,_)=>{c.hasTask(h,_),d===h&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,R_(a),Ja(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,h,_)=>(c.handleError(h,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,h){const _=this._inner,v=_.scheduleEventTask("NgZoneEvent: "+h,l,gO,A_,A_);try{return _.runTask(v,c,d)}finally{_.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const gO={};function Ja(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function R_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Lv(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function gE(a){a._nesting--,Ja(a)}class bO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,h){return l.apply(c,d)}}let F_=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xo.assertNotInAngularZone(),k_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return a.\u0275fac=function(c){return new(c||a)(Pn(Xo))},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})(),yO=(()=>{class a{constructor(){this._applications=new Map,Bv.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Bv.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();class vO{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function CO(a){Bv=a}let ba,Bv=new vO;const _E=new Mn("AllowMultipleToken");class EO{constructor(l,c){this.name=l,this.token=c}}function bE(a,l,c=[]){const d=`Platform: ${l}`,h=new Mn(d);return(_=[])=>{let v=yE();if(!v||v.injector.get(_E,!1))if(a)a(c.concat(_).concat({provide:h,useValue:!0}));else{const w=c.concat(_).concat({provide:h,useValue:!0},{provide:Ig,useValue:"platform"});!function TO(a){if(ba&&!ba.destroyed&&!ba.injector.get(_E,!1))throw new Fe(400,"");ba=a.get(vE);const l=a.get(fO,null);l&&l.forEach(c=>c())}(Ls.create({providers:w,name:d}))}return function DO(a){const l=yE();if(!l)throw new Fe(401,"");return l}()}}function yE(){return ba&&!ba.destroyed?ba:null}let vE=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function xO(a,l){let c;return c="noop"===a?new bO:("zone.js"===a?void 0:a)||new Xo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Xo,useValue:w}];return w.run(()=>{const O=Ls.create({providers:E,parent:this.injector,name:c.moduleType.name}),P=c.create(O),L=P.injector.get($u,null);if(!L)throw new Fe(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:K=>{L.handleError(K)}});P.onDestroy(()=>{Uv(this._modules,P),z.unsubscribe()})}),function SO(a,l,c){try{const d=c();return Uy(d)?d.catch(h=>{throw l.runOutsideAngular(()=>a.handleError(h)),h}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(L,w,()=>{const z=P.injector.get(dd);return z.runInitializers(),z.donePromise.then(()=>(function Jx(a){at(a,"Expected localeId to be defined"),"string"==typeof a&&(fM=a.toLowerCase().replace(/_/g,"-"))}(P.injector.get(Zf,uv)||uv),this._moduleDoBootstrap(P),P))})})}bootstrapModule(c,d=[]){const h=Vv({},d);return function wO(a,l,c){const d=new qM(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(c){const d=c.injector.get(xo);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Fe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Pn(Ls))},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();function Vv(a,l){return Array.isArray(l)?l.reduce(Vv,a):Object.assign(Object.assign({},a),l)}let xo=(()=>{class a{constructor(c,d,h,_,v){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=_,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new F.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),E=new F.y(O=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Xo.assertNotInAngularZone(),k_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Xo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{P.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(w,E.pipe((0,le.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Fe(405,"");let h;h=c instanceof NM?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const _=function MO(a){return a.isBoundToModule}(h)?void 0:this._injector.get(jp),w=h.create(Ls.NULL,[],d||h.selector,_),E=w.location.nativeElement,O=w.injector.get(F_,null),P=O&&w.injector.get(yO);return O&&P&&P.registerApplication(E,O),w.onDestroy(()=>{this.detachView(w.hostView),Uv(this.components,w),P&&P.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Uv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(hO,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Pn(Xo),Pn(Ls),Pn($u),Pn(Bp),Pn(dd))},a.\u0275prov=Sn({token:a,factory:a.\u0275fac}),a})();function Uv(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let OO=!0,IO=!1;function SR(){return IO=!0,OO}function AO(){if(IO)throw new Error("Cannot enable prod mode after platform setup.");OO=!1}let kO=(()=>{class a{}return a.__NG_ELEMENT_ID__=OR,a})();function OR(a){return function wE(a,l,c){if(Id(a)&&!c){const d=Ji(a.index,l);return new Up(d,d)}return 47&a.type?new Up(l[16],l):null}(Dn(),Te(),16==(16&a))}class Gv{constructor(){}supports(l){return Or(l)}create(l){return new DE(l)}}const TE=(a,l)=>l;class DE{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||TE}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,h=0,_=null;for(;c||d;){const v=!d||c&&c.currentIndex<Wv(d,h,_)?c:d,w=Wv(v,h,_),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{_||(_=[]);const O=w-h,P=E-h;if(O!=P){for(let z=0;z<O;z++){const K=z<_.length?_[z]:_[z]=0,ge=K+z;P<=ge&&ge<O&&(_[z]=K+1)}_[v.previousIndex]=P-O}}w!==E&&l(v,w,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Or(l))throw new Fe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h,_,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)_=l[w],v=this._trackByFn(w,_),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,_,v,w)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,v,w),d=!0),c=c._next}else h=0,function _w(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[_f()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,h){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,h)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,h)):l=this._addAfter(new xE(c,d),_,h),l}_verifyReinsertion(l,c,d,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,h):l.currentIndex!=h&&(l.currentIndex=h,this._addToMoves(l,h)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const h=l._prevRemoved,_=l._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const h=null===c?this._itHead:c._next;return l._next=h,l._prev=c,null===h?this._itTail=l:h._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Zv),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zv),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class xE{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SE{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Zv{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new SE,this.map.set(c,d)),d.add(l)}get(l,c){const h=this.map.get(l);return h?h.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(a,l,c){const d=a.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+l+h}class Kf{constructor(){}supports(l){return l instanceof Map||Fg(l)}create(){return new OE}}class OE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Fg(l)))throw new Fe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const h=this._records.get(l);this._maybeAddToChanges(h,c);const _=h._prev,v=h._next;return _&&(_._next=v),v&&(v._prev=_),h._next=null,h._prev=null,h}const d=new IE(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class IE{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yv(){return new Jp([new Gv])}let Jp=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Yv()),deps:[[a,new dt,new We]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Fe(901,"")}}return a.\u0275prov=Sn({token:a,providedIn:"root",factory:Yv}),a})();function Kv(){return new Xp([new Kf])}let Xp=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Kv()),deps:[[a,new dt,new We]]}}find(c){const d=this.factories.find(_=>_.supports(c));if(d)return d;throw new Fe(901,"")}}return a.\u0275prov=Sn({token:a,providedIn:"root",factory:Kv}),a})();const Qv=[new Kf],Jv=new Jp([new Gv]),PE=new Xp(Qv),kE=bE(null,"core",[{provide:dE,useValue:"unknown"},{provide:vE,deps:[Ls]},{provide:yO,deps:[]},{provide:fE,deps:[]}]),NE=[{provide:xo,useClass:xo,deps:[Xo,Ls,$u,Bp,dd]},{provide:kS,deps:[Xo],useFactory:function Xa(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:dd,useClass:dd,deps:[[new We,Kp]]},{provide:P_,useClass:P_,deps:[]},Fv,{provide:Jp,useFactory:function Xv(){return Jv},deps:[]},{provide:Xp,useFactory:function L_(){return PE},deps:[]},{provide:Zf,useFactory:function RE(a){return a||function FE(){return"undefined"!=typeof $localize&&$localize.locale||uv}()},deps:[[new De(Zf),new We,new dt]]},{provide:Nv,useValue:"USD"}];let lo=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Pn(xo))},a.\u0275mod=we({type:a}),a.\u0275inj=yr({providers:NE}),a})()},3942:(rt,be,R)=>{R.d(be,{Z:()=>Fe});var o=R(2090),Q=R(4859),F=R(9681),oe=R(1877);class le{constructor(he,me){this._delegate=he,this.firebase=me,(0,F._addComponent)(he,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(he,me=F._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(he);return!je.isInitialized()&&"EXPLICIT"===(null===(Ae=je.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&je.initialize(),je.getImmediate({identifier:me})}_removeServiceInstance(he,me=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(me)}_addComponent(he){(0,F._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,F._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function fe(){const qe=function ce(qe){const he={},me={__esModule:!0,initializeApp:function Be(Xe,_e={}){const $=F.initializeApp(Xe,_e);if((0,o.r3)(he,$.name))return he[$.name];const te=new qe($,me);return he[$.name]=te,te},app:je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Xe){const _e=Xe.name,$=_e.replace("-compat","");if(F._registerComponent(Xe)&&"PUBLIC"===Xe.type){const te=(de=je())=>{if("function"!=typeof de[$])throw X.create("invalid-app-argument",{appName:_e});return de[$]()};void 0!==Xe.serviceProps&&(0,o.ZB)(te,Xe.serviceProps),me[$]=te,qe.prototype[$]=function(...de){return this._getService.bind(this,_e).apply(this,Xe.multipleInstances?de:[])}}return"PUBLIC"===Xe.type?me[$]:null},removeApp:function Ae(Xe){delete he[Xe]},useAsService:function ot(Xe,_e){return"serverAuth"===_e?null:_e},modularAPIs:F}};function je(Xe){if(!(0,o.r3)(he,Xe=Xe||F._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:Xe});return he[Xe]}return me.default=me,Object.defineProperty(me,"apps",{get:function nt(){return Object.keys(he).map(Xe=>he[Xe])}}),je.App=qe,me}(le);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function he(me){(0,o.ZB)(qe,me)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),qe}(),G=new oe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=q;!function xe(qe){(0,F.registerVersion)("@firebase/app-compat","0.2.1",qe)}()},9681:(rt,be,R)=>{R.r(be),R.d(be,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ms,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Fi,_addOrOverwriteComponent:()=>Sn,_apps:()=>Ci,_clearComponents:()=>Wr,_components:()=>Jt,_getProvider:()=>yr,_registerComponent:()=>wi,_removeServiceInstance:()=>ii,deleteApp:()=>St,getApp:()=>mn,getApps:()=>qn,initializeApp:()=>Yr,onLog:()=>Se,registerVersion:()=>Un,setLogLevel:()=>Ei});var o=R(5861),Q=R(4859),F=R(1877),oe=R(2090),le=R(8766);class pe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function X(it){const Ce=it.getComponent();return"VERSION"===(null==Ce?void 0:Ce.type)}(ze)){const Vt=ze.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(ze=>ze).join(" ")}}const ce="@firebase/app",q=new F.Yd("@firebase/app"),at="[DEFAULT]",Rt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ci=new Map,Jt=new Map;function Fi(it,Ce){try{it.container.addComponent(Ce)}catch(ze){q.debug(`Component ${Ce.name} failed to register with FirebaseApp ${it.name}`,ze)}}function Sn(it,Ce){it.container.addOrOverwriteComponent(Ce)}function wi(it){const Ce=it.name;if(Jt.has(Ce))return q.debug(`There were multiple attempts to register component ${Ce}.`),!1;Jt.set(Ce,it);for(const ze of Ci.values())Fi(ze,it);return!0}function yr(it,Ce){const ze=it.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),it.container.getProvider(Ce)}function ii(it,Ce,ze=at){yr(it,Ce).clearInstance(ze)}function Wr(){Jt.clear()}const vr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yl{constructor(Ce,ze,Vt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const ms="9.16.0";function Yr(it,Ce={}){let ze=it;"object"!=typeof Ce&&(Ce={name:Ce});const Vt=Object.assign({name:at,automaticDataCollectionEnabled:!1},Ce),jt=Vt.name;if("string"!=typeof jt||!jt)throw vr.create("bad-app-name",{appName:String(jt)});if(ze||(ze=(0,oe.aH)()),!ze)throw vr.create("no-options");const un=Ci.get(jt);if(un){if((0,oe.vZ)(ze,un.options)&&(0,oe.vZ)(Vt,un.config))return un;throw vr.create("duplicate-app",{appName:jt})}const H=new Q.H0(jt);for(const Z of Jt.values())H.addComponent(Z);const j=new Yl(ze,Vt,H);return Ci.set(jt,j),j}function mn(it=at){const Ce=Ci.get(it);if(!Ce&&it===at)return Yr();if(!Ce)throw vr.create("no-app",{appName:it});return Ce}function qn(){return Array.from(Ci.values())}function St(it){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(it){const Ce=it.name;Ci.has(Ce)&&(Ci.delete(Ce),yield Promise.all(it.container.getProviders().map(ze=>ze.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Un(it,Ce,ze){var Vt;let jt=null!==(Vt=Rt[it])&&void 0!==Vt?Vt:it;ze&&(jt+=`-${ze}`);const un=jt.match(/\s|\//),H=Ce.match(/\s|\//);if(un||H){const j=[`Unable to register library "${jt}" with version "${Ce}":`];return un&&j.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),un&&H&&j.push("and"),H&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void q.warn(j.join(" "))}wi(new Q.wA(`${jt}-version`,()=>({library:jt,version:Ce}),"VERSION"))}function Se(it,Ce){if(null!==it&&"function"!=typeof it)throw vr.create("invalid-log-argument");(0,F.Am)(it,Ce)}function Ei(it){(0,F.Ub)(it)}const ln="firebase-heartbeat-store";let Pr=null;function il(){return Pr||(Pr=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ce)=>{0===Ce&&it.createObjectStore(ln)}}).catch(it=>{throw vr.create("idb-open",{originalErrorMessage:it.message})})),Pr}function ft(){return(ft=(0,o.Z)(function*(it){try{return(yield il()).transaction(ln).objectStore(ln).get(kr(it))}catch(Ce){if(Ce instanceof oe.ZR)q.warn(Ce.message);else{const ze=vr.create("idb-get",{originalErrorMessage:null==Ce?void 0:Ce.message});q.warn(ze.message)}}})).apply(this,arguments)}function vt(it,Ce){return Da.apply(this,arguments)}function Da(){return(Da=(0,o.Z)(function*(it,Ce){try{const Vt=(yield il()).transaction(ln,"readwrite");return yield Vt.objectStore(ln).put(Ce,kr(it)),Vt.done}catch(ze){if(ze instanceof oe.ZR)q.warn(ze.message);else{const Vt=vr.create("idb-set",{originalErrorMessage:null==ze?void 0:ze.message});q.warn(Vt.message)}}})).apply(this,arguments)}function kr(it){return`${it.name}!${it.options.appId}`}class lr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Rn(ze),this._heartbeatsCachePromise=this._storage.read().then(Vt=>(this._heartbeatsCache=Vt,Vt))}triggerHeartbeat(){var Ce=this;return(0,o.Z)(function*(){const Vt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=_o();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ce._heartbeatsCache.heartbeats.some(un=>un.date===jt))return Ce._heartbeatsCache.heartbeats.push({date:jt,agent:Vt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(un=>{const H=new Date(un.date).valueOf();return Date.now()-H<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,o.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const ze=_o(),{heartbeatsToSend:Vt,unsentEntries:jt}=function Ct(it,Ce=1024){const ze=[];let Vt=it.slice();for(const jt of it){const un=ze.find(H=>H.agent===jt.agent);if(un){if(un.dates.push(jt.date),bt(ze)>Ce){un.dates.pop();break}}else if(ze.push({agent:jt.agent,dates:[jt.date]}),bt(ze)>Ce){ze.pop();break}Vt=Vt.slice(1)}return{heartbeatsToSend:ze,unsentEntries:Vt}}(Ce._heartbeatsCache.heartbeats),un=(0,oe.L)(JSON.stringify({version:2,heartbeats:Vt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=ze,jt.length>0?(Ce._heartbeatsCache.heartbeats=jt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),un})()}}function _o(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,o.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function on(it){return ft.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var ze=this;return(0,o.Z)(function*(){var Vt;if(yield ze._canUseIndexedDBPromise){const un=yield ze.read();return vt(ze.app,{lastSentHeartbeatDate:null!==(Vt=Ce.lastSentHeartbeatDate)&&void 0!==Vt?Vt:un.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var ze=this;return(0,o.Z)(function*(){var Vt;if(yield ze._canUseIndexedDBPromise){const un=yield ze.read();return vt(ze.app,{lastSentHeartbeatDate:null!==(Vt=Ce.lastSentHeartbeatDate)&&void 0!==Vt?Vt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Ce.heartbeats]})}})()}}function bt(it){return(0,oe.L)(JSON.stringify({version:2,heartbeats:it})).length}!function Kr(it){wi(new Q.wA("platform-logger",Ce=>new pe(Ce),"PRIVATE")),wi(new Q.wA("heartbeat",Ce=>new lr(Ce),"PRIVATE")),Un(ce,"0.9.1",it),Un(ce,"0.9.1","esm2017"),Un("fire-js","")}("")},4859:(rt,be,R)=>{R.d(be,{H0:()=>ce,wA:()=>F});var o=R(5861),Q=R(2090);class F{constructor(q,G,ie){this.name=q,this.instanceFactory=G,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const oe="[DEFAULT]";class le{constructor(q,G){this.name=q,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const G=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(G)){const ie=new Q.BH;if(this.instancesDeferred.set(G,ie),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:G});Ge&&ie.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(G).promise}getImmediate(q){var G;const ie=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ge=null!==(G=null==q?void 0:q.optional)&&void 0!==G&&G;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(xe){if(Ge)return null;throw xe}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function X(fe){return"EAGER"===fe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(G){}for(const[G,ie]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(G);try{const xe=this.getOrInitializeService({instanceIdentifier:Ge});ie.resolve(xe)}catch(xe){}}}}clearInstance(q=oe){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,o.Z)(function*(){const G=Array.from(q.instances.values());yield Promise.all([...G.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...G.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=oe){return this.instances.has(q)}getOptions(q=oe){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:G={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ie,options:G});for(const[xe,Fe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(xe)&&Fe.resolve(Ge);return Ge}onInit(q,G){var ie;const Ge=this.normalizeInstanceIdentifier(G),xe=null!==(ie=this.onInitCallbacks.get(Ge))&&void 0!==ie?ie:new Set;xe.add(q),this.onInitCallbacks.set(Ge,xe);const Fe=this.instances.get(Ge);return Fe&&q(Fe,Ge),()=>{xe.delete(q)}}invokeOnInitCallbacks(q,G){const ie=this.onInitCallbacks.get(G);if(ie)for(const Ge of ie)try{Ge(q,G)}catch(xe){}}getOrInitializeService({instanceIdentifier:q,options:G={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=q,fe===oe?void 0:fe),options:G}),this.instances.set(q,ie),this.instancesOptions.set(q,G),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch(Ge){}var fe;return ie||null}normalizeInstanceIdentifier(q=oe){return this.component?this.component.multipleInstances?q:oe:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const G=this.getProvider(q.name);if(G.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);G.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const G=new le(q,this);return this.providers.set(q,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,be,R)=>{R.d(be,{Am:()=>fe,Ub:()=>ce,Yd:()=>X,in:()=>Q});const o=[];var Q=(()=>{return(q=Q||(Q={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",Q;var q})();const F={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},oe=Q.INFO,le={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pe=(q,G,...ie)=>{if(G<q.logLevel)return;const Ge=(new Date).toISOString(),xe=le[G];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[xe](`[${Ge}]  ${q.name}:`,...ie)};class X{constructor(G){this.name=G,this._logLevel=oe,this._logHandler=pe,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Q))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...G),this._logHandler(this,Q.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...G),this._logHandler(this,Q.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...G),this._logHandler(this,Q.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...G),this._logHandler(this,Q.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...G),this._logHandler(this,Q.ERROR,...G)}}function ce(q){o.forEach(G=>{G.setLogLevel(q)})}function fe(q,G){for(const ie of o){let Ge=null;G&&G.level&&(Ge=F[G.level]),ie.userLogHandler=null===q?null:(xe,Fe,...qe)=>{const he=qe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch(Ae){return null}}).filter(me=>me).join(" ");Fe>=(null!=Ge?Ge:xe.logLevel)&&q({level:Q[Fe].toLowerCase(),message:he,args:qe,type:xe.name})}}}},259:(rt,be,R)=>{R.d(be,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=R(9681);(0,o.registerVersion)("firebase","9.16.0","app")},9260:(rt,be,R)=>{R.d(be,{Z:()=>o.Z});var o=R(3942);o.Z.registerVersion("firebase","9.16.0","app-compat")},3843:(rt,be,R)=>{R.r(be);var o=R(5861),Q=R(3942),F=R(2090),oe=R(9681),le=R(1877);function fe(b,p){var m={};for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&p.indexOf(y)<0&&(m[y]=b[y]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(y=Object.getOwnPropertySymbols(b);D<y.length;D++)p.indexOf(y[D])<0&&Object.prototype.propertyIsEnumerable.call(b,y[D])&&(m[y[D]]=b[y[D]])}return m}var Rt=R(4859);const Wr=function yr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Po=function ii(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vr=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ms=new le.Yd("@firebase/auth");function Yr(b,...p){ms.logLevel<=le.in.ERROR&&ms.error(`Auth (${oe.SDK_VERSION}): ${b}`,...p)}function mn(b,...p){throw Un(b,...p)}function qn(b,...p){return Un(b,...p)}function St(b,p,m){const y=Object.assign(Object.assign({},Po()),{[p]:m});return new F.LL("auth","Firebase",y).create(p,{appName:b.name})}function Mi(b,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&mn(b,"argument-error"),St(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Un(b,...p){if("string"!=typeof b){const m=p[0],y=[...p.slice(1)];return y[0]&&(y[0].appName=b.name),b._errorFactory.create(m,...y)}return vr.create(b,...p)}function Se(b,p,...m){if(!b)throw Un(p,...m)}function Ei(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Yr(p),new Error(p)}function mi(b,p){b||Ei(p)}const Ki=new Map;function ln(b){mi(b instanceof Function,"Expected a class definition");let p=Ki.get(b);return p?(mi(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Ki.set(b,p),p)}function on(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ft(){return"http:"===vt()||"https:"===vt()}function vt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Wt{constructor(p,m){this.shortDelay=p,this.longDelay=m,mi(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Da(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ko(b,p){mi(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class lr{static initialize(p,m,y){this.fetchImpl=p,m&&(this.headersImpl=m),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _o={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ct=new Wt(3e4,6e4);function Rn(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function bt(b,p,m,y){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(b,p,m,y,D={}){return it(b,D,(0,o.Z)(function*(){let I={},U={};y&&("GET"===p?U=y:I={body:JSON.stringify(y)});const J=(0,F.xO)(Object.assign({key:b.config.apiKey},U)).slice(1),Pe=yield b._getAdditionalHeaders();return Pe["Content-Type"]="application/json",b.languageCode&&(Pe["X-Firebase-Locale"]=b.languageCode),lr.fetch()(jt(b,b.config.apiHost,m,J),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function it(b,p,m){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,o.Z)(function*(b,p,m){b._canInitEmulator=!1;const y=Object.assign(Object.assign({},_o),p);try{const D=new un(b),I=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const U=yield I.json();if("needConfirmation"in U)throw H(b,"account-exists-with-different-credential",U);if(I.ok&&!("errorMessage"in U))return U;{const J=I.ok?U.errorMessage:U.error.message,[Pe,Me]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw H(b,"credential-already-in-use",U);if("EMAIL_EXISTS"===Pe)throw H(b,"email-already-in-use",U);if("USER_DISABLED"===Pe)throw H(b,"user-disabled",U);const Ye=y[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw St(b,Ye,Me);mn(b,Ye)}}catch(D){if(D instanceof F.ZR)throw D;mn(b,"network-request-failed")}})).apply(this,arguments)}function ze(b,p,m,y){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.Z)(function*(b,p,m,y,D={}){const I=yield bt(b,p,m,y,D);return"mfaPendingCredential"in I&&mn(b,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function jt(b,p,m,y){const D=`${p}${m}?${y}`;return b.config.emulator?ko(b.config,D):`${b.config.apiScheme}://${D}`}class un{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,y)=>{this.timer=setTimeout(()=>y(qn(this.auth,"network-request-failed")),Ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(b,p,m){const y={appName:b.name};m.email&&(y.email=m.email),m.phoneNumber&&(y.phoneNumber=m.phoneNumber);const D=qn(b,p,y);return D.customData._tokenResponse=m,D}function Z(){return(Z=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function we(b,p){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lt(b,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function dn(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ri(){return(ri=(0,o.Z)(function*(b,p=!1){const m=(0,F.m9)(b),y=yield m.getIdToken(p),D=Qn(y);Se(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const I="object"==typeof D.firebase?D.firebase:void 0,U=null==I?void 0:I.sign_in_provider;return{claims:D,token:y,authTime:dn(Ot(D.auth_time)),issuedAtTime:dn(Ot(D.iat)),expirationTime:dn(Ot(D.exp)),signInProvider:U||null,signInSecondFactor:(null==I?void 0:I.sign_in_second_factor)||null}})).apply(this,arguments)}function Ot(b){return 1e3*Number(b)}function Qn(b){const[p,m,y]=b.split(".");if(void 0===p||void 0===m||void 0===y)return Yr("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,F.tV)(m);return D?JSON.parse(D):(Yr("Failed to decode base64 JWT payload"),null)}catch(D){return Yr("Caught error parsing JWT payload as JSON",null==D?void 0:D.toString()),null}}function Ti(b,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(b,p,m=!1){if(m)return p;try{return yield p}catch(y){throw y instanceof F.ZR&&Zs(y)&&b.auth.currentUser===b&&(yield b.auth.signOut()),y}})).apply(this,arguments)}function Zs({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ni{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const y=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield m.iteration()}),y)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class xa{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Di(b){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,o.Z)(function*(b){var p;const m=b.auth,y=yield b.getIdToken(),D=yield Ti(b,lt(m,{idToken:y}));Se(null==D?void 0:D.users.length,m,"internal-error");const I=D.users[0];b._notifyReloadListener(I);const U=(null===(p=I.providerUserInfo)||void 0===p?void 0:p.length)?Ro(I.providerUserInfo):[],J=Cr(b.providerData,U),Ye=!!b.isAnonymous&&!(b.email&&I.passwordHash||(null==J?void 0:J.length)),Qe={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:J,metadata:new xa(I.createdAt,I.lastLoginAt),isAnonymous:Ye};Object.assign(b,Qe)})).apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(b){const p=(0,F.m9)(b);yield Di(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Cr(b,p){return[...b.filter(y=>!p.some(D=>D.providerId===y.providerId)),...p]}function Ro(b){return b.map(p=>{var{providerId:m}=p,y=fe(p,["providerId"]);return{providerId:m,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Qr(){return(Qr=(0,o.Z)(function*(b,p){const m=yield it(b,{},(0,o.Z)(function*(){const y=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:I}=b.config,U=jt(b,D,"/v1/token",`key=${I}`),J=yield b._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",lr.fetch()(U,{method:"POST",headers:J,body:y})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Se(p.idToken,"internal-error"),Se(void 0!==p.idToken,"internal-error"),Se(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function $s(b){const p=Qn(b);return Se(p,"internal-error"),Se(void 0!==p.exp,"internal-error"),Se(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var y=this;return(0,o.Z)(function*(){return Se(!y.accessToken||y.refreshToken,p,"user-token-expired"),m||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(p,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var y=this;return(0,o.Z)(function*(){const{accessToken:D,refreshToken:I,expiresIn:U}=yield function oi(b,p){return Qr.apply(this,arguments)}(p,m);y.updateTokensAndExpiration(D,I,Number(U))})()}updateTokensAndExpiration(p,m,y){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(p,m){const{refreshToken:y,accessToken:D,expirationTime:I}=m,U=new gn;return y&&(Se("string"==typeof y,"internal-error",{appName:p}),U.refreshToken=y),D&&(Se("string"==typeof D,"internal-error",{appName:p}),U.accessToken=D),I&&(Se("number"==typeof I,"internal-error",{appName:p}),U.expirationTime=I),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return Ei("not implemented")}}function wr(b,p){Se("string"==typeof b||void 0===b,"internal-error",{appName:p})}class Fn{constructor(p){var{uid:m,auth:y,stsTokenManager:D}=p,I=fe(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new xa(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,o.Z)(function*(){const y=yield Ti(m,m.stsTokenManager.getToken(m.auth,p));return Se(y,m.auth,"internal-error"),m.accessToken!==y&&(m.accessToken=y,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),y})()}getIdTokenResult(p){return function jn(b){return ri.apply(this,arguments)}(this,p)}reload(){return function Yt(b){return bn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Se(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Fn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var y=this;return(0,o.Z)(function*(){let D=!1;p.idToken&&p.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield Di(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var p=this;return(0,o.Z)(function*(){const m=yield p.getIdToken();return yield Ti(p,function j(b,p){return Z.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var y,D,I,U,J,Pe,Me,Ye;const Qe=null!==(y=m.displayName)&&void 0!==y?y:void 0,zt=null!==(D=m.email)&&void 0!==D?D:void 0,ei=null!==(I=m.phoneNumber)&&void 0!==I?I:void 0,mr=null!==(U=m.photoURL)&&void 0!==U?U:void 0,Sr=null!==(J=m.tenantId)&&void 0!==J?J:void 0,Rs=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,Nt=null!==(Me=m.createdAt)&&void 0!==Me?Me:void 0,gr=null!==(Ye=m.lastLoginAt)&&void 0!==Ye?Ye:void 0,{uid:mf,emailVerified:Pc,isAnonymous:ti,providerData:Eo,stsTokenManager:IC}=m;Se(mf&&IC,p,"internal-error");const ty=gn.fromJSON(this.name,IC);Se("string"==typeof mf,p,"internal-error"),wr(Qe,p.name),wr(zt,p.name),Se("boolean"==typeof Pc,p,"internal-error"),Se("boolean"==typeof ti,p,"internal-error"),wr(ei,p.name),wr(mr,p.name),wr(Sr,p.name),wr(Rs,p.name),wr(Nt,p.name),wr(gr,p.name);const _g=new Fn({uid:mf,auth:p,email:zt,emailVerified:Pc,displayName:Qe,isAnonymous:ti,photoURL:mr,phoneNumber:ei,tenantId:Sr,stsTokenManager:ty,createdAt:Nt,lastLoginAt:gr});return Eo&&Array.isArray(Eo)&&(_g.providerData=Eo.map(bg=>Object.assign({},bg))),Rs&&(_g._redirectEventId=Rs),_g}static _fromIdTokenResponse(p,m,y=!1){return(0,o.Z)(function*(){const D=new gn;D.updateFromServerResponse(m);const I=new Fn({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:y});return yield Di(I),I})()}}const bo=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(m,y){var D=this;return(0,o.Z)(function*(){D.storage[m]=y})()}_get(m){var y=this;return(0,o.Z)(function*(){const D=y.storage[m];return void 0===D?null:D})()}_remove(m){var y=this;return(0,o.Z)(function*(){delete y.storage[m]})()}_addListener(m,y){}_removeListener(m,y){}}return b.type="NONE",b})();function si(b,p,m){return`firebase:${b}:${p}:${m}`}class Fo{constructor(p,m,y){this.persistence=p,this.auth=m,this.userKey=y;const{config:D,name:I}=this.auth;this.fullUserKey=si(this.userKey,D.apiKey,I),this.fullPersistenceKey=si("persistence",D.apiKey,I),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Fn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,o.Z)(function*(){if(m.persistence===p)return;const y=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,y?m.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,y="authUser"){return(0,o.Z)(function*(){if(!m.length)return new Fo(ln(bo),p,y);const D=(yield Promise.all(m.map(function(){var Me=(0,o.Z)(function*(Ye){if(yield Ye._isAvailable())return Ye});return function(Ye){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let I=D[0]||ln(bo);const U=si(y,p.config.apiKey,p.name);let J=null;for(const Me of m)try{const Ye=yield Me._get(U);if(Ye){const Qe=Fn._fromJSON(p,Ye);Me!==I&&(J=Qe),I=Me;break}}catch(Ye){}const Pe=D.filter(Me=>Me._shouldAllowMigration);return I._shouldAllowMigration&&Pe.length?(I=Pe[0],J&&(yield I._set(U,J.toJSON())),yield Promise.all(m.map(function(){var Me=(0,o.Z)(function*(Ye){if(Ye!==I)try{yield Ye._remove(U)}catch(Qe){}});return function(Ye){return Me.apply(this,arguments)}}())),new Fo(I,p,y)):new Fo(I,p,y)})()}}function Ws(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Xt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(On(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(su(p))return"Blackberry";if(Oa(p))return"Webos";if(Ys(p))return"Safari";if((p.includes("chrome/")||Sa(p))&&!p.includes("edge/"))return"Chrome";if(fn(p))return"Android";{const y=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function On(b=(0,F.z$)()){return/firefox\//i.test(b)}function Ys(b=(0,F.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Sa(b=(0,F.z$)()){return/crios\//i.test(b)}function Xt(b=(0,F.z$)()){return/iemobile/i.test(b)}function fn(b=(0,F.z$)()){return/android/i.test(b)}function su(b=(0,F.z$)()){return/blackberry/i.test(b)}function Oa(b=(0,F.z$)()){return/webos/i.test(b)}function ai(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function No(b=(0,F.z$)()){return ai(b)||fn(b)||Oa(b)||su(b)||/windows phone/i.test(b)||Xt(b)}function lu(b,p=[]){let m;switch(b){case"Browser":m=Ws((0,F.z$)());break;case"Worker":m=`${Ws((0,F.z$)())}-${b}`;break;default:m=b}const y=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${y}`}class Um{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const y=I=>new Promise((U,J)=>{try{U(p(I))}catch(Pe){J(Pe)}});y.onAbort=m,this.queue.push(y);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,o.Z)(function*(){if(m.auth.currentUser===p)return;const y=[];try{for(const D of m.queue)yield D(p),D.onAbort&&y.push(D.onAbort)}catch(D){y.reverse();for(const I of y)try{I()}catch(U){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==D?void 0:D.message})}})()}}class jm{constructor(p,m,y){this.app=p,this.heartbeatServiceProvider=m,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eh(this),this.idTokenSubscription=new Eh(this),this.beforeStateQueue=new Um(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(p,m){var y=this;return m&&(this._popupRedirectResolver=ln(m)),this._initializationPromise=this.queue((0,o.Z)(function*(){var D,I;if(!y._deleted&&(y.persistenceManager=yield Fo.create(y,p),!y._deleted)){if(null===(D=y._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(U){}yield y.initializeCurrentUser(m),y.lastNotifiedUid=(null===(I=y.currentUser)||void 0===I?void 0:I.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,o.Z)(function*(){var y;const D=yield m.assertedPersistence.getCurrentUser();let I=D,U=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const J=null===(y=m.redirectUser)||void 0===y?void 0:y._redirectEventId,Pe=null==I?void 0:I._redirectEventId,Me=yield m.tryRedirectSignIn(p);(!J||J===Pe)&&(null==Me?void 0:Me.user)&&(I=Me.user,U=!0)}if(!I)return m.directlySetCurrentUser(null);if(!I._redirectEventId){if(U)try{yield m.beforeStateQueue.runMiddleware(I)}catch(J){I=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(J))}return I?m.reloadAndSetCurrentUserOrClear(I):m.directlySetCurrentUser(null)}return Se(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===I._redirectEventId?m.directlySetCurrentUser(I):m.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(p){var m=this;return(0,o.Z)(function*(){let y=null;try{y=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(D){yield m._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,o.Z)(function*(){try{yield Di(p)}catch(y){if("auth/network-request-failed"!==(null==y?void 0:y.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function kr(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,o.Z)(function*(){const y=p?(0,F.m9)(p):null;return y&&Se(y.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(y&&y._clone(m))})()}_updateCurrentUser(p,m=!1){var y=this;return(0,o.Z)(function*(){if(!y._deleted)return p&&Se(y.tenantId===p.tenantId,y,"tenant-id-mismatch"),m||(yield y.beforeStateQueue.runMiddleware(p)),y.queue((0,o.Z)(function*(){yield y.directlySetCurrentUser(p),y.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,o.Z)(function*(){yield m.assertedPersistence.setPersistence(ln(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,m,y){return this.registerStateListener(this.authStateSubscription,p,m,y)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,y){return this.registerStateListener(this.idTokenSubscription,p,m,y)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var y=this;return(0,o.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,o.Z)(function*(){if(!m.redirectPersistenceManager){const y=p&&ln(p)||m._popupRedirectResolver;Se(y,m,"argument-error"),m.redirectPersistenceManager=yield Fo.create(m,[ln(y._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,o.Z)(function*(){var y,D;return m._isInitialized&&(yield m.queue((0,o.Z)(function*(){}))),(null===(y=m._currentUser)||void 0===y?void 0:y._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,o.Z)(function*(){if(p===m.currentUser)return m.queue((0,o.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,y,D){if(this._deleted)return()=>{};const I="function"==typeof m?m:m.next.bind(m),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(U,this,"internal-error"),U.then(()=>I(this.currentUser)),"function"==typeof m?p.addObserver(m,y,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,o.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=lu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){var m;const y={"X-Client-Version":p.clientVersion};p.app.options.appId&&(y["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(y["X-Firebase-Client"]=D),y})()}}function yn(b){return(0,F.m9)(b)}class Eh{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(m=>this.observer=m)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Dh(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function vo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class gs{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ei("not implemented")}_getIdTokenResponse(p){return Ei("not implemented")}_linkToIdToken(p,m){return Ei("not implemented")}_getReauthenticationResolver(p){return Ei("not implemented")}}function Ks(b,p){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:resetPassword",Rn(b,p))})).apply(this,arguments)}function xh(b,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zm(b,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:update",Rn(b,p))})).apply(this,arguments)}function cu(){return(cu=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithPassword",Rn(b,p))})).apply(this,arguments)}function _s(b,p){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:sendOobCode",Rn(b,p))})).apply(this,arguments)}function uu(b,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(b,p){return _s(b,p)})).apply(this,arguments)}function bs(b,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,o.Z)(function*(b,p){return _s(b,p)})).apply(this,arguments)}function rl(b,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,o.Z)(function*(b,p){return _s(b,p)})).apply(this,arguments)}function Sh(b,p){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,o.Z)(function*(b,p){return _s(b,p)})).apply(this,arguments)}function Ql(){return(Ql=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithEmailLink",Rn(b,p))})).apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithEmailLink",Rn(b,p))})).apply(this,arguments)}class ol extends gs{constructor(p,m,y,D=null){super("password",y),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new ol(p,m,"password")}static _fromEmailAndCode(p,m,y=null){return new ol(p,m,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,o.Z)(function*(){switch(m.signInMethod){case"password":return function $m(b,p){return cu.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Qi(b,p){return Ql.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:mn(p,"internal-error")}})()}_linkToIdToken(p,m){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return xh(p,{idToken:m,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ia(b,p){return Er.apply(this,arguments)}(p,{idToken:m,email:y._email,oobCode:y._password});default:mn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Zn(b,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithIdp",Rn(b,p))})).apply(this,arguments)}class Jr extends gs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Jr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):mn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:y,signInMethod:D}=m,I=fe(m,["providerId","signInMethod"]);if(!y||!D)return null;const U=new Jr(y,D);return U.idToken=I.idToken||void 0,U.accessToken=I.accessToken||void 0,U.secret=I.secret,U.nonce=I.nonce,U.pendingToken=I.pendingToken||null,U}_getIdTokenResponse(p){return Zn(p,this.buildRequest())}_linkToIdToken(p,m){const y=this.buildRequest();return y.idToken=m,Zn(p,y)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Zn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.xO)(m)}return p}}function Bd(b,p){return al.apply(this,arguments)}function al(){return(al=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:sendVerificationCode",Rn(b,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithPhoneNumber",Rn(b,p))})).apply(this,arguments)}function Jl(){return(Jl=(0,o.Z)(function*(b,p){const m=yield ze(b,"POST","/v1/accounts:signInWithPhoneNumber",Rn(b,p));if(m.temporaryProof)throw H(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zn={USER_NOT_FOUND:"user-not-found"};function Aa(){return(Aa=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithPhoneNumber",Rn(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zn)})).apply(this,arguments)}class Li extends gs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Li({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Li({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Gm(b,p){return Nn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ys(b,p){return Jl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Vd(b,p){return Aa.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:y,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:y,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:y,phoneNumber:D,temporaryProof:I}=p;return y||m||D||I?new Li({verificationId:m,verificationCode:y,phoneNumber:D,temporaryProof:I}):null}}class Lo{constructor(p){var m,y,D,I,U,J;const Pe=(0,F.zd)((0,F.pd)(p)),Me=null!==(m=Pe.apiKey)&&void 0!==m?m:null,Ye=null!==(y=Pe.oobCode)&&void 0!==y?y:null,Qe=function cr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);Se(Me&&Ye&&Qe,"argument-error"),this.apiKey=Me,this.operation=Qe,this.code=Ye,this.continueUrl=null!==(I=Pe.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(U=Pe.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(J=Pe.tenantId)&&void 0!==J?J:null}static parseLink(p){const m=function Xl(b){const p=(0,F.zd)((0,F.pd)(b)).link,m=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,y=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(y?(0,F.zd)((0,F.pd)(y)).link:null)||y||m||p||b}(p);try{return new Lo(m)}catch(y){return null}}}let Ji=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,y){return ol._fromEmailAndPassword(m,y)}static credentialWithLink(m,y){const D=Lo.parseLink(y);return Se(D,"argument-error"),ol._fromEmailAndCode(m,D.code,D.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class In{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Co extends In{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Cs extends Co{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Se("providerId"in m&&"signInMethod"in m,"argument-error"),Jr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Se(p.idToken||p.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:I,nonce:U,providerId:J}=p;if(!y&&!D&&!m&&!I||!J)return null;try{return new Cs(J)._credential({idToken:m,accessToken:y,nonce:U,pendingToken:I})}catch(Pe){return null}}}let Rr=(()=>{class b extends Co{constructor(){super("facebook.com")}static credential(m){return Jr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(y){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ws=(()=>{class b extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(m,y){return Jr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:y})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:D}=m;if(!y&&!D)return null;try{return b.credential(y,D)}catch(I){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Pa=(()=>{class b extends Co{constructor(){super("github.com")}static credential(m){return Jr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(y){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Xr extends gs{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Zn(p,this.buildRequest())}_linkToIdToken(p,m){const y=this.buildRequest();return y.idToken=m,Zn(p,y)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Zn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:y,signInMethod:D,pendingToken:I}=m;return y&&D&&I&&y===D?new Xr(y,I):null}static _create(p,m){return new Xr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ms extends In{constructor(p){Se(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ms.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ms.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Xr.fromJSON(p);return Se(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:y}=p;if(!m||!y)return null;try{return Xr._create(y,m)}catch(D){return null}}}let ll=(()=>{class b extends Co{constructor(){super("twitter.com")}static credential(m,y){return Jr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:y})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=m;if(!y||!D)return null;try{return b.credential(y,D)}catch(I){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function tc(b,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signUp",Rn(b,p))})).apply(this,arguments)}class ur{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,y,D=!1){return(0,o.Z)(function*(){const I=yield Fn._fromIdTokenResponse(p,y,D),U=Te(y);return new ur({user:I,providerId:U,_tokenResponse:y,operationType:m})})()}static _forOperation(p,m,y){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(y,!0);const D=Te(y);return new ur({user:p,providerId:D,_tokenResponse:y,operationType:m})})()}}function Te(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ic(){return(ic=(0,o.Z)(function*(b){var p;const m=yn(b);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new ur({user:m.currentUser,providerId:null,operationType:"signIn"});const y=yield tc(m,{returnSecureToken:!0}),D=yield ur._fromIdTokenResponse(m,"signIn",y,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Dn extends F.ZR{constructor(p,m,y,D){var I;super(m.code,m.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,Dn.prototype),this.customData={appName:p.name,tenantId:null!==(I=p.tenantId)&&void 0!==I?I:void 0,_serverResponse:m.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(p,m,y,D){return new Dn(p,m,y,D)}}function cl(b,p,m,y){return("reauthenticate"===p?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?Dn._fromErrorAndOperation(b,I,p,y):I})}function Js(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Bo(){return(Bo=(0,o.Z)(function*(b,p){const m=(0,F.m9)(b);yield oc(!0,m,p);const{providerUserInfo:y}=yield we(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=Js(y||[]);return m.providerData=m.providerData.filter(I=>D.has(I.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ul(b,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,o.Z)(function*(b,p,m=!1){const y=yield Ti(b,p._linkToIdToken(b.auth,yield b.getIdToken()),m);return ur._forOperation(b,"link",y)})).apply(this,arguments)}function oc(b,p,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.Z)(function*(b,p,m){yield Di(p);const D=!1===b?"provider-already-linked":"no-such-provider";Se(Js(p.providerData).has(m)===b,p.auth,D)})).apply(this,arguments)}function dl(b,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,o.Z)(function*(b,p,m=!1){const{auth:y}=b,D="reauthenticate";try{const I=yield Ti(b,cl(y,D,p,b),m);Se(I.idToken,y,"internal-error");const U=Qn(I.idToken);Se(U,y,"internal-error");const{sub:J}=U;return Se(b.uid===J,y,"user-mismatch"),ur._forOperation(b,D,I)}catch(I){throw"auth/user-not-found"===(null==I?void 0:I.code)&&mn(y,"user-mismatch"),I}})).apply(this,arguments)}function eo(b,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,o.Z)(function*(b,p,m=!1){const y="signIn",D=yield cl(b,y,p),I=yield ur._fromIdTokenResponse(b,y,D);return m||(yield b._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Fr(b,p){return to.apply(this,arguments)}function to(){return(to=(0,o.Z)(function*(b,p){return eo(yn(b),p)})).apply(this,arguments)}function du(b,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(b,p){const m=(0,F.m9)(b);return yield oc(!1,m,p.providerId),ul(m,p)})).apply(this,arguments)}function Ud(b,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,o.Z)(function*(b,p){return dl((0,F.m9)(b),p)})).apply(this,arguments)}function fu(b,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,o.Z)(function*(b,p){return ze(b,"POST","/v1/accounts:signInWithCustomToken",Rn(b,p))})).apply(this,arguments)}function ea(){return(ea=(0,o.Z)(function*(b,p){const m=yn(b),y=yield fu(m,{token:p,returnSecureToken:!0}),D=yield ur._fromIdTokenResponse(m,"signIn",y);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class hl{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?pl._fromServerResponse(p,m):mn(p,"internal-error")}}class pl extends hl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new pl(m)}}function ta(b,p,m){var y;Se((null===(y=m.url)||void 0===y?void 0:y.length)>0,b,"invalid-continue-uri"),Se(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Se(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Se(m.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ml(){return(ml=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b),D={requestType:"PASSWORD_RESET",email:p};m&&ta(y,D,m),yield bs(y,D)})).apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(b,p,m){yield Ks((0,F.m9)(b),{oobCode:p,newPassword:m})})).apply(this,arguments)}function jd(){return(jd=(0,o.Z)(function*(b,p){yield zm((0,F.m9)(b),{oobCode:p})})).apply(this,arguments)}function Ih(b,p){return li.apply(this,arguments)}function li(){return(li=(0,o.Z)(function*(b,p){const m=(0,F.m9)(b),y=yield Ks(m,{oobCode:p}),D=y.requestType;switch(Se(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(y.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(y.mfaInfo,m,"internal-error");default:Se(y.email,m,"internal-error")}let I=null;return y.mfaInfo&&(I=hl._fromServerResponse(yn(m),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:I},operation:D}})).apply(this,arguments)}function Hn(){return(Hn=(0,o.Z)(function*(b,p){const{data:m}=yield Ih((0,F.m9)(b),p);return m.email})).apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(b,p,m){const y=yn(b),D=yield tc(y,{returnSecureToken:!0,email:p,password:m}),I=yield ur._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(I.user),I})).apply(this,arguments)}function cc(){return(cc=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b),D={requestType:"EMAIL_SIGNIN",email:p};Se(m.handleCodeInApp,y,"argument-error"),m&&ta(y,D,m),yield rl(y,D)})).apply(this,arguments)}function Es(){return(Es=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b),D=Ji.credentialWithLink(p,m||on());return Se(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Fr(y,D)})).apply(this,arguments)}function uc(b,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:createAuthUri",Rn(b,p))})).apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(b,p){const y={identifier:p,continueUri:ft()?on():"http://localhost"},{signinMethods:D}=yield uc((0,F.m9)(b),y);return D||[]})).apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(function*(b,p){const m=(0,F.m9)(b),D={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&ta(m.auth,D,p);const{email:I}=yield uu(m.auth,D);I!==b.email&&(yield b.reload())})).apply(this,arguments)}function zd(){return(zd=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};m&&ta(y.auth,I,m);const{email:U}=yield Sh(y.auth,I);U!==b.email&&(yield b.reload())})).apply(this,arguments)}function fc(b,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.Z)(function*(b,p){return bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bl(){return(bl=(0,o.Z)(function*(b,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const y=(0,F.m9)(b),I={idToken:yield y.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},U=yield Ti(y,fc(y.auth,I));y.displayName=U.displayName||null,y.photoURL=U.photoUrl||null;const J=y.providerData.find(({providerId:Pe})=>"password"===Pe);J&&(J.displayName=y.displayName,J.photoURL=y.photoURL),yield y._updateTokensIfNecessary(U)})).apply(this,arguments)}function pc(b,p,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(b,p,m){const{auth:y}=b,I={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(I.email=p),m&&(I.password=m);const U=yield Ti(b,xh(y,I));yield b._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class He{constructor(p,m,y={}){this.isNewUser=p,this.providerId=m,this.profile=y}}class ht extends He{constructor(p,m,y,D){super(p,m,y),this.username=D}}class Si extends He{constructor(p,m){super(p,"facebook.com",m)}}class vn extends ht{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Zd extends He{constructor(p,m){super(p,"google.com",m)}}class Fa extends ht{constructor(p,m,y){super(p,"twitter.com",m,y)}}function gu(b){const{user:p,_tokenResponse:m}=b;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ts(b){var p,m;if(!b)return null;const{providerId:y}=b,D=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},I=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!y&&(null==b?void 0:b.idToken)){const U=null===(m=null===(p=Qn(b.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(U)return new He(I,"anonymous"!==U&&"custom"!==U?U:null)}if(!y)return null;switch(y){case"facebook.com":return new Si(I,D);case"github.com":return new vn(I,D);case"google.com":return new Zd(I,D);case"twitter.com":return new Fa(I,D,b.screenName||null);case"custom":case"anonymous":return new He(I,null);default:return new He(I,y,D)}}(m)}class Cn{constructor(p,m,y){this.type=p,this.credential=m,this.auth=y}static _fromIdtoken(p,m){return new Cn("enroll",p,m)}static _fromMfaPendingCredential(p){return new Cn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,y;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Cn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(y=p.multiFactorSession)||void 0===y?void 0:y.idToken)return Cn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class xs{constructor(p,m,y){this.session=p,this.hints=m,this.signInResolver=y}static _fromError(p,m){const y=yn(p),D=m.customData._serverResponse,I=(D.mfaInfo||[]).map(J=>hl._fromServerResponse(y,J));Se(D.mfaPendingCredential,y,"internal-error");const U=Cn._fromMfaPendingCredential(D.mfaPendingCredential);return new xs(U,I,function(){var J=(0,o.Z)(function*(Pe){const Me=yield Pe._process(y,U);delete D.mfaInfo,delete D.mfaPendingCredential;const Ye=Object.assign(Object.assign({},D),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(m.operationType){case"signIn":const Qe=yield ur._fromIdTokenResponse(y,m.operationType,Ye);return yield y._updateCurrentUser(Qe.user),Qe;case"reauthenticate":return Se(m.user,y,"internal-error"),ur._forOperation(m.user,m.operationType,Ye);default:mn(y,"internal-error")}});return function(Pe){return J.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,o.Z)(function*(){return m.signInResolver(p)})()}}function bc(b,p){return bt(b,"POST","/v2/accounts/mfaEnrollment:start",Rn(b,p))}class na{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(y=>hl._fromServerResponse(p.auth,y)))})}static _fromUser(p){return new na(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Cn._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var y=this;return(0,o.Z)(function*(){const D=p,I=yield y.getSession(),U=yield Ti(y.user,D._process(y.user.auth,I,m));return yield y.user._updateTokensIfNecessary(U),y.user.reload()})()}unenroll(p){var m=this;return(0,o.Z)(function*(){const y="string"==typeof p?p:p.uid,D=yield m.user.getIdToken(),I=yield Ti(m.user,function yc(b,p){return bt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Rn(b,p))}(m.user.auth,{idToken:D,mfaEnrollmentId:y}));m.enrolledFactors=m.enrolledFactors.filter(({uid:U})=>U!==y),yield m.user._updateTokensIfNecessary(I);try{yield m.user.reload()}catch(U){if("auth/user-token-expired"!==(null==U?void 0:U.code))throw U}})()}}const Ss=new WeakMap,Nr="__sak";class dr{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const La=(()=>{class b extends dr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,y)=>this.onStorageEvent(m,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cl(){const b=(0,F.z$)();return Ys(b)||ai(b)}()&&function yo(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=No(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),I=this.localCache[y];D!==I&&m(y,I,D)}}onStorageEvent(m,y=!1){if(!m.key)return void this.forAllChangedKeys((J,Pe,Me)=>{this.notifyListeners(J,Me)});const D=m.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(D);if(m.newValue!==J)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!y)return}const I=()=>{const J=this.storage.getItem(D);!y&&this.localCache[D]===J||this.notifyListeners(D,J)},U=this.storage.getItem(D);!function Id(){return(0,F.w1)()&&10===document.documentMode}()||U===m.newValue||m.newValue===m.oldValue?I():setTimeout(I,10)}notifyListeners(m,y){this.localCache[m]=y;const D=this.listeners[m];if(D)for(const I of Array.from(D))I(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(y)}_removeListener(m,y){this.listeners[m]&&(this.listeners[m].delete(y),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,y){var D=()=>super._set,I=this;return(0,o.Z)(function*(){yield D().call(I,m,y),I.localCache[m]=JSON.stringify(y)})()}_get(m){var y=()=>super._get,D=this;return(0,o.Z)(function*(){const I=yield y().call(D,m);return D.localCache[m]=JSON.stringify(I),I})()}_remove(m){var y=()=>super._remove,D=this;return(0,o.Z)(function*(){yield y().call(D,m),delete D.localCache[m]})()}}return b.type="LOCAL",b})(),wn=(()=>{class b extends dr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,y){}_removeListener(m,y){}}return b.type="SESSION",b})();let Jn=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const y=this.receivers.find(I=>I.isListeningto(m));if(y)return y;const D=new b(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var y=this;return(0,o.Z)(function*(){const D=m,{eventId:I,eventType:U,data:J}=D.data,Pe=y.handlersMap[U];if(!(null==Pe?void 0:Pe.size))return;D.ports[0].postMessage({status:"ack",eventId:I,eventType:U});const Me=Array.from(Pe).map(function(){var Qe=(0,o.Z)(function*(zt){return zt(D.origin,J)});return function(zt){return Qe.apply(this,arguments)}}()),Ye=yield function cn(b){return Promise.all(b.map(function(){var p=(0,o.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(y){return{fulfilled:!1,reason:y}}});return function(m){return p.apply(this,arguments)}}()))}(Me);D.ports[0].postMessage({status:"done",eventId:I,eventType:U,response:Ye})})()}_subscribe(m,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(y)}_unsubscribe(m,y){this.handlersMap[m]&&y&&this.handlersMap[m].delete(y),(!y||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function no(b="",p=10){let m="";for(let y=0;y<p;y++)m+=Math.floor(10*Math.random());return b+m}class jo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,y=50){var D=this;return(0,o.Z)(function*(){const I="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let U,J;return new Promise((Pe,Me)=>{const Ye=no("",20);I.port1.start();const Qe=setTimeout(()=>{Me(new Error("unsupported_event"))},y);J={messageChannel:I,onMessage(zt){const ei=zt;if(ei.data.eventId===Ye)switch(ei.data.status){case"ack":clearTimeout(Qe),U=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Pe(ei.data.response);break;default:clearTimeout(Qe),clearTimeout(U),Me(new Error("invalid_response"))}}},D.handlers.add(J),I.port1.addEventListener("message",J.onMessage),D.target.postMessage({eventType:p,eventId:Ye,data:m},[I.port2])}).finally(()=>{J&&D.removeMessageHandler(J)})})()}}function At(){return window}function An(){return void 0!==At().WorkerGlobalScope&&"function"==typeof At().importScripts}function Mn(){return(Mn=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Wm="firebaseLocalStorageDb",yu="firebaseLocalStorage",Ho="fbase_key";class ci{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ni(b,p){return b.transaction([yu],p?"readwrite":"readonly").objectStore(yu)}function Yn(){const b=indexedDB.open(Wm,1);return new Promise((p,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const y=b.result;try{y.createObjectStore(yu,{keyPath:Ho})}catch(D){m(D)}}),b.addEventListener("success",(0,o.Z)(function*(){const y=b.result;y.objectStoreNames.contains(yu)?p(y):(y.close(),yield function ia(){const b=indexedDB.deleteDatabase(Wm);return new ci(b).toPromise()}(),p(yield Yn()))}))})}function ra(b,p,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(b,p,m){const y=ni(b,!0).put({[Ho]:p,value:m});return new ci(y).toPromise()})).apply(this,arguments)}function Cc(){return(Cc=(0,o.Z)(function*(b,p){const m=ni(b,!1).get(p),y=yield new ci(m).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function hr(b,p){const m=ni(b,!0).delete(p);return new ci(m).toPromise()}const io=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,o.Z)(function*(){return m.db||(m.db=yield Yn()),m.db})()}_withRetries(m){var y=this;return(0,o.Z)(function*(){let D=0;for(;;)try{const I=yield y._openDb();return yield m(I)}catch(I){if(D++>3)throw I;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,o.Z)(function*(){return An()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,o.Z)(function*(){m.receiver=Jn._getInstance(function Nh(){return An()?self:null}()),m.receiver._subscribe("keyChanged",function(){var y=(0,o.Z)(function*(D,I){return{keyProcessed:(yield m._poll()).includes(I.key)}});return function(D,I){return y.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var y=(0,o.Z)(function*(D,I){return["keyChanged"]});return function(D,I){return y.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,o.Z)(function*(){var y,D;if(m.activeServiceWorker=yield function fr(){return Mn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new jo(m.activeServiceWorker);const I=yield m.sender._send("ping",{},800);!I||(null===(y=I[0])||void 0===y?void 0:y.fulfilled)&&(null===(D=I[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var y=this;return(0,o.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function bu(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:m},y.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Yn();return yield ra(m,Nr,"1"),yield hr(m,Nr),!0}catch(m){}return!1})()}_withPendingWrite(m){var y=this;return(0,o.Z)(function*(){y.pendingWrites++;try{yield m()}finally{y.pendingWrites--}})()}_set(m,y){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(I=>ra(I,m,y)),D.localCache[m]=y,D.notifyServiceWorker(m)}))})()}_get(m){var y=this;return(0,o.Z)(function*(){const D=yield y._withRetries(I=>function Sb(b,p){return Cc.apply(this,arguments)}(I,m));return y.localCache[m]=D,D})()}_remove(m){var y=this;return(0,o.Z)(function*(){return y._withPendingWrite((0,o.Z)(function*(){return yield y._withRetries(D=>hr(D,m)),delete y.localCache[m],y.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,o.Z)(function*(){const y=yield m._withRetries(U=>{const J=ni(U,!1).getAll();return new ci(J).toPromise()});if(!y)return[];if(0!==m.pendingWrites)return[];const D=[],I=new Set;for(const{fbase_key:U,value:J}of y)I.add(U),JSON.stringify(m.localCache[U])!==JSON.stringify(J)&&(m.notifyListeners(U,J),D.push(U));for(const U of Object.keys(m.localCache))m.localCache[U]&&!I.has(U)&&(m.notifyListeners(U,null),D.push(U));return D})()}notifyListeners(m,y){this.localCache[m]=y;const D=this.listeners[m];if(D)for(const I of Array.from(D))I(y)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(y)}_removeListener(m,y){this.listeners[m]&&(this.listeners[m].delete(y),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Cu(b,p){return bt(b,"POST","/v2/accounts/mfaSignIn:start",Rn(b,p))}function Yd(){return(Yd=(0,o.Z)(function*(b){return(yield bt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wl(b){return new Promise((p,m)=>{const y=document.createElement("script");y.setAttribute("src",b),y.onload=p,y.onerror=D=>{const I=qn("internal-error");I.customData=D,m(I)},y.type="text/javascript",y.charset="UTF-8",function Km(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(y)})}function wt(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Ba=1e12;class Va{constructor(p){this.auth=p,this.counter=Ba,this._widgets=new Map}render(p,m){const y=this.counter;return this._widgets.set(y,new Mu(p,this.auth.name,m||{})),this.counter++,y}reset(p){var m;const y=p||Ba;null===(m=this._widgets.get(y))||void 0===m||m.delete(),this._widgets.delete(y)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ba))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,o.Z)(function*(){var y;return null===(y=m._widgets.get(p||Ba))||void 0===y||y.execute(),""})()}}class Mu{constructor(p,m,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Se(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Eu(b){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<b;y++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ml=wt("rcb"),Lr=new Wt(3e4,6e4);class Kd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=At().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return Se(function Tu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(At().grecaptcha):new Promise((y,D)=>{const I=At().setTimeout(()=>{D(qn(p,"network-request-failed"))},Lr.get());At()[Ml]=()=>{At().clearTimeout(I),delete At()[Ml];const J=At().grecaptcha;if(!J)return void D(qn(p,"internal-error"));const Pe=J.render;J.render=(Me,Ye)=>{const Qe=Pe(Me,Ye);return this.counter++,Qe},this.hostLanguage=m,y(J)},wl(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Ml,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(I),D(qn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=At().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Du{load(p){return(0,o.Z)(function*(){return new Va(p)})()}clearedOneInstance(){}}const Oi="recaptcha",ui={theme:"light",type:"image"};class wc{constructor(p,m=Object.assign({},ui),y){this.parameters=m,this.type=Oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(y),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Se(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Du:new Kd,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),y=p.getAssertedRecaptcha();return y.getResponse(m)||new Promise(I=>{const U=J=>{!J||(p.tokenChangeListeners.delete(U),I(J))};p.tokenChangeListeners.add(U),p.isInvisible&&y.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(y=>y(m)),"function"==typeof p)p(m);else if("string"==typeof p){const y=At()[p];"function"==typeof y&&y(m)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const y=document.createElement("div");m.appendChild(y),m=y}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){Se(ft()&&!An(),p.auth,"internal-error"),yield function Mc(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ym(b){return Yd.apply(this,arguments)}(p.auth);Se(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ec{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Li._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function xu(){return(xu=(0,o.Z)(function*(b,p,m){const y=yn(b),D=yield oa(y,p,(0,F.m9)(m));return new Ec(D,I=>Fr(y,I))})).apply(this,arguments)}function Su(){return(Su=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b);yield oc(!1,y,"phone");const D=yield oa(y.auth,p,(0,F.m9)(m));return new Ec(D,I=>du(y,I))})).apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b),D=yield oa(y.auth,p,(0,F.m9)(m));return new Ec(D,I=>Ud(y,I))})).apply(this,arguments)}function oa(b,p,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(b,p,m){var y;const D=yield m.verify();try{let I;if(Se("string"==typeof D,b,"argument-error"),Se(m.type===Oi,b,"argument-error"),I="string"==typeof p?{phoneNumber:p}:p,"session"in I){const U=I.session;if("phoneNumber"in I)return Se("enroll"===U.type,b,"internal-error"),(yield bc(b,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Se("signin"===U.type,b,"internal-error");const J=(null===(y=I.multiFactorHint)||void 0===y?void 0:y.uid)||I.multiFactorUid;return Se(J,b,"missing-multi-factor-info"),(yield Cu(b,{mfaPendingCredential:U.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield Bd(b,{phoneNumber:I.phoneNumber,recaptchaToken:D});return U}}finally{m._reset()}})).apply(this,arguments)}function T(){return(T=(0,o.Z)(function*(b,p){yield ul((0,F.m9)(b),p)})).apply(this,arguments)}let x=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,y){return oa(this.auth,m,(0,F.m9)(y))}static credential(m,y){return Li._fromVerification(m,y)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:y,temporaryProof:D}=m;return y&&D?Li._fromTokenResponse(y,D):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function A(b,p){return p?ln(p):(Se(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class B extends gs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Zn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Zn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Zn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Y(b){return eo(b.auth,new B(b),b.bypassAuthState)}function ne(b){const{auth:p,user:m}=b;return Se(m,p,"internal-error"),dl(m,new B(b),b.bypassAuthState)}function De(b){return We.apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(b){const{auth:p,user:m}=b;return Se(m,p,"internal-error"),ul(m,new B(b),b.bypassAuthState)})).apply(this,arguments)}class ct{constructor(p,m,y,D,I=!1){this.auth=p,this.resolver=y,this.user=D,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,o.Z)(function*(y,D){p.pendingPromise={resolve:y,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(I){p.reject(I)}});return function(y,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,o.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:I,tenantId:U,error:J,type:Pe}=p;if(J)return void m.reject(J);const Me={auth:m.auth,requestUri:y,sessionId:D,tenantId:U||void 0,postBody:I||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(Me))}catch(Ye){m.reject(Ye)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Y;case"linkViaPopup":case"linkViaRedirect":return De;case"reauthViaPopup":case"reauthViaRedirect":return ne;default:mn(this.auth,"internal-error")}}resolve(p){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dt=new Wt(2e3,1e4);function It(){return(It=(0,o.Z)(function*(b,p,m){const y=yn(b);Mi(b,p,In);const D=A(y,m);return new sa(y,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Ln(){return(Ln=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b);Mi(y.auth,p,In);const D=A(y.auth,m);return new sa(y.auth,"reauthViaPopup",p,D,y).executeNotNull()})).apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b);Mi(y.auth,p,In);const D=A(y.auth,m);return new sa(y.auth,"linkViaPopup",p,D,y).executeNotNull()})).apply(this,arguments)}let sa=(()=>{class b extends ct{constructor(m,y,D,I,U){super(m,y,I,U),this.provider=D,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,o.Z)(function*(){const y=yield m.execute();return Se(y,m.auth,"internal-error"),y})()}onExecution(){var m=this;return(0,o.Z)(function*(){mi(1===m.filter.length,"Popup operations only handle one event");const y=no();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],y),m.authWindow.associatedEvent=y,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(qn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var y,D;this.pollId=(null===(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,dt.get())};m()}}return b.currentPopupAction=null,b})();const ji=new Map;class Tl extends ct{constructor(p,m,y=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,y),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,o.Z)(function*(){let y=ji.get(m.auth._key());if(!y){try{const I=(yield function TC(b,p){return Qd.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;y=()=>Promise.resolve(I)}catch(D){y=()=>Promise.reject(D)}ji.set(m.auth._key(),y)}return m.bypassAuthState||ji.set(m.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,y=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(y,p);if("unknown"!==p.type){if(p.eventId){const D=yield y.auth._redirectUserForId(p.eventId);if(D)return y.user=D,m().call(y,p);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Qd(){return(Qd=(0,o.Z)(function*(b,p){const m=Dl(p),y=Xd(b);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(m));return yield y._remove(m),D})).apply(this,arguments)}function Uh(b,p){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,o.Z)(function*(b,p){return Xd(b)._set(Dl(p),"true")})).apply(this,arguments)}function Jd(b,p){ji.set(b._key(),p)}function Xd(b){return ln(b._redirectPersistence)}function Dl(b){return si("pendingRedirect",b.config.apiKey,b.name)}function ef(){return(ef=(0,o.Z)(function*(b,p,m){const y=yn(b);Mi(b,p,In),yield y._initializationPromise;const D=A(y,m);return yield Uh(D,y),D._openRedirect(y,p,"signInViaRedirect")})).apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b);Mi(y.auth,p,In),yield y.auth._initializationPromise;const D=A(y.auth,m);yield Uh(D,y.auth);const I=yield nf(y);return D._openRedirect(y.auth,p,"reauthViaRedirect",I)})).apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(b,p,m){const y=(0,F.m9)(b);Mi(y.auth,p,In),yield y.auth._initializationPromise;const D=A(y.auth,m);yield oc(!1,y,p.providerId),yield Uh(D,y.auth);const I=yield nf(y);return D._openRedirect(y.auth,p,"linkViaRedirect",I)})).apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(b,p){return yield yn(b)._initializationPromise,Ou(b,p,!1)})).apply(this,arguments)}function Ou(b,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(b,p,m=!1){const y=yn(b),D=A(y,p),U=yield new Tl(y,D,m).execute();return U&&!m&&(delete U.user._redirectEventId,yield y._persistUserIfCurrent(U.user),yield y._setRedirectUser(null,p)),U})).apply(this,arguments)}function nf(b){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,o.Z)(function*(b){const p=no(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class As{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(p,y)&&(m=!0,this.sendToConsumer(p,y),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function rf(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qh(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var y;if(p.error&&!qh(p)){const D=(null===(y=p.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";m.onError(qn(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const y=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&y}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sl(p))}saveEventToCache(p){this.cachedEventUids.add(Sl(p)),this.lastProcessedEventTime=Date.now()}}function Sl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function qh({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Tc(b){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,o.Z)(function*(b,p={}){return bt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const eg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tg=/^https?/;function ku(){return(ku=(0,o.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Tc(b);for(const m of p)try{if(Ib(m))return}catch(y){}mn(b,"unauthorized-domain")})).apply(this,arguments)}function Ib(b){const p=on(),{protocol:m,hostname:y}=new URL(p);if(b.startsWith("chrome-extension://")){const U=new URL(b);return""===U.hostname&&""===y?"chrome-extension:"===m&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&U.hostname===y}if(!tg.test(m))return!1;if(eg.test(b))return y===b;const D=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const Ab=new Wt(3e4,6e4);function ig(){const b=At().___jsl;if(null==b?void 0:b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let Ol=null;function Ru(b){return Ol=Ol||function Pb(b){return new Promise((p,m)=>{var y,D,I;function U(){ig(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ig(),m(qn(b,"network-request-failed"))},timeout:Ab.get()})}if(null===(D=null===(y=At().gapi)||void 0===y?void 0:y.iframes)||void 0===D?void 0:D.Iframe)p(gapi.iframes.getContext());else{if(!(null===(I=At().gapi)||void 0===I?void 0:I.load)){const J=wt("iframefcb");return At()[J]=()=>{gapi.load?U():m(qn(b,"network-request-failed"))},wl(`https://apis.google.com/js/api.js?onload=${J}`).catch(Pe=>m(Pe))}U()}}).catch(p=>{throw Ol=null,p})}(b),Ol}const sf=new Wt(5e3,15e3),zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function og(b){const p=b.config;Se(p.authDomain,b,"auth-domain-config-required");const m=p.emulator?ko(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,y={apiKey:p.apiKey,appName:b.name,v:oe.SDK_VERSION},D=rg.get(b.config.apiHost);D&&(y.eid=D);const I=b._getFrameworks();return I.length&&(y.fw=I.join(",")),`${m}?${(0,F.xO)(y).slice(1)}`}function af(){return af=(0,o.Z)(function*(b){const p=yield Ru(b),m=At().gapi;return Se(m,b,"internal-error"),p.open({where:document.body,url:og(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zh,dontclear:!0},y=>new Promise(function(){var D=(0,o.Z)(function*(I,U){yield y.restyle({setHideOnLeave:!1});const J=qn(b,"network-request-failed"),Pe=At().setTimeout(()=>{U(J)},sf.get());function Me(){At().clearTimeout(Pe),I(y)}y.ping(Me).then(Me,()=>{U(J)})});return function(I,U){return D.apply(this,arguments)}}()))}),af.apply(this,arguments)}const Il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kb{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Al(b,p,m,y,D,I){Se(b.config.authDomain,b,"auth-domain-config-required"),Se(b.config.apiKey,b,"invalid-api-key");const U={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:y,v:oe.SDK_VERSION,eventId:D};if(p instanceof In){p.setDefaultLanguage(b.languageCode),U.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(U.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Pe,Me]of Object.entries(I||{}))U[Pe]=Me}if(p instanceof Co){const Pe=p.getScopes().filter(Me=>""!==Me);Pe.length>0&&(U.scopes=Pe.join(","))}b.tenantId&&(U.tid=b.tenantId);const J=U;for(const Pe of Object.keys(J))void 0===J[Pe]&&delete J[Pe];return`${function lf({config:b}){return b.emulator?ko(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(J).slice(1)}`}const xc="webStorageSupport";class Xn extends class Fb{constructor(p){this.factorId=p}_process(p,m,y){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,y);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ei("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xn(p)}_finalizeEnroll(p,m,y){return function _u(b,p){return bt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Rn(b,p))}(p,{idToken:m,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Bh(b,p){return bt(b,"POST","/v2/accounts/mfaSignIn:finalize",Rn(b,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wh=(()=>{class b{constructor(){}static assertion(m){return Xn._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var ro="@firebase/auth";class Yh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,o.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(y=>{p((null==y?void 0:y.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mo(){return window}function Vu(){return(Vu=(0,o.Z)(function*(b,p,m){var y;const{BuildInfo:D}=Mo();mi(p.sessionId,"AuthEvent did not contain a session ID");const I=yield cg(p.sessionId),U={};return ai()?U.ibi=D.packageName:fn()?U.apn=D.packageName:mn(b,"operation-not-supported-in-this-environment"),D.displayName&&(U.appDisplayName=D.displayName),U.sessionId=I,Al(b,m,p.type,void 0,null!==(y=p.eventId)&&void 0!==y?y:void 0,U)})).apply(this,arguments)}function Ii(){return(Ii=(0,o.Z)(function*(b){const{BuildInfo:p}=Mo(),m={};ai()?m.iosBundleId=p.packageName:fn()?m.androidPackageName=p.packageName:mn(b,"operation-not-supported-in-this-environment"),yield Tc(b,m)})).apply(this,arguments)}function Qh(){return(Qh=(0,o.Z)(function*(b,p,m){const{cordova:y}=Mo();let D=()=>{};try{yield new Promise((I,U)=>{let J=null;function Pe(){var Qe;I();const zt=null===(Qe=y.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof zt&&zt(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Me(){J||(J=window.setTimeout(()=>{U(qn(b,"redirect-cancelled-by-user"))},2e3))}function Ye(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}p.addPassiveListener(Pe),document.addEventListener("resume",Me,!1),fn()&&document.addEventListener("visibilitychange",Ye,!1),D=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",Ye,!1),J&&window.clearTimeout(J)}})}finally{D()}})).apply(this,arguments)}function cg(b){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,o.Z)(function*(b){const p=ug(b),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ug(b){if(mi(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),m=new Uint8Array(p);for(let y=0;y<b.length;y++)m[y]=b.charCodeAt(y);return m}(0,F.Pz)("authIdTokenMaxAge"),function uf(b){(0,oe._registerComponent)(new Rt.wA("auth",(p,{options:m})=>{const y=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),{apiKey:I,authDomain:U}=y.options;return((J,Pe)=>{Se(I&&!I.includes(":"),"invalid-api-key",{appName:J.name}),Se(!(null==U?void 0:U.includes(":")),"argument-error",{appName:J.name});const Me={apiKey:I,authDomain:U,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lu(b)},Ye=new jm(J,Pe,Me);return function il(b,p){const m=(null==p?void 0:p.persistence)||[],y=(Array.isArray(m)?m:[m]).map(ln);(null==p?void 0:p.errorMap)&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(y,null==p?void 0:p.popupRedirectResolver)}(Ye,m),Ye})(y,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,y)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Rt.wA("auth-internal",p=>{const m=yn(p.getProvider("auth").getImmediate());return new Yh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(ro,"0.21.1",function cf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,oe.registerVersion)(ro,"0.21.1","esm2017")}("Browser");class qu extends As{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function kl(b){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,o.Z)(function*(b){const p=yield ep()._get(Rl(b));return p&&(yield ep()._remove(Rl(b))),p})).apply(this,arguments)}function Xh(){const b=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const y=Math.floor(Math.random()*p.length);b.push(p.charAt(y))}return b.join("")}function ep(){return ln(La)}function Rl(b){return si("authEvent",b.config.apiKey,b.name)}function df(b){if(!(null==b?void 0:b.includes("?")))return{};const[p,...m]=b.split("?");return(0,F.zd)(m.join("?"))}function tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qn("no-auth-event")}}function Sc(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function hg(b=(0,F.z$)()){return!("file:"!==Sc()&&"ionic:"!==Sc()&&"capacitor:"!==Sc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function pg(){try{const b=self.localStorage,p=no();if(b)return b.setItem(p,"1"),b.removeItem(p),!function Kb(b=(0,F.z$)()){return function Fl(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function la(b=(0,F.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,F.hl)()}catch(b){return Gu()&&(0,F.hl)()}return!1}function Gu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function np(){return(function Wb(){return"http:"===Sc()||"https:"===Sc()}()||(0,F.ru)()||hg())&&!function Yb(){return(0,F.b$)()||(0,F.UG)()}()&&pg()&&!Gu()}function Wo(){return hg()&&"undefined"!=typeof document}function Zu(){return(Zu=(0,o.Z)(function*(){return!!Wo()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},Yo=Se,rp="persistence";function Wu(b){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(b){yield b._initializationPromise;const p=Jb(),m=si(rp,b.config.apiKey,b.name);p&&p.setItem(m,b._getPersistence())})).apply(this,arguments)}function Jb(){var b;try{return(null===(b=function Qb(){return"undefined"!=typeof window?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch(p){return null}}const Oc=Se;class ks{constructor(){this.browserResolver=ln(class Zh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wn,this._completeRedirectFn=Ou,this._overrideRedirectResult=Jd}_openPopup(p,m,y,D){var I=this;return(0,o.Z)(function*(){var U;mi(null===(U=I.eventManagers[p._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const J=Al(p,m,y,on(),D);return function sg(b,p,m,y=500,D=600){const I=Math.max((window.screen.availHeight-D)/2,0).toString(),U=Math.max((window.screen.availWidth-y)/2,0).toString();let J="";const Pe=Object.assign(Object.assign({},Il),{width:y.toString(),height:D.toString(),top:I,left:U}),Me=(0,F.z$)().toLowerCase();m&&(J=Sa(Me)?"_blank":m),On(Me)&&(p=p||"http://localhost",Pe.scrollbars="yes");const Ye=Object.entries(Pe).reduce((zt,[ei,mr])=>`${zt}${ei}=${mr},`,"");if(function au(b=(0,F.z$)()){var p;return ai(b)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Me)&&"_self"!==J)return function Fu(b,p){const m=document.createElement("a");m.href=b,m.target=p;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(y)}(p||"",J),new kb(null);const Qe=window.open(p||"",J,Ye);Se(Qe,b,"popup-blocked");try{Qe.focus()}catch(zt){}return new kb(Qe)}(p,J,no())})()}_openRedirect(p,m,y,D){var I=this;return(0,o.Z)(function*(){return yield I._originValidation(p),function Xi(b){At().location.href=b}(Al(p,m,y,on(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:I}=this.eventManagers[m];return D?Promise.resolve(D):(mi(I,"If manager is not set, promise should be"),I)}const y=this.initAndGetManager(p);return this.eventManagers[m]={promise:y},y.catch(()=>{delete this.eventManagers[m]}),y}initAndGetManager(p){var m=this;return(0,o.Z)(function*(){const y=yield function xC(b){return af.apply(this,arguments)}(p),D=new As(p);return y.register("authEvent",I=>(Se(null==I?void 0:I.authEvent,p,"invalid-auth-event"),{status:D.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=y,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(xc,{type:xc},D=>{var I;const U=null===(I=null==D?void 0:D[0])||void 0===I?void 0:I[xc];void 0!==U&&m(!!U),mn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ng(b){return ku.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return No()||Ys()||ai()}}),this.cordovaResolver=ln(class qb{constructor(){this._redirectPersistence=wn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ou,this._overrideRedirectResult=Jd}_initialize(p){var m=this;return(0,o.Z)(function*(){const y=p._key();let D=m.eventManagers.get(y);return D||(D=new qu(p),m.eventManagers.set(y,D),m.attachCallbackListeners(p,D)),D})()}_openPopup(p){mn(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,y,D){var I=this;return(0,o.Z)(function*(){!function Bb(b){var p,m,y,D,I,U,J,Pe,Me,Ye;const Qe=Mo();Se("function"==typeof(null===(p=null==Qe?void 0:Qe.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(m=null==Qe?void 0:Qe.BuildInfo)||void 0===m?void 0:m.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(I=null===(D=null===(y=null==Qe?void 0:Qe.cordova)||void 0===y?void 0:y.plugins)||void 0===D?void 0:D.browsertab)||void 0===I?void 0:I.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Pe=null===(J=null===(U=null==Qe?void 0:Qe.cordova)||void 0===U?void 0:U.plugins)||void 0===J?void 0:J.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(Ye=null===(Me=null==Qe?void 0:Qe.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===Ye?void 0:Ye.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const U=yield I._initialize(p);yield U.initialized(),U.resetRedirect(),function Ob(){ji.clear()}(),yield I._originValidation(p);const J=function Vb(b,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Xh(),postBody:null,tenantId:b.tenantId,error:qn(b,"no-auth-event")}}(p,y,D);yield function Ub(b,p){return ep()._set(Rl(b),p)}(p,J);const Pe=yield function Pl(b,p,m){return Vu.apply(this,arguments)}(p,J,m),Me=yield function ju(b){const{cordova:p}=Mo();return new Promise(m=>{p.plugins.browsertab.isAvailable(y=>{let D=null;y?p.plugins.browsertab.openUrl(b):D=p.InAppBrowser.open(b,function Mr(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),m(D)})})}(Pe);return function Kh(b,p,m){return Qh.apply(this,arguments)}(p,U,Me)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Uu(b){return Ii.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:y,handleOpenURL:D,BuildInfo:I}=Mo(),U=setTimeout((0,o.Z)(function*(){yield kl(p),m.onEvent(tp())}),500),J=function(){var Ye=(0,o.Z)(function*(Qe){clearTimeout(U);const zt=yield kl(p);let ei=null;zt&&(null==Qe?void 0:Qe.url)&&(ei=function zu(b,p){var m,y;const D=function jb(b){const p=df(b),m=p.link?decodeURIComponent(p.link):void 0,y=df(m).link,D=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return df(D).link||D||y||m||b}(p);if(D.includes("/__/auth/callback")){const I=df(D),U=I.firebaseError?function $u(b){try{return JSON.parse(b)}catch(p){return null}}(decodeURIComponent(I.firebaseError)):null,J=null===(y=null===(m=null==U?void 0:U.code)||void 0===m?void 0:m.split("auth/"))||void 0===y?void 0:y[1],Pe=J?qn(J):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:D,postBody:null}}return null}(zt,Qe.url)),m.onEvent(ei||tp())});return function(zt){return Ye.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,J);const Pe=D,Me=`${I.packageName.toLowerCase()}://`;Mo().handleOpenURL=function(){var Ye=(0,o.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(Me)&&J({url:Qe}),"function"==typeof Pe)try{Pe(Qe)}catch(zt){console.error(zt)}});return function(Qe){return Ye.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=wn,this._completeRedirectFn=Ou,this._overrideRedirectResult=Jd}_initialize(p){var m=this;return(0,o.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,y,D){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(p,m,y,D)})()}_openRedirect(p,m,y,D){var I=this;return(0,o.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(p,m,y,D)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Wo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Oc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const m=yield function ip(){return Zu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function sp(b){return b.unwrap()}function ap(b){return Vr(b)}function Vr(b){const{_tokenResponse:p}=b instanceof F.ZR?b.customData:b;if(!p)return null;if(!(b instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return x.credentialFromResult(b);const m=p.providerId;if(!m||"password"===m)return null;let y;switch(m){case"google.com":y=ws;break;case"facebook.com":y=Rr;break;case"github.com":y=Pa;break;case"twitter.com":y=ll;break;default:const{oauthIdToken:D,oauthAccessToken:I,oauthTokenSecret:U,pendingToken:J,nonce:Pe}=p;return I||U||D||J?J?m.startsWith("saml.")?Xr._create(m,J):Jr._fromParams({providerId:m,signInMethod:m,pendingToken:J,idToken:D,accessToken:I}):new Cs(m).credential({idToken:D,accessToken:I,rawNonce:Pe}):null}return b instanceof F.ZR?y.credentialFromError(b):y.credentialFromResult(b)}function Ur(b,p){return p.catch(m=>{throw m instanceof F.ZR&&function Xb(b,p){var m;const y=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==p?void 0:p.code))p.resolver=new ff(b,function vl(b,p){var m;const y=(0,F.m9)(b),D=p;return Se(p.customData.operationType,y,"argument-error"),Se(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,y,"argument-error"),xs._fromError(y,D)}(b,p));else if(y){const D=Vr(p),I=p;D&&(I.credential=D,I.tenantId=y.tenantId||void 0,I.email=y.email||void 0,I.phoneNumber=y.phoneNumber||void 0)}}(b,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:ap(m),additionalUserInfo:gu(m),user:xr.getOrCreate(D)}})}function Ic(b,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,o.Z)(function*(b,p){const m=yield p;return{verificationId:m.verificationId,confirm:y=>Ur(b,m.confirm(y))}})).apply(this,arguments)}class ff{constructor(p,m){this.resolver=m,this.auth=function gg(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ur(sp(this.auth),this.resolver.resolveSignIn(p))}}class xr{constructor(p){this._delegate=p,this.multiFactor=function Fh(b){const p=(0,F.m9)(b);return Ss.has(p)||Ss.set(p,na._fromUser(p)),Ss.get(p)}(p)}static getOrCreate(p){return xr.USER_MAP.has(p)||xr.USER_MAP.set(p,new xr(p)),xr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,o.Z)(function*(){return Ur(m.auth,du(m._delegate,p))})()}linkWithPhoneNumber(p,m){var y=this;return(0,o.Z)(function*(){return Ic(y.auth,function qo(b,p,m){return Su.apply(this,arguments)}(y._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,o.Z)(function*(){return Ur(m.auth,function ja(b,p,m){return Ha.apply(this,arguments)}(m._delegate,p,ks))})()}linkWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield Wu(yn(m.auth)),function tf(b,p,m){return function Xm(b,p,m){return xl.apply(this,arguments)}(b,p,m)}(m._delegate,p,ks)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,o.Z)(function*(){return Ur(m.auth,Ud(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ic(this.auth,function El(b,p,m){return Ua.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ur(this.auth,function Vi(b,p,m){return Ln.apply(this,arguments)}(this._delegate,p,ks))}reauthenticateWithRedirect(p){var m=this;return(0,o.Z)(function*(){return yield Wu(yn(m.auth)),function Jm(b,p,m){return function DC(b,p,m){return Go.apply(this,arguments)}(b,p,m)}(m._delegate,p,ks)})()}sendEmailVerification(p){return function Vo(b,p){return Wn.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,o.Z)(function*(){return yield function Tr(b,p){return Bo.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Gd(b,p){return pc((0,F.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function kh(b,p){return pc((0,F.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function tn(b,p){return T.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function $d(b,p){return bl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Ph(b,p,m){return zd.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xr.USER_MAP=new WeakMap;const qa=Se;let lp=(()=>{class b{constructor(m,y){if(this.app=m,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;qa(D,"invalid-api-key",{appName:m.name}),qa(D,"invalid-api-key",{appName:m.name});const I="undefined"!=typeof window?ks:void 0;this._delegate=y.initialize({options:{persistence:ey(D,m.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(Wr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,y){!function Th(b,p,m){const y=yn(b);Se(y._canInitEmulator,y,"emulator-config-failed"),Se(/^https?:\/\//.test(p),y,"invalid-emulator-scheme");const D=!!(null==m?void 0:m.disableWarnings),I=Dh(p),{host:U,port:J}=function Hm(b){const p=Dh(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!m)return{host:"",port:null};const y=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const I=D[1];return{host:I,port:vo(y.substr(I.length+1))}}{const[I,U]=y.split(":");return{host:I,port:vo(U)}}}(p);y.config.emulator={url:`${I}//${U}${null===J?"":`:${J}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:U,port:J,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function qm(){function b(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,m,y)}applyActionCode(m){return function ac(b,p){return jd.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ih(this._delegate,m)}confirmPasswordReset(m,y){return function pu(b,p,m){return gl.apply(this,arguments)}(this._delegate,m,y)}createUserWithEmailAndPassword(m,y){var D=this;return(0,o.Z)(function*(){return Ur(D._delegate,function lc(b,p,m){return _l.apply(this,arguments)}(D._delegate,m,y))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ah(b,p){return qd.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function xb(b,p){const m=Lo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,o.Z)(function*(){qa(np(),m._delegate,"operation-not-supported-in-this-environment");const y=yield function jh(b,p){return Zo.apply(this,arguments)}(m._delegate,ks);return y?Ur(m._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function $b(b,p){yn(b)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,y,D){const{next:I,error:U,complete:J}=Ku(m,y,D);return this._delegate.onAuthStateChanged(I,U,J)}onIdTokenChanged(m,y,D){const{next:I,error:U,complete:J}=Ku(m,y,D);return this._delegate.onIdTokenChanged(I,U,J)}sendSignInLinkToEmail(m,y){return function Db(b,p,m){return cc.apply(this,arguments)}(this._delegate,m,y)}sendPasswordResetEmail(m,y){return function Oh(b,p,m){return ml.apply(this,arguments)}(this._delegate,m,y||void 0)}setPersistence(m){var y=this;return(0,o.Z)(function*(){let D;switch(function mg(b,p){Yo(Object.values(Br).includes(p),b,"invalid-persistence-type"),(0,F.b$)()?Yo(p!==Br.SESSION,b,"unsupported-persistence-type"):(0,F.UG)()?Yo(p===Br.NONE,b,"unsupported-persistence-type"):Gu()?Yo(p===Br.NONE||p===Br.LOCAL&&(0,F.hl)(),b,"unsupported-persistence-type"):Yo(p===Br.NONE||pg(),b,"unsupported-persistence-type")}(y._delegate,m),m){case Br.SESSION:D=wn;break;case Br.LOCAL:D=(yield ln(io)._isAvailable())?io:La;break;case Br.NONE:D=bo;break;default:return mn("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ur(this._delegate,function en(b){return ic.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ur(this._delegate,Fr(this._delegate,m))}signInWithCustomToken(m){return Ur(this._delegate,function hu(b,p){return ea.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,y){return Ur(this._delegate,function Hd(b,p,m){return Fr((0,F.m9)(b),Ji.credential(p,m))}(this._delegate,m,y))}signInWithEmailLink(m,y){return Ur(this._delegate,function mu(b,p,m){return Es.apply(this,arguments)}(this._delegate,m,y))}signInWithPhoneNumber(m,y){return Ic(this._delegate,function Is(b,p,m){return xu.apply(this,arguments)}(this._delegate,m,y))}signInWithPopup(m){var y=this;return(0,o.Z)(function*(){return qa(np(),y._delegate,"operation-not-supported-in-this-environment"),Ur(y._delegate,function qt(b,p,m){return It.apply(this,arguments)}(y._delegate,m,ks))})()}signInWithRedirect(m){var y=this;return(0,o.Z)(function*(){return qa(np(),y._delegate,"operation-not-supported-in-this-environment"),yield Wu(y._delegate),function zo(b,p,m){return function $o(b,p,m){return ef.apply(this,arguments)}(b,p,m)}(y._delegate,m,ks)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function xi(b,p){return Hn.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Br,b})();function Ku(b,p,m){let y=b;"function"!=typeof b&&({next:y,error:p,complete:m}=b);const D=y;return{next:U=>D(U&&xr.getOrCreate(U)),error:p,complete:m}}function ey(b,p){const m=function op(b,p){const m=Jb();if(!m)return[];const y=si(rp,b,p);switch(m.getItem(y)){case Br.NONE:return[bo];case Br.LOCAL:return[io,wn];case Br.SESSION:return[wn];default:return[]}}(b,p);if("undefined"!=typeof self&&!m.includes(io)&&m.push(io),"undefined"!=typeof window)for(const y of[La,wn])m.includes(y)||m.push(y);return m.includes(bo)||m.push(bo),m}class hf{constructor(){this.providerId="phone",this._delegate=new x(sp(Q.Z.auth()))}static credential(p,m){return x.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}hf.PHONE_SIGN_IN_METHOD=x.PHONE_SIGN_IN_METHOD,hf.PROVIDER_ID=x.PROVIDER_ID;const cp=Se;class pf{constructor(p,m,y=Q.Z.app()){var D;cp(null===(D=y.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new wc(p,m,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function za(b){b.INTERNAL.registerComponent(new Rt.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),y=p.getProvider("auth");return new lp(m,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ji,FacebookAuthProvider:Rr,GithubAuthProvider:Pa,GoogleAuthProvider:ws,OAuthProvider:Cs,SAMLAuthProvider:Ms,PhoneAuthProvider:hf,PhoneMultiFactorGenerator:Wh,RecaptchaVerifier:pf,TwitterAuthProvider:ll,Auth:lp,AuthCredential:gs,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.3.1")}(Q.Z)},8766:(rt,be,R)=>{R.d(be,{Lj:()=>Be,X3:()=>je});var o=R(5861);let F,oe;const X=new WeakMap,ce=new WeakMap,fe=new WeakMap,q=new WeakMap,G=new WeakMap;let xe={get(_e,$,te){if(_e instanceof IDBTransaction){if("done"===$)return ce.get(_e);if("objectStoreNames"===$)return _e.objectStoreNames||fe.get(_e);if("store"===$)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return me(_e[$])},set:(_e,$,te)=>(_e[$]=te,!0),has:(_e,$)=>_e instanceof IDBTransaction&&("done"===$||"store"===$)||$ in _e};function he(_e){return"function"==typeof _e?function qe(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...$){return _e.apply(Ae(this),$),me(X.get(this))}:function(...$){return me(_e.apply(Ae(this),$))}:function($,...te){const de=_e.call(Ae(this),$,...te);return fe.set(de,$.sort?$.sort():[$]),me(de)}}(_e):(_e instanceof IDBTransaction&&function Ge(_e){if(ce.has(_e))return;const $=new Promise((te,de)=>{const ye=()=>{_e.removeEventListener("complete",ke),_e.removeEventListener("error",ae),_e.removeEventListener("abort",ae)},ke=()=>{te(),ye()},ae=()=>{de(_e.error||new DOMException("AbortError","AbortError")),ye()};_e.addEventListener("complete",ke),_e.addEventListener("error",ae),_e.addEventListener("abort",ae)});ce.set(_e,$)}(_e),((_e,$)=>$.some(te=>_e instanceof te))(_e,function le(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,xe):_e)}function me(_e){if(_e instanceof IDBRequest)return function ie(_e){const $=new Promise((te,de)=>{const ye=()=>{_e.removeEventListener("success",ke),_e.removeEventListener("error",ae)},ke=()=>{te(me(_e.result)),ye()},ae=()=>{de(_e.error),ye()};_e.addEventListener("success",ke),_e.addEventListener("error",ae)});return $.then(te=>{te instanceof IDBCursor&&X.set(te,_e)}).catch(()=>{}),G.set($,_e),$}(_e);if(q.has(_e))return q.get(_e);const $=he(_e);return $!==_e&&(q.set(_e,$),G.set($,_e)),$}const Ae=_e=>G.get(_e);function je(_e,$,{blocked:te,upgrade:de,blocking:ye,terminated:ke}={}){const ae=indexedDB.open(_e,$),kt=me(ae);return de&&ae.addEventListener("upgradeneeded",Kt=>{de(me(ae.result),Kt.oldVersion,Kt.newVersion,me(ae.transaction))}),te&&ae.addEventListener("blocked",()=>te()),kt.then(Kt=>{ke&&Kt.addEventListener("close",()=>ke()),ye&&Kt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),kt}function Be(_e,{blocked:$}={}){const te=indexedDB.deleteDatabase(_e);return $&&te.addEventListener("blocked",()=>$()),me(te).then(()=>{})}const nt=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],ot=new Map;function Xe(_e,$){if(!(_e instanceof IDBDatabase)||$ in _e||"string"!=typeof $)return;if(ot.get($))return ot.get($);const te=$.replace(/FromIndex$/,""),de=$!==te,ye=Oe.includes(te);if(!(te in(de?IDBIndex:IDBObjectStore).prototype)||!ye&&!nt.includes(te))return;const ke=function(){var ae=(0,o.Z)(function*(kt,...Kt){const Ri=this.transaction(kt,ye?"readwrite":"readonly");let at=Ri.store;return de&&(at=at.index(Kt.shift())),(yield Promise.all([at[te](...Kt),ye&&Ri.done]))[0]});return function(Kt){return ae.apply(this,arguments)}}();return ot.set($,ke),ke}!function Fe(_e){xe=_e(xe)}(_e=>P3(A3({},_e),{get:($,te,de)=>Xe($,te)||_e.get($,te,de),has:($,te)=>!!Xe($,te)||_e.has($,te)}))},5861:(rt,be,R)=>{function o(F,oe,le,pe,X,ce,fe){try{var q=F[ce](fe),G=q.value}catch(ie){return void le(ie)}q.done?oe(G):Promise.resolve(G).then(pe,X)}function Q(F){return function(){var oe=this,le=arguments;return new Promise(function(pe,X){var ce=F.apply(oe,le);function fe(G){o(ce,pe,X,fe,q,"next",G)}function q(G){o(ce,pe,X,fe,q,"throw",G)}fe(void 0)})}}R.d(be,{Z:()=>Q})}},rt=>{rt(rt.s=7458)}]);